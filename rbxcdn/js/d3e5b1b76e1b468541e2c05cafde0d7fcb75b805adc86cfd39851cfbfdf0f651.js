!function(){var e={8129:function(t,n,e){var a={"./configureGroupOneTimePayoutComponent.js":6144,"./configureGroupPayoutsComponent.js":6150,"./configureGroupRecurringPayoutComponent.js":6581,"./groupAddFunds.js":2071,"./groupPayoutsComponent.js":7662};function r(t){t=o(t);return e(t)}function o(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(a)},r.resolve=o,(t.exports=r).id=8129},3007:function(t,n,e){var a={"./groupPayoutsConstants.js":9218};function r(t){t=o(t);return e(t)}function o(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(a)},r.resolve=o,(t.exports=r).id=3007},3685:function(t,n,e){var a={"./addPayoutRecipientModalController.js":5609,"./configureGroupOneTimePayoutController.js":5361,"./configureGroupRecurringPayoutController.js":1519,"./groupAddFundsController.js":355,"./groupAddFundsModalController.js":3374,"./groupPayoutsController.js":2164};function r(t){t=o(t);return e(t)}function o(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(a)},r.resolve=o,(t.exports=r).id=3685},7699:function(t,n,e){var a={"./groupPayoutsService.js":4880};function r(t){t=o(t);return e(t)}function o(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(a)},r.resolve=o,(t.exports=r).id=7699},1622:function(t,n,e){var a={"./components/templates/addPayoutRecipientModal.html":8141,"./components/templates/configureGroupOneTimePayout.html":4905,"./components/templates/configureGroupPayouts.html":4369,"./components/templates/configureGroupRecurringPayout.html":6440,"./components/templates/groupAddFunds.html":9812,"./components/templates/groupAddFundsModal.html":4534,"./components/templates/groupPayouts.html":4274};function r(t){t=o(t);return e(t)}function o(t){if(e.o(a,t))return a[t];t=new Error("Cannot find module '"+t+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(a)},r.resolve=o,(t.exports=r).id=1622},726:function(t){function o(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(t){return t.split("/").pop().replace(".html","")}var n={importFilesUnderPath:function(t){t.keys().forEach(t)},templateCacheGenerator:function(t,n,a,r){return t.module(n,[]).run(["$templateCache",function(e){a&&a.keys().forEach(function(t){var n=o(s(t));e.put(n,a(t))}),r&&r.keys().forEach(function(t){var n=o(s(t));e.put(n,r(t).replace(/<\/?script[^>]*>/gi,""))})}])}};t.exports=n},6144:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"configure-group-one-time-payout",bindings:{groupId:"<",groupFunds:"<",reloadGroupFunds:"="},controller:"configureGroupOneTimePayoutController"};e(5141).Z.component("configureGroupOneTimePayout",a),n.default=a},6150:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"configure-group-payouts",bindings:{groupId:"<",groupFunds:"<",reloadGroupFunds:"="}};e(5141).Z.component("configureGroupPayouts",a),n.default=a},6581:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"configure-group-recurring-payout",bindings:{groupId:"<",groupFunds:"<"},controller:"configureGroupRecurringPayoutController"};e(5141).Z.component("configureGroupRecurringPayout",a),n.default=a},2071:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"group-add-funds",bindings:{group:"<"},controller:"groupAddFundsController"};e(5141).Z.component("groupAddFunds",a),n.default=a},7662:function(t,n,e){"use strict";e.r(n);var a={templateUrl:"group-payouts",bindings:{groupId:"<",groupFunds:"<"},controller:"groupPayoutsController"};e(5141).Z.component("groupPayouts",a),n.default=a},9218:function(t,n,e){"use strict";e.r(n);var a=e(792),e=e(5141),a={urls:{getPayoutsUrl:"".concat(a.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/payouts"),postGroupPayoutUrl:"".concat(a.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/payouts"),postGroupRecurringPayoutUrl:"".concat(a.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/payouts/recurring"),groupPayoutRestrictionUrl:"".concat(a.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/payout-restriction"),getAddFundsLatestUrl:"".concat(a.EnvironmentUrls.economyApi,"/v1/groups/{groupId}/addfunds/latest"),postAddFundsUrl:"".concat(a.EnvironmentUrls.economyApi,"/v1/groups/{groupId}/addfunds"),getUsersGroupPayoutEligibility:"".concat(a.EnvironmentUrls.economyApi,"/v1/groups/{groupId}/users-payout-eligibility")},payoutTypes:{Amount:"Amount",Percent:"Percentage"},apiPayoutTypes:{Amount:"FixedAmount",Percent:"Percentage"},payoutRecipientTypes:{User:"User",Group:"Group"},robuxIconHtml:'<span class="icon-robux-16x16"></span>',addFundsMaxRobuxDefault:1e7,addFundsErrorCodeMessages:{14:"Message.MaximumExceeded",16:"Message.InsufficentFunds"}};e.Z.constant("groupPayoutsConstants",a),n.default=a},5609:function(t,n,e){"use strict";e.r(n);e=e(5141);function a(t,o,n,e,s,a,u,i,d){o.params=e,o.addPayoutRecipient=function(){o.params.addPayoutRecipient(o.recipient),n.dismiss()},o.isUserAlreadyPayoutRecipient=function(n){var t=o.params.recipients.filter(function(t){return t.userId===n});return t&&0<t.length},o.selectUser=function(r){return t(function(e,a){return o.recipient={},o.layout.isLoadingUser=!0,o.isUserAlreadyPayoutRecipient(r.id)?(o.layout.isLoadingUser=!1,void a(i.get("Message.UserAlreadyAdded"))):void s.getUserRoleInGroup(r.id,o.params.groupId).then(function(n){n?d.getUserPayoutEligibility(o.params.groupId,r.id).then(function(t){"Eligible"===t.usersGroupPayoutEligibility[r.id]?(o.recipient.role=n.name,o.recipient.id=r.id,o.recipient.name=r.name,o.recipient.displayName=r.displayName,o.recipient.url=u.profilePageUrl(r.id),e()):a(i.get("Message.UserGroupPayoutIneligible"))}):a(i.get("Message.TargetUserNotInGroup"))},function(t){a(t)}).finally(function(){o.layout.isLoadingUser=!1})})},o.close=function(){n.dismiss()},o.init=function(){o.thumbnailTypes=a.thumbnailTypes,o.layout={},o.recipient={}},o.init()}a.$inject=["$q","$scope","$uibModalInstance","modalData","groupsService","thumbnailConstants","groupUtilityService","languageResource","groupPayoutsService"],e.Z.controller("addPayoutRecipientModalController",a),n.default=a},5361:function(t,n,e){"use strict";e.r(n);var i=e(792),e=e(5141);function a(e,n,t,a,r,o,s){var u=this;u.showAddPayoutRecipientModal=function(){var t={animation:!1,templateUrl:"add-payout-recipient-modal",controller:"addPayoutRecipientModalController",resolve:{modalData:{groupId:u.groupId,recipients:u.payouts.users,addPayoutRecipient:u.addPayoutRecipient}}};n.open(t)},u.addPayoutRecipient=function(t){var n=i.DisplayNames.Enabled()?t.displayName:t.name;u.payouts.users.push({userId:t.id,username:t.name,nameForDisplay:n,role:t.role,url:t.url,amount:0,calcAmount:0})},u.updatePayoutType=function(t){u.payouts.type=t,u.layout.maxPayoutValue=u.payouts.type===a.payoutTypes.Percent?100:u.payouts.revenue,u.resetPayout()},u.resetPayout=function(){u.payouts.users.forEach(function(t){t.amount=0,t.calcAmount=0}),u.payouts.remaining=u.payouts.revenue,u.payouts.paying=0,u.layout.fundsError=null},u.updatePayout=function(){var n=0;u.payouts.users.forEach(function(t){t.calcAmount=u.payouts.type===u.layout.payoutTypes.Amount?t.amount:Math.floor(u.payouts.revenue*(.01*t.amount)),n+=t.calcAmount});var t=u.payouts.revenue-n;t<0?(u.layout.fundsError=s.get("Message.NotEnoughFundsDistribute"),u.payouts.paying=n,u.payouts.remaining=0):(u.layout.fundsError=null,u.payouts.remaining=t,u.payouts.paying=n)},u.removeUser=function(t){u.payouts.users.splice(t,1),u.updatePayout()},u.getPayoutTypeLabel=function(t){var n=r.setTranslations();return n.payoutTypes[t]||a.payoutTypes[t]},u.sendPayment=function(){u.layout.isPayoutPending=!0;var t=a.apiPayoutTypes.Amount;u.payouts.type===u.layout.payoutTypes.Percent&&(t=u.layout.payoutTypes.Percent);var n=[];u.payouts.users.forEach(function(t){n.push({recipientId:t.userId,recipientType:a.payoutRecipientTypes.User,amount:t.amount})}),r.postGroupPayout(u.groupId,t,n).then(function(){var t=e("number")(u.payouts.paying,0);u.reloadGroupFunds().then(function(t){u.initPayouts(t)}).finally(function(){u.layout.isPayoutPending=!1}),o.success(s.get("Message.AmountPaidOut",{amount:t}))},function(t){o.warning(s.get("Message.DistributeFundsError")),u.layout.isPayoutPending=!1})},u.isDistributeButtonDisabled=function(){return u.layout.fundsError||0==u.payouts.users.length||0==u.payouts.paying||u.layout.isPayoutPending},u.initPayouts=function(t){u.layout.maxPayoutValue=t,u.payouts={users:[],paying:0,type:u.layout.payoutTypes.Amount,revenue:t,remaining:t}},u.loadPayoutRestriction=function(){u.layout.isLoading=!0,r.getGroupPayoutRestriction(u.groupId).then(function(t){u.layout.canUseOneTimePayout=t.canUseOneTimePayout},function(){u.layout.loadError=!0,$log.debug("Failed to load group payout restriction.")}).finally(function(){u.layout.isLoading=!1})};u.$onInit=function(){u.thumbnailTypes=t.thumbnailTypes,u.layout={payoutTypes:a.payoutTypes},u.loadPayoutRestriction(),u.initPayouts(u.groupFunds)}}a.$inject=["$filter","$uibModal","thumbnailConstants","groupPayoutsConstants","groupPayoutsService","systemFeedbackService","languageResource"],e.Z.controller("configureGroupOneTimePayoutController",a),n.default=a},1519:function(t,n,e){"use strict";e.r(n);var c=e(792),e=e(5141);function a(t,e,n,a,r,o,s,u,i,d){var l=this;l.showAddPayoutRecipientModal=function(){var t={animation:!1,templateUrl:"add-payout-recipient-modal",controller:"addPayoutRecipientModalController",resolve:{modalData:{groupId:l.groupId,recipients:l.payouts.users,addPayoutRecipient:l.addPayoutRecipient}}};n.open(t)},l.loadPayouts=function(){l.layout.isLoading=!0,e.getGroupPayoutRecipients(l.groupId).then(function(t){0===t.length&&(l.layout.isLoading=!1),t.forEach(function(t){var n=t.user,e=n.id,a=n.name,n=n.displayName,n=c.DisplayNames.Enabled()?n:a;l.payouts.users.push({userId:e,username:a,nameForDisplay:n,role:t.role.name,amount:t.percentage,url:i.profilePageUrl(e)}),l.payouts.paying=l.payouts.paying+t.percentage,l.payouts.userInput=""})},function(){l.layout.loadError=!0,a.debug("Failed to load group payout recipients.")}).finally(function(){l.layout.isLoading=!1})},l.addPayoutRecipient=function(t){var n=t.id,e=t.displayName,a=t.name,r=c.DisplayNames.Enabled()?e:a;l.payouts.users.push({userId:n,username:a,displayName:e,nameForDisplay:r,role:t.role,amount:0,url:t.url})},l.updatePayout=function(){var n=0;l.payouts.users.forEach(function(t){n+=t.amount});var t=100-n;l.layout.fundsError=t<0?d.get("Message.NotEnoughFundsDistribute"):null,l.payouts.paying=n},l.removeUser=function(t){l.payouts.users.splice(t,1),l.updatePayout()},l.updateRecurringPayout=function(){var t=s.apiPayoutTypes.Percent,n=[];l.payouts.users.forEach(function(t){n.push({recipientId:t.userId,recipientType:s.payoutRecipientTypes.User,amount:t.amount})}),e.postGroupRecurringPayout(l.groupId,t,n).then(function(){u.success(d.get("Message.PercentagePaidOut",{percentage:l.payouts.paying}))},function(t){u.warning(d.get("Message.UpdateRecurringPayoutError"))})},l.loadPayoutRestriction=function(){l.layout.isLoading=!0,e.getGroupPayoutRestriction(l.groupId).then(function(t){l.layout.canUseRecurringPayout=t.canUseRecurringPayout},function(){l.layout.loadError=!0,a.debug("Failed to load group payout restriction.")}).finally(function(){l.layout.isLoading=!1})};l.$onInit=function(){l.layout={},l.thumbnailTypes=o.thumbnailTypes,l.payouts={users:[],paying:0},l.loadPayoutRestriction(),l.loadPayouts()}}a.$inject=["groupsService","groupPayoutsService","$uibModal","$log","$filter","thumbnailConstants","groupPayoutsConstants","systemFeedbackService","groupUtilityService","languageResource"],e.Z.controller("configureGroupRecurringPayoutController",a),n.default=a},355:function(t,n,e){"use strict";e.r(n);var a=e(5141),u=e(792);function r(n,a,t,e,r){var o=this;function s(t,n){t=r.addFundsErrorCodeMessages[t]||"Message.GeneralAddFundsError";return a("translate")(t,n)}o.userId=u.CurrentUser.userId,o.userName=u.CurrentUser.name,o.addFunds=function(t){t={animation:!1,templateUrl:"group-add-funds-modal",controller:"groupAddFundsModalController",resolve:{modalData:{robuxAmount:t,CurrentUser:u.CurrentUser,group:o.group}}};n.open(t)},o.inputChanged=function(t,n){var e;n>o.addFundsMaxRobux?(e=a("number")(o.addFundsMaxRobux),o.inputError=s(14,{robux:e})):n>o.userBalance?o.inputError=s(16):o.inputError=void 0},o.isTransferDisabled=function(t){return"string"==typeof o.inputError||null===t||isNaN(t)};o.$onInit=function(){o.inputError=void 0,o.addFundsMaxRobux=r.addFundsMaxRobuxDefault,o.userBalance=o.addFundsMaxRobux,e.getUserCurrency(o.userId).then(function(t){o.userBalance=t||o.userBalance}),t.getAddFundsLatest(o.group.id).then(function(t){o.transactionDate=t.transactionDate,o.rateLimitInDays=t.rateLimitInDays,o.addFundsMaxRobux=t.addFundsMaxRobux||o.addFundsMaxRobux})}}r.$inject=["$uibModal","$filter","groupPayoutsService","groupsService","groupPayoutsConstants"],a.Z.controller("groupAddFundsController",r),n.default=r},3374:function(t,n,e){"use strict";e.r(n);e=e(5141);function a(t,n,e,a,r,o,s){t.params=a,t.addFunds=function(){r.postAddFunds(a.group.id,a.robuxAmount).then(function(t){location.reload()},function(t){t=n("translate")((t=(t=t).errors[0].code,o.addFundsErrorCodeMessages[t]||"Message.GeneralAddFundsError"));s.warning(t),e.close()})};var u=o.robuxIconHtml+n("number")(a.robuxAmount);t.robuxWithIcon='<span class="add-funds-robux">'.concat(u,"</span>"),t.close=function(){e.dismiss()}}a.$inject=["$scope","$filter","$uibModalInstance","modalData","groupPayoutsService","groupPayoutsConstants","systemFeedbackService"],e.Z.controller("groupAddFundsModalController",a),n.default=a},2164:function(t,n,e){"use strict";e.r(n);var a=e(5141),s=e(792);function r(t,n,e,a){var r=this;r.getRemainingPercentage=function(){var n=100;return r.recipients.forEach(function(t){n-=t.percentageData}),Math.ceil(n,0)};function o(){r.recipients=[],r.thumbnailTypes=e.thumbnailTypes,r.isDisplayNamesEnabled=s.DisplayNames.Enabled(),n.getGroupPayoutRecipients(r.groupId).then(function(t){r.recipients=t},function(){t.debug("Failed to load group payout recipients.")})}r.$onInit=o,r.$onChanges=o}r.$inject=["$log","groupPayoutsService","thumbnailConstants","groupPayoutsConstants"],a.Z.controller("groupPayoutsController",r),n.default=r},5141:function(t,n,e){"use strict";var a=e(792),r=e(5734),r=e.n(r)().module("groupPayouts",["robloxApp","groupPayoutsTemplates","thumbnails","groups","ui.bootstrap"]).config(["languageResourceProvider",function(t){var n=a.Lang.GroupsResources,n={"Label.AddFunds":n&&n["Label.AddFunds"]||"Add Funds","Label.AddFundsAmount":n&&n["Label.AddFundsAmount"]||"Amount","Action.Transfer":n&&n["Action.Transfer"]||"Transfer","Label.LastAddedFunds":n&&n["Label.LastAddedFunds"]||"Successful transfer from {userName} to {groupName} on {transferDate}.","Label.AddFundsPrompt":n&&n["Label.AddFundsPrompt"]||"Transfer from {userName} to {groupName}","Message.AddFundsLimitMessage":n&&n["Message.AddFundsLimitMessage"]||"Transfers subject to holds. You can only transfer robux to this group from your account once every {limit} days","Heading.AddFundsModal":n&&n["Heading.AddFundsModal"]||"Transfer Funds","Message.AddFundsModal":n&&n["Message.AddFundsModal"]||"Are you sure you want to transfer {robuxWithIcon} to {groupName}?","Label.IndividualToGroupTotal":n&&n["Label.IndividualToGroupTotal"]||"Individual to Group Robux Transfers (includes pending transfers)","Message.InsufficentFunds":n&&n["Message.InsufficentFunds"]||"Insufficent Robux Funds","Message.MaximumExceeded":n&&n["Message.MaximumExceeded"]||"The maximum amount of Robux eligible to be transferred is {robux}","Message.GeneralAddFundsError":n&&n["Message.GeneralAddFundsError"]||"Something Went Wrong","Message.UserGroupPayoutIneligible":n&&n["Message.UserGroupPayoutIneligible"]||"User is new to group and not yet eligible for payouts. Please try again later."};a.Lang.GroupsResources&&(t.setLanguageKeysFromFile(a.Lang.GroupsResources),t.setLanguageKeysFromFile(n))}]);n.Z=r},4880:function(t,n,e){"use strict";e.r(n);e=e(5141);function a(s,u,r,i,d,t,l){return{getGroupPayoutRecipients:function(o){var t={url:r("formatString")(d.urls.getPayoutsUrl,{groupId:o})};return u(function(a,r){return s.httpGet(t).then(function(t){var e=t.data.map(function(t){return{user:{id:t.user.userId,name:t.user.username,displayName:t.user.displayName},percentage:t.percentage}}),n=[];e.forEach(function(t){n.push(l.getUserRoleInGroup(t.user.id,o))}),u.all(n).then(function(t){for(var n=0;n<t.length;n++)e[n].role=t[n];a(e)},function(t){i.debug("--error waiting for userRoleInGroup promises---"),r(t)})},function(t){t=s.getApiErrorCodes(t);r(t[0]||0)})})},postGroupPayout:function(t,n,e){t={url:r("formatString")(d.urls.postGroupPayoutUrl,{groupId:t})},e={PayoutType:n,Recipients:e};return s.httpPost(t,e)},setTranslations:function(){return{payoutTypes:{Percentage:t.get("Label.Percentage"),Amount:t.get("Heading.Amount")}}},postGroupRecurringPayout:function(t,n,e){t={url:r("formatString")(d.urls.postGroupRecurringPayoutUrl,{groupId:t})},e={PayoutType:n,Recipients:e};return s.httpPost(t,e)},getGroupPayoutRestriction:function(t){var a={url:r("formatString")(d.urls.groupPayoutRestrictionUrl,{groupId:t})};return u(function(n,e){return s.httpGet(a).then(function(t){n(t)},function(t){t=s.getApiErrorCodes(t);e(t[0]||0)})})},getAddFundsLatest:function(t){var a={url:r("formatString")(d.urls.getAddFundsLatestUrl,{groupId:t})};return u(function(n,e){return s.httpGet(a).then(function(t){n(t)},function(t){t=s.getApiErrorCodes(t);e(t[0]||0)})})},postAddFunds:function(t,n){t={url:r("formatString")(d.urls.postAddFundsUrl,{groupId:t})},n={robuxAmount:n};return s.httpPost(t,n)},getUserPayoutEligibility:function(t,n){t={url:r("formatString")(d.urls.getUsersGroupPayoutEligibility,{groupId:t})},n={userIds:n};return s.httpGet(t,n)}}}a.$inject=["httpService","$q","$filter","$log","groupPayoutsConstants","languageResource","groupsService"],e.Z.factory("groupPayoutsService",a),n.default=a},8141:function(t){t.exports='<div id="add-payout-recipient"> <div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span class="icon-close"></span> </button> <div class="modal-title"> <h4 ng-bind="\'Label.AddPayoutRecipient\' | translate"></h4> </div> </div> <div class="modal-body"> <p class="body-text text-description" ng-bind="\'Label.EnterPayoutRecipient\' | translate"></p> <search-dropdown target-type="User" select="selectUser"></search-dropdown> <div class="avatar-card"> <span class="spinner spinner-sm" ng-show="layout.isLoadingUser"></span> <div class="avatar-card-container" ng-if="recipient.id" ng-hide="layout.isLoadingUser"> <div class="avatar avatar-headshot avatar-headshot-sm"> <a class="avatar-card-link" ng-href="{{ recipient.url }}" target="_blank"> <thumbnail-2d class="avatar-card-image" thumbnail-type="thumbnailTypes.avatarHeadshot" thumbnail-target-id="recipient.id"></thumbnail-2d> </a> </div> <div class="avatar-card-caption"> <div class="avatar-name text-overflow" ng-bind="recipient.name"></div> <div class="avatar-card-label text-secondary text-overflow" ng-bind="recipient.role"></div> </div> </div> </div> </div> <div class="modal-buttons" toggle-loading="" is-inline="true" is-loading="layout.isLoading"> <button type="button" class="modal-button btn-primary-md" ng-disabled="layout.isLoadingUser || !recipient.id" ng-click="addPayoutRecipient()" ng-bind="\'Action.OK\' | translate"></button> <button type="button" class="modal-button btn-secondary-md" ng-click="close()" ng-bind="\'Action.Cancel\' | translate"></button> </div> </div>'},4905:function(t){t.exports='<div class="container-header"> <h3 ng-bind="\'Heading.OneTimePayout\' | translate"></h3> </div> <div class="section"> <div class="spinner spinner-default" ng-show="$ctrl.layout.isLoading"></div> <div ng-show="!$ctrl.layout.isLoading && $ctrl.layout.loadError" class="section-content-off" ng-bind="\'Message.LoadPayoutsError\' | translate"> </div> <div class="section-content-off" ng-show="!$ctrl.layout.isLoading &&\r\n    !$ctrl.layout.loadError && $ctrl.groupFunds == 0" ng-bind="\'Message.NoFundsDistribute\' | translate"> </div> <div class="section-content-off" ng-show="!$ctrl.layout.isLoading &&\r\n    !$ctrl.layout.loadError && $ctrl.groupFunds > 0 && !$ctrl.layout.canUseOneTimePayout" ng-bind="\'Message.PayoutRestricted\' | translate"> </div> <div class="one-time-payout" ng-show="!$ctrl.layout.isLoading &&\r\n    !$ctrl.layout.loadError && $ctrl.groupFunds > 0 && $ctrl.layout.canUseOneTimePayout"> <div class="distribute-header"> <span class="distribute-by-text" ng-bind="\'Label.DistributeBy\' | translate"></span> <div class="input-group"> <div class="input-group-btn dropdown" uib-dropdown=""> <button type="button" uib-dropdown-toggle="" class="input-dropdown-btn" ng-disabled="$ctrl.layout.isPayoutPending"> <span class="rbx-selection-label" data-bind="label" ng-bind="$ctrl.getPayoutTypeLabel($ctrl.payouts.type)"></span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" role="menu" uib-dropdown-menu=""> <li ng-repeat="type in $ctrl.layout.payoutTypes"> <a ng-click="$ctrl.updatePayoutType(type)" ng-bind="$ctrl.getPayoutTypeLabel(type)"></a> </li> </ul> </div> </div> </div> <button class="btn-secondary-md add-payout-recipient-button" ng-click="$ctrl.showAddPayoutRecipientModal()" ng-disabled="$ctrl.layout.isPayoutPending" ng-bind="\'Label.AddPayoutRecipient\' | translate"></button> <table class="table table-striped payouts"> <tbody> <tr> <td class="user"></td> <td class="amount"></td> <td class="delete"></td> </tr> <tr ng-repeat="user in $ctrl.payouts.users"> <td class="user"> <div class="avatar-card"> <div class="avatar avatar-headshot avatar-headshot-xs"> <a ng-href="{{\'users\' | seoUrl: user.userId:\'profile\' }}" class="avatar-card-link"> <thumbnail-2d class="avatar-card-image" thumbnail-type="$ctrl.thumbnailTypes.avatarHeadshot" thumbnail-target-id="user.userId"></thumbnail-2d> </a> </div> <div class="avatar-card-caption"> <a ng-href="{{\'users\' | seoUrl: user.userId:\'profile\' }}" class="avatar-card-name text-lead text-overflow" ng-bind="user.nameForDisplay"></a> <div class="avatar-card-label text-secondary text-overflow" ng-bind="user.role"></div> </div> </div> </td> <td class="amount"> <div ng-class="{\'display-calc\': $ctrl.payouts.type == \'Percentage\'}" class="form-group payout-input"> <span class="amount"> <span ng-if="$ctrl.payouts.type == \'Amount\'" class="robux icon-robux-16x16"></span> <input ng-keyup="$ctrl.updatePayout(user.userId)" ng-model="user.amount" class="form-control input-field input-number" type="number" min="0" max="{{ $ctrl.layout.maxPayoutValue }}" oninput="validity.valid?this.save=value:value=this.save" ng-disabled="$ctrl.layout.isPayoutPending"/> <span ng-if="$ctrl.payouts.type == \'Percentage\'" class="percent">%</span> </span> <span ng-if="$ctrl.payouts.type == \'Percentage\'" class="calc icon-robux-container"> <span class="icon-robux-16x16"></span> <span ng-bind="user.calcAmount | number:0"></span> </span> </div> </td> <td class="delete"> <span ng-click="$ctrl.removeUser($index)" class="delete-btn icon-trash-bin"></span> </td> </tr> <tr> <td colspan="2"> <div class="payout-calc"> <div class="icon-robux-container"> <span ng-bind="\'Label.PayingOut\' | translate"></span> <span class="icon-robux-16x16"></span> <span ng-bind="$ctrl.payouts.paying | number:0"></span> </div> <div class="icon-robux-container"> <span ng-bind="\'Label.RemainingFunds\' | translate"></span> <span class="icon-robux-16x16"></span> <span ng-bind="$ctrl.payouts.remaining | number:0"></span> </div> <div class="text-error" ng-if="$ctrl.layout.fundsError" ng-bind="$ctrl.layout.fundsError"> </div> </div> </td> <td></td> </tr> </tbody> </table> <div class="input-group-btn" toggle-loading="" is-inline="true"> <button type="button" class="save-button btn-primary-md" ng-disabled="$ctrl.isDistributeButtonDisabled()" ng-click="$ctrl.sendPayment()" ng-bind="\'Action.Distribute\' | translate"></button> </div> </div> </div>'},4369:function(t){t.exports='<div class="rbx-tabs-horizontal"> <ul id="horizontal-tabs" class="nav nav-tabs" role="tablist"> <li class="rbx-tab" ng-class="{active : !$ctrl.isOneTimePayoutActiveTab}" ng-click="$ctrl.isOneTimePayoutActiveTab = false"> <a class="rbx-tab-heading"> <span class="text-lead" ng-bind="\'Heading.RecurringPayout\' | translate"></span> </a> </li> <li class="rbx-tab" ng-class="{active : $ctrl.isOneTimePayoutActiveTab}" ng-click="$ctrl.isOneTimePayoutActiveTab = true"> <a class="rbx-tab-heading"> <span class="text-lead" ng-bind="\'Heading.OneTimePayout\' | translate"></span> </a> </li> </ul> <configure-group-recurring-payout ng-if="!$ctrl.isOneTimePayoutActiveTab" group-id="$ctrl.groupId" group-funds="$ctrl.groupFunds"></configure-group-recurring-payout> <configure-group-one-time-payout ng-if="$ctrl.isOneTimePayoutActiveTab" group-id="$ctrl.groupId" group-funds="$ctrl.groupFunds" reload-group-funds="$ctrl.reloadGroupFunds"></configure-group-one-time-payout> </div>'},6440:function(t){t.exports='<div class="container-header"> <h3 ng-bind="\'Heading.RecurringPayout\' | translate"></h3> </div> <div class="section"> <div class="spinner spinner-default" ng-show="$ctrl.layout.isLoading"></div> <div ng-show="!$ctrl.layout.isLoading && $ctrl.layout.loadError" class="section-content-off" ng-bind="\'Message.LoadPayoutsError\' | translate"> </div> <div class="section-content-off" ng-show="!$ctrl.layout.isLoading &&\r\n        !$ctrl.layout.loadError && !$ctrl.layout.canUseRecurringPayout && $ctrl.groupFunds == 0" ng-bind="\'Message.NoFundsDistribute\' | translate"> </div> <div class="section-content-off" ng-show="!$ctrl.layout.isLoading &&\r\n        !$ctrl.layout.loadError && !$ctrl.layout.canUseRecurringPayout && $ctrl.groupFunds > 0" ng-bind="\'Message.PayoutRestricted\' | translate"> </div> <div ng-show="!$ctrl.layout.isLoading && !$ctrl.layout.loadError && $ctrl.layout.canUseRecurringPayout" class="recurring-payout"> <button class="btn-secondary-md add-payout-recipient-button" ng-click="$ctrl.showAddPayoutRecipientModal()" ng-bind="\'Label.AddPayoutRecipient\' | translate"></button> <table class="table table-striped payouts"> <tbody> <tr> <td class="user"></td> <td class="amount"></td> <td class="delete"></td> </tr> <tr ng-repeat="user in $ctrl.payouts.users"> <td class="user"> <div class="avatar-card"> <div class="avatar avatar-headshot avatar-headshot-xs"> <a class="avatar-card-link" ng-href="{{\'users\' | seoUrl: user.userId:\'profile\' }}"> <thumbnail-2d class="avatar-card-image" thumbnail-type="$ctrl.thumbnailTypes.avatarHeadshot" thumbnail-target-id="user.userId"></thumbnail-2d> </a> </div> <div class="avatar-card-caption"> <a class="avatar-card-name text-lead text-overflow" ng-href="{{\'users\' | seoUrl: user.userId:\'profile\' }}" ng-bind="user.nameForDisplay"></a> <div class="avatar-card-label text-secondary text-overflow" ng-bind="user.role"></div> </div> </div> </td> <td class="amount"> <div class="form-group payout-input"> <input ng-keyup="$ctrl.updatePayout(user.userId)" ng-model="user.amount" class="form-control input-field input-number" type="number" min="0" max="100" oninput="validity.valid?this.save=value:value=this.save"/> <span class="percent">%</span> </div> </td> <td class="delete"> <span ng-click="$ctrl.removeUser($index)" class="delete-btn icon-trash-bin"></span> </td> </tr> <tr> <td colspan="2"> <div class="payout-calc"> <div> <span ng-bind="\'Label.PayingOut\' | translate"></span> <span ng-bind="$ctrl.payouts.paying | number:0"></span>% </div> <div> <span ng-bind="\'Label.RevenueToGroupFund\' | translate"></span> <span ng-bind="100 - $ctrl.payouts.paying | number:0"></span>% </div> <div class="text-error" ng-if="$ctrl.layout.fundsError" ng-bind="$ctrl.layout.fundsError"> </div> </div> </td> <td></td> </tr> </tbody> </table> <div class="input-group-btn" toggle-loading="" is-inline="true" is-loading="$ctrl.layout.isLoading"> <button type="button" class="save-button btn-secondary-md" ng-disabled="$ctrl.layout.fundsError" ng-click="$ctrl.updateRecurringPayout()" ng-bind="\'Action.Save\' | translate"></button> </div> </div> </div>'},9812:function(t){t.exports='<div id="add-funds" class="section"> <div class="container-header"> <h3 class="group-title-with-input" ng-bind="\'Label.AddFunds\' | translate"></h3> </div> <div ng-show="$ctrl.transactionDate" class="section-content remove-panel"> <div ng-bind="\'Label.LastAddedFunds\' | translate : { userName: $ctrl.userName, groupName: $ctrl.group.name, transferDate: $ctrl.transactionDate }"> </div> </div> <div ng-hide="$ctrl.transactionDate" class="section-content remove-panel"> <h4 class="add-funds-prompt font-header-2" ng-bind="\'Label.AddFundsPrompt\' | translate : { userName: $ctrl.userName, groupName: $ctrl.group.name}"></h4> <label class="text-label" for="robux-amount"> <span ng-bind="\'Label.AddFundsAmount\' | translate" class="ng-binding"></span> </label> <div class="form-group form-has-feedback" ng-class="{ \'form-has-error\': $ctrl.inputError }"> <span class="form-icon icon-robux-16x16"></span> <div class="add-funds-input"> <input id="robux-amount" class="form-control input-field input-number" type="number" ng-keyup="$ctrl.inputChanged($event, params.robuxAmount)" ng-model="params.robuxAmount"/> <p class="form-control-label" ng-bind-html="$ctrl.inputError"></p> </div> <button type="button" class="btn-secondary-md btn-action" ng-disabled="$ctrl.isTransferDisabled(params.robuxAmount)" ng-click="$ctrl.addFunds(params.robuxAmount)" ng-bind="\'Action.Transfer\' | translate"></button> </div> </div> <div ng-bind="\'Message.AddFundsLimitMessage\' | translate : { limit: $ctrl.rateLimitInDays }"></div> </div> '},4534:function(t){t.exports='<div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span class="icon-close"></span> </button> <div class="modal-title"> <h4 ng-bind="\'Heading.AddFundsModal\' | translate"></h4> </div> </div> <div class="modal-body"> <p class="body-text text-description" ng-bind-html="\'Message.AddFundsModal\' | translate : { groupName: params.group.name, robuxWithIcon: robuxWithIcon }"></p> </div> <div class="modal-buttons"> <button type="button" class="modal-button btn-secondary-md" ng-click="close()" ng-bind="\'Action.No\' | translate"></button> <button type="submit" class="modal-button btn-secondary-md" ng-click="addFunds()" ng-bind="\'Action.Yes\' | translate"></button> </div> '},4274:function(t){t.exports='<div class="section" ng-if="$ctrl.recipients.length > 0"> <div class="container-header"> <h3 ng-bind="\'Heading.Payouts\' | translate"></h3> </div> <div class="section-content remove-panel"> <table class="table"> <tr class="border-top" ng-repeat="recipient in $ctrl.recipients"> <td class="user"> <div class="avatar-card"> <div class="avatar avatar-headshot avatar-headshot-sm"> <a ng-href="{{ \'users\' | seoUrl:recipient.user.id:\'profile\' }}" class="avatar-card-link"> <thumbnail-2d class="avatar-card-image" thumbnail-type="$ctrl.thumbnailTypes.avatarHeadshot" thumbnail-target-id="recipient.user.id"></thumbnail-2d> </a> </div> <div class="avatar-card-caption"> <a ng-if="$ctrl.isDisplayNamesEnabled" class="avatar-card-name text-lead text-overflow" ng-href="{{\'users\' | seoUrl: recipient.user.id:\'profile\' }}" ng-bind="recipient.user.displayName"></a> <a ng-if="!$ctrl.isDisplayNamesEnabled" class="avatar-card-name text-lead text-overflow" ng-href="{{\'users\' | seoUrl: recipient.user.id:\'profile\' }}" ng-bind="recipient.user.name"></a> <div class="avatar-card-label text-secondary text-overflow" ng-bind="recipient.role.name"></div> </div> </div> </td> <td class="payout-percentage" ng-bind="recipient.percentage + \'%\'"></td> </tr> </table> </div> </div>'},7680:function(){},792:function(t){"use strict";t.exports=Roblox},5734:function(t){"use strict";t.exports=angular}},a={};function r(t){if(a[t])return a[t].exports;var n=a[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,{a:n}),n},r.d=function(t,n){for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";var t=r(5734),n=r.n(t),e=r(726),t=r(7680);r(5141),(0,e.importFilesUnderPath)(r(3685)),(0,e.importFilesUnderPath)(r(7699)),(0,e.importFilesUnderPath)(r(8129)),(0,e.importFilesUnderPath)(r(3007)),t=r(1622),(0,e.templateCacheGenerator)(n(),"groupPayoutsTemplates",t)}()}();
//# sourceMappingURL=/rbxcdn/js/15c2922d8550c69ad94e-groupPayouts.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GroupPayouts");