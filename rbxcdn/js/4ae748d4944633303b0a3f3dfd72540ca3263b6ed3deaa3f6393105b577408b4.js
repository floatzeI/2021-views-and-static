!function(){var n={779:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n)&&n.length){var a=l.apply(null,n);a&&e.push(a)}else if("object"==r)for(var i in n)o.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},r={};function Kn(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return n[e](t,t.exports,Kn),t.exports}Kn.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Kn.d(t,{a:t}),t},Kn.d=function(e,t){for(var n in t)Kn.o(t,n)&&!Kn.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Kn.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var c=CoreUtilities,_=React,Q=Kn.n(_),e=ReactDOM,S=ReactRouterDOM,t=ReactUtilities,n={common:["Common.GameSorts"],feature:"Feature.GamePage"},r=n,E=HeaderScripts,a=Kn(779),Y=Kn.n(a),P=ReactStyleGuide,i=PropTypes,a=Kn.n(i),o=Roblox,N=CoreRobloxUtilities,l=null!==o.CurrentUser&&void 0!==o.CurrentUser&&o.CurrentUser.userId?"gameSort_".concat(o.CurrentUser.userId):"gameSort_guest",s=o.EnvironmentUrls.gamesApi,I={gamesDefaultSortAlgorithm:"GamesDefaultSorts",gamesHomeSortAlgorithm:"HomeSorts",pageSizeOfHomeSorts:12,pageSize:40,getGameSortsWithDetaultSorts:{url:"".concat(s,"/v1/games/sorts"),withCredentials:!0},getGamesList:{url:"".concat(s,"/v1/games/list"),withCredentials:!0},getGameMedias:function(e){return{url:"".concat(s,"/v2/games/").concat(e,"/media"),withCredentials:!0}},getPlayabilityStatus:{url:"".concat(s,"/v1/games/multiget-playability-status"),withCredentials:!0},getRecommendedGames:function(e){return{url:"".concat(s,"/v1/games/recommendations/game/").concat(e),withCredentials:!0}},params:{sortToken:null,keyword:null,exclusiveStartId:null,isKeywordSuggestionEnabled:!0,hasMoreRows:!0,startRows:0,maxRows:60,gameSetTargetId:null},recommendedGamesParams:{maxRows:6},mediaTypes:{image:"Image",youtube:"YouTubeVideo"}};function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function d(e,r){var a=e||I.gamesDefaultSortAlgorithm,e={gameSortsContext:a};return p&&clearTimeout(p),c.httpService.get(I.getGameSortsWithDetaultSorts,e).then(function(e){var s,u,c,m,f,t,n=e.data;return null!=n&&n.sorts&&r&&(s=a,e=(t=n).sorts,u=t.timeFilters,c=t.pageContext,m=(new Date).getTime(),t=N.localStorageService.getLocalStorage(l)||{},f={},e.forEach(function(e,t){var n=e.token,r=e.displayName,a=e.name,i=e.gameSetTargetId,o=e.tokenExpiryInSeconds,l=e.contextCountryRegionId,e=e.timeOptionsAvailable;f[a]={name:a,displayName:r,token:n,gameSetTargetId:i,dateStoredTime:m,tokenExpiryInSeconds:o,gameSortContext:s,sortPosition:t,pageContext:c,contextCountryRegionId:l,timeOptionsAvailable:e,timeFilters:u}}),t=Object.assign(t,f),N.localStorageService.setLocalStorage(l,t),t=0<(null==(t=n.sorts)?void 0:t.length)?1e3*t[0].tokenExpiryInSeconds:36e5,p=setTimeout(function(){d()},t)),n})}var p=null,f=d,O=function(e){return c.httpService.get(I.getGamesList,e).then(function(e){return e.data})},b=function(e){var t=N.localStorageService.getLocalStorage(l);return t?t[e]:null},T=function(e,t){var n=m({},t);return n.hasMoreRows=e.hasMoreRows,e.hasMoreRows&&(e.nextPageExclusiveStartId?n.exclusiveStartId=e.nextPageExclusiveStartId:(e=t.startRows,t=t.maxRows,n.startRows=e+t)),n},h=function(e){var t=(new Date).getTime();return e.dateStoredTime+1e3*e.tokenExpiryInSeconds<t},w=function(r,e){return d(e,!0).then(function(e){var t,n=null;return 0<(null==e||null===(t=e.sorts)||void 0===t?void 0:t.length)&&(n=e.sorts.find(function(e){return e.name===r})),n})},x=function(e){var t=null;return e.forEach(function(e){"PastWeek"===e.name&&(t=e.token)}),t},R=RobloxThumbnails;function g(e){var t=e.game,n=e.isOneLine,e=e.handlePlayerInteraction,n=Y()("game-card-name game-name-title",{"game-name-oneline":n});return Q().createElement(Q().Fragment,null,e?Q().createElement("div",{className:n,title:t.name,onClick:e,role:"button","aria-hidden":!0},t.name):Q().createElement("div",{className:n,title:t.name},t.name))}g.defaultProps={isOneLine:!1,handlePlayerInteraction:null},g.propTypes={game:a().shape({name:a().string}).isRequired,isOneLine:a().bool,handlePlayerInteraction:a().func};var C=g;function v(e){var t=e.game,n=t.totalUpVotes,e=t.totalDownVotes,t=t.playerCount,n=function(e,t){var n=0;if(!Number.isNaN(e)&&!Number.isNaN(t)){if(0===e){if(0===t)return null;n=0}else n=0===t?100:Math.floor(e/(e+t)*100);100<n&&(n=100)}return"".concat(n,"%")}(n,e),e=c.abbreviateNumber.getAbbreviatedValue(t);return Q().createElement("div",{className:"game-card-info"},Q().createElement("span",{className:"info-label icon-votes-gray"}),n?Q().createElement("span",{className:"info-label vote-percentage-label"},n):Q().createElement("span",{className:"info-label no-vote"}),Q().createElement("span",{className:"info-label icon-playing-counts-gray"}),Q().createElement("span",{className:"info-label playing-counts-label",title:t},e))}v.propTypes={game:a().shape({universeId:a().number,playerCount:a().number,totalUpVotes:a().number,totalDownVotes:a().number}).isRequired};var D=v,y="Label.SponsoredAd";function j(e){e=e.translate;return Q().createElement("div",{className:"game-card-native-ad"},Q().createElement("span",{className:"font-footer native-ad-label"},e(y)))}j.propTypes={translate:a().func.isRequired};var k=j,L={notificationTypes:{gameFavoriteNotifications:"GameFavoriteNotifications",gameCloseNotifications:"GameCloseNotifications"},sortsNeedRealtimeUpdate:{myFavorite:"MyFavorite",myRecent:"MyRecent"},pageTypes:{home:"Home",gameDetail:"GameDetail"},maxNumOfGamesPerList:6,seeAllLinkLabel:"Action.SeeAll",NoGamesLabel:"Label.NoGames",seeAllClass:"see-all-button games-filter-changer btn-min-width btn-secondary-xs btn-more see-all-link-icon",deviceTypes:{computer:"Computer"}},A=function(e,t,n,r,a,i,o,l,s){var u=8<arguments.length&&void 0!==s&&s,s=e.placeId,e=e.nativeAdData,u={PageType:t,PlaceId:s,Position:n+1,IsLargeGameTile:u};t===L.pageTypes.gameDetail&&(u.RecommendationSourceId=l,u.RecommendationAlgorithm=2),e&&(u.NativeAdData=e),r&&(u.SortName=r),null!=a&&a.pageId&&(u.PageId=null==a?void 0:a.pageId),-1<i&&(u.SortPosition=i+1);u=c.urlService.getUrlWithQueries(N.entityUrl.game.getReferralPath(),u),o=o||(new Date).toISOString();return u="".concat(u,"&LocalTimestamp=").concat(o)},G=4,U="Label.ContextMenuTitle",M="Action.ViewDetails",q="Action.JoinGame",F={goToProfileInPlacesList:{name:"goToProfileInPlacesList",ctx:"click"},openModalFromGameTile:{name:"openModalFromGameTile",ctx:"click"},goToChatInPlacesList:{name:"goToChatInPlacesList",ctx:"click"},joinGameInPlacesList:{name:"joinGameInPlacesList",ctx:"click"},goToGameDetailInPlacesList:{name:"goToGameDetailInPlacesList",ctx:"click"},gamePlayIntentInPlacesList:{ctx:"placesListInHomePage"}};function z(e){var t=e.playerId,e=e.altName;return Q().createElement("div",{className:"avatar-card-link"},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.avatarHeadshot,size:R.ThumbnailAvatarHeadshotSize.size48,targetId:t,imgClassName:"avatar-card-image",format:R.ThumbnailFormat.png,altName:e}))}z.defaultProps={altName:""},z.propTypes={playerId:a().number.isRequired,altName:a().string};var V=z;function H(e){var t=e.friendsData,n=e.handlePlayerInteraction,i=e.friendsInGame,o=G,e=i.length,l=o<e?"+".concat(i.length-o+1):0,s={};return t.forEach(function(e){s[e.id]=e}),Q().createElement("ul",{className:"cursor-pointer game-card-avatar-slots",onClick:n,"aria-hidden":"true"},i.length&&i.map(function(e,t){if(t+1<o&&s[e]){var n=e+t,r=s[e],a=r.id,r=r.nameForDisplay;return Q().createElement("li",{key:n,className:"avatar avatar-headshot avatar-headshot-xs",title:r},Q().createElement(V,{playerId:a,altName:r}))}if(t+1===o&&s[e]&&i.length===o){a=e+t,r=s[e],e=r.id,r=r.nameForDisplay;return Q().createElement("li",{key:a,className:"avatar avatar-headshot avatar-headshot-xs",title:r},Q().createElement(V,{playerId:e,altName:r}))}return t+1===o&&i.length>o?Q().createElement("li",{className:"avatar avatar-headshot avatar-headshot-xs offset-card"},Q().createElement("span",{className:"xsmall avatar-offset-label"},l)):null}))}H.propTypes={friendsData:a().arrayOf(a().shape({presense:a().shape({userPresenceType:a().number}),id:a().number,nameForDisplay:a().string})).isRequired,handlePlayerInteraction:a().func.isRequired,friendsInGame:a().arrayOf(a().number).isRequired};var B,W,$=H,J=function(){return(J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},K=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};function X(e,n){return e.filter(function(e){var t;return(null===(t=e.presence)||void 0===t?void 0:t.universeId)===n&&(null===(e=e.presence)||void 0===e?void 0:e.userPresenceType)===o.Presence.PresenceTypes.InGame})}function Z(e){var t;return e&&(t=ee[e]),null!=e&&e.toLowerCase().includes("curated_")&&(t=ee.Curated),void 0===t&&(t=ee.Default),t}(i=B=B||{}).GameImpressions="gameImpressions",i.GameDetailReferral="gameDetailReferral",(i=W=W||{}).SearchPage="SearchPage",i.SortDetailPage="SortDetailPage",i.GameDetailPage="GameDetailPage",i.GamesPage="GamesPage",i.HomePage="HomePage";var ee={Default:0,Popular:1,TopFavorite:2,Featured:3,MyFavorite:5,MyRecent:6,Experimental:7,TopGrossing:8,TopPaid:9,Purchased:10,TopRated:11,BuildersClub:14,TopRetaining:16,FriendActivity:17,PersonalizedByLiked:18,PopularInVr:19,PopularInCountry:20,TrendingGames:21,UnifiedGames:22,Curated:23,PersonalRecommendation:24,MyLibrary:25},te=function(e){var t=e.pg,e=K(e,["pg"]);return[{name:B.GameDetailReferral,type:B.GameDetailReferral,context:t},ne(J(J({},e),{pg:t}))]},ne=function(n){return Object.keys(n).reduce(function(e,t){return"object"==typeof n[t]&&n[t]&&(e[t]=JSON.stringify(n[t])),"number"==typeof n[t]&&(e[t]=n[t]),"string"==typeof n[t]&&(e[t]=encodeURIComponent(n[t])),"boolean"==typeof n[t]&&(e[t]=n[t]?1:0),e},{})},i=c.abbreviateNumber.getAbbreviatedValue,re={getGameSortId:Z,parseEventParams:ne,getInGameFriends:X,getVotePercentage:function(e,t){var n=0;if(!Number.isNaN(e)&&!Number.isNaN(t)){if(0===e&&0===t)return;n=0===e&&0!==t?0:0!==e&&0===t||100<(n=Math.floor(e/(e+t)*100))?100:n}return n+"%"},getAbbreviatedValue:i};function ae(e){var t=e.game,n=e.translate,r=t.universeId,a=t.name,e=t.referralUrl,t=t.isPlayable,r=Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.gameIcon,size:R.DefaultThumbnailSize,targetId:r,imgClassName:"game-card-thumb",format:R.ThumbnailFormat.jpeg});return Q().createElement("div",{className:"border-bottom player-interaction-container"},Q().createElement("span",{className:"cursor-pointer game-icon"},Q().createElement(P.Link,{url:e,className:"game-card-link"},r)),Q().createElement("span",{className:"game-info-container"},Q().createElement(P.Link,{url:e,className:"game-name"},a),!t&&Q().createElement(P.Link,{url:e,className:"btn-control-sm game-link"},n(M))))}ae.propTypes={game:a().shape({universeId:a().number,placeId:a().number,name:a().string,playerCount:a().number,isShowSponsoredLabel:a().bool,nativeAdData:a().string,imageUrl:a().string,referralUrl:a().string,isPlayable:a().bool}).isRequired,translate:a().func.isRequired};var ie=ae;function oe(e){var t=e.playerData,i=e.dismissModal,n=e.isPlayable,r=e.translate,e=t.presence,o=e.rootPlaceId,l=e.placeId,s=e.gameId,u=t.id,t=t.nameForDisplay;return Q().createElement("div",{className:"border-bottom player-info"},Q().createElement("span",{className:"player-name"},t),Q().createElement(P.Button,{className:"cursor-pointer btn-primary-sm player-action",onClick:function(e){var t={rootPlaceId:o,placeId:l},n=N.playGameService.buildPlayGameProperties(o,l,s,u),r=F.joinGameInPlacesList,a=F.gamePlayIntentInPlacesList,a={eventName:r.name,ctx:r.ctx,properties:t,gamePlayIntentEventCtx:a.ctx};N.playGameService.launchGame(n,a),i(e)},isDisabled:!n},r(q)))}oe.propTypes={playerData:a().shape({presence:a().shape({rootPlaceId:a().number,placeId:a().number,gameId:a().string}),id:a().number,nameForDisplay:a().string}).isRequired,dismissModal:a().func.isRequired,isPlayable:a().bool.isRequired,translate:a().func.isRequired};var le=oe;function se(e){var t=e.friendsData,n=e.friendsInGame,a=e.dismissModal,i=e.isPlayable,o=e.translate,l={};return t.forEach(function(e){l[e.id]=e}),Q().createElement("div",{className:"interaction-container"},Q().createElement("ul",{className:"interaction-list"},n.map(function(e,t){var n=e+t,r=l[e],t=r.id,e=r.nameForDisplay;return Q().createElement("li",{key:n,className:"interaction-item","aria-hidden":"true"},Q().createElement("span",{className:"avatar avatar-headshot avatar-headshot-sm player-avatar"},Q().createElement(V,{playerId:t,altName:e})),Q().createElement(le,{playerData:r,dismissModal:a,isPlayable:i,translate:o}))})))}se.propTypes={friendsData:a().arrayOf(a().shape({presense:a().shape({rootPlaceId:a().number,placeId:a().number,gameId:a().string}),id:a().number,nameForDisplay:a().string})).isRequired,friendsInGame:a().arrayOf(a().number).isRequired,dismissModal:a().func.isRequired,isPlayable:a().bool.isRequired,translate:a().func.isRequired};var ue=se;function ce(e){var t=e.friendsData,n=e.friendsInGame,r=e.game,a=e.dismissModal,i=e.translate,e=i(U);return Q().createElement("div",null,Q().createElement(P.Modal.Header,{title:e,onClose:a}),Q().createElement(ie,{game:r,translate:i}),Q().createElement(ue,{friendsData:t,friendsInGame:n,dismissModal:a,isPlayable:r.isPlayable,translate:i}))}ce.propTypes={friendsData:a().arrayOf(a().shape({presense:a().shape({rootPlaceId:a().number,placeId:a().number,gameId:a().string}),id:a().number,nameForDisplay:a().string})).isRequired,friendsInGame:a().arrayOf(a().number).isRequired,game:a().shape({universeId:a().number,placeId:a().number,name:a().string,playerCount:a().number,isShowSponsoredLabel:a().bool,nativeAdData:a().string,imageUrl:a().string,referralUrl:a().string,isPlayable:a().bool}).isRequired,dismissModal:a().func.isRequired,translate:a().func.isRequired};var me=ce,fe={offline:{status:0,className:""},online:{status:1,className:"icon-online"},ingame:{status:2,className:"icon-game"},instudio:{status:3,className:"icon-studio"}},de=function(e,a){var i=[];return null!=e&&e.length&&e.forEach(function(e){var t,n,r;null!=e&&e.presence&&(n=(r=e.presence).universeId,r=r.userId,n===a&&(null==e||null===(t=e.presence)||void 0===t?void 0:t.userPresenceType)===fe.ingame.status&&i.push(r))}),i},pe=function(e,a,i,o){if(null==e||!e.length||null==a||!a.length)return null;var l=!1;return e.forEach(function(t){var n=t.userId,e=t.universeId,r=t.userPresenceType;e===o&&r===fe.ingame.status&&i.indexOf(n)<0?(l=!0,a.forEach(function(e){n===e.id&&(e.presence=t)})):r!==fe.ingame.status&&-1<i.indexOf(n)&&(l=!0,a.forEach(function(e){n===e.id&&(e.presence=t)}))}),l?a:null};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ve(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(i=Q().forwardRef(function(e,t){var n=e.game,r=e.pageType,a=e.index,i=e.sortName,o=e.pageContext,l=e.sortPosition,s=e.dateTime,u=e.friendsData,c=e.gameDetailPlaceId,m=n.universeId,f=A(n,r,a,i,o,l,s,c);n.referralUrl=f;var d=ye((0,_.useState)(u),2),p=d[0],g=d[1],v=ye((0,_.useState)([]),2),y=v[0],b=v[1],o=ye((0,_.useState)(de(u,m)),2),h=o[0],w=o[1],l=ye((0,_.useState)(!1),2),s=l[0],S=l[1],E=(0,_.useRef)(),d=function(){S(!0),E.current=!0},v=function(){null!=y&&y.length&&(w(de(y,m)),g(y),b([])),S(!1),E.current=!1},I=(0,_.useCallback)(function(e){null==e||!e.detail||null!=(e=pe(e.detail,u,h,m))&&e.length&&(E.current?b(e):(w(de(e,m)),g(e)))},[u,h,m]),o=Q().createElement("div",{className:"game-card-thumb-container"},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.gameIcon,size:R.DefaultThumbnailSize,targetId:n.universeId,containerClass:"game-card-thumb",format:R.ThumbnailFormat.jpeg,altName:n.name}));(0,_.useEffect)(function(){return null!=u&&u.length&&document.addEventListener("Roblox.Presence.Update",I),function(){null!=u&&u.length&&document.removeEventListener("Roblox.Presence.Update",I)}},[u,h,I,m]);l=function(){var e=te({pid:c,ad:n.isShowSponsoredLabel,pos:a,gameSetTypeId:Z(i),pg:r});N.eventStreamService.sendEvent.apply(N.eventStreamService,ve(e)),window.open(f,"_self")};return Q().createElement("div",{className:"game-card-container",ref:t},0<h.length&&Q().createElement(Q().Fragment,null,Q().createElement(P.Link,{onClick:l,url:f,className:"game-card-link",id:n.universeId},o),Q().createElement(C,{game:n,isOneLine:!0,handlePlayerInteraction:d}),Q().createElement($,{handlePlayerInteraction:d,friendsData:p,friendsInGame:h}),Q().createElement(P.Modal,{show:s,onHide:v,size:"lg"},Q().createElement(me,ge({friendsData:p,friendsInGame:h,game:n,dismissModal:v},e)))),0===h.length&&Q().createElement(P.Link,{onClick:l,url:f,className:"game-card-link",id:n.universeId},o,Q().createElement(C,{game:n}),n.isShowSponsoredLabel&&Q().createElement(k,e),!n.isShowSponsoredLabel&&Q().createElement(D,{game:n})))})).defaultProps={sortName:null,sortPosition:-1,pageContext:{pageId:null},dateTime:null,friendsData:[],gameDetailPlaceId:null},i.propTypes={game:a().shape({universeId:a().number,placeId:a().number,name:a().string,playerCount:a().number,isShowSponsoredLabel:a().bool,nativeAdData:a().string,referralUrl:a().string}).isRequired,pageType:a().string.isRequired,index:a().number.isRequired,sortName:a().string,pageContext:a().shape({pageId:a().string}),sortPosition:a().number,dateTime:a().string,friendsData:a().arrayOf(a().shape({presense:a().shape({userPresenceType:a().number}),id:a().number,nameForDisplay:a().string})),gameDetailPlaceId:a().number};var we=i;(i=function(e){var t=e.gameDescription,n=e.placeId;return Q().createElement("div",{className:"game-card-contents"},t&&Q().createElement("p",{className:"game-description font-caption-header"},t),Q().createElement(P.Button,{width:P.Button.widths.full,variant:P.Button.variants.growth,size:P.Button.sizes.extraSmall,onClick:function(){N.playGameService.launchGame(N.playGameService.buildPlayGameProperties(void 0,n),{eventName:"playGameClicked",ctx:"click",properties:{placeId:n},gamePlayIntentEventCtx:"PlayButton"})}},Q().createElement("span",{className:"icon-common-play"})))}).defaultProps={gameDescription:null},i.propTypes={gameDescription:a().string,placeId:a().number.isRequired};var Se=i;(i=Q().forwardRef(function(e,t){var n=e.game,r=e.pageType,a=e.index,i=e.sortName,o=e.pageContext,l=e.sortPosition,s=e.dateTime,u=n.placeId,c=n.universeId,m=n.gameDescription,s=A(n,r,a,i,o,l,s,u,!0);return n.referralUrl=s,Q().createElement("div",{className:"featured-game-container game-card-container",ref:t},Q().createElement(P.Link,{url:s,className:"game-card-link"},Q().createElement("div",{className:"thumb-container"},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.universeThumbnail,size:R.ThumbnailGameThumbnailSize.width576,targetId:c,imgClassName:"thumb",format:R.ThumbnailFormat.jpeg,altName:n.name}),Q().createElement("div",{className:"thumb-mask"})),Q().createElement("div",{className:"featured-game-icon-container"},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.gameIcon,size:R.ThumbnailGameIconSize.size512,targetId:c,containerClass:"brief-game-icon",format:R.ThumbnailFormat.jpeg,altName:n.name})),Q().createElement("div",{className:"info-container"},Q().createElement(C,{game:n}),n.isShowSponsoredLabel&&Q().createElement(k,e),!n.isShowSponsoredLabel&&Q().createElement(D,{game:n}))),Q().createElement(Se,{placeId:u,gameDescription:m}))})).defaultProps={sortName:null,sortPosition:-1,pageContext:{pageId:null},dateTime:null},i.propTypes={game:a().shape({universeId:a().number,placeId:a().number,name:a().string,gameDescription:a().string,playerCount:a().number,isShowSponsoredLabel:a().bool,nativeAdData:a().string,referralUrl:a().string}).isRequired,pageType:a().string.isRequired,index:a().number.isRequired,sortName:a().string,pageContext:a().shape({pageId:a().string}),sortPosition:a().number,dateTime:a().string};var Ee=i;function Ie(e){var t=e.scrollClassNames,n=e.scrollIconClassName,e=e.scroll;return Q().createElement("div",{className:t,onClick:e,role:"button","aria-hidden":!0},Q().createElement("div",{className:"arrow"},Q().createElement("span",{className:n})),Q().createElement("div",{className:"spacer"}))}function Pe(e){return(null==e?void 0:e.clientWidth)+14}function Ne(e,t){return Number.isNaN(t)?0:Math.floor(e/t)*t}Ie.propTypes={scrollClassNames:a().string.isRequired,scrollIconClassName:a().string.isRequired,scroll:a().func.isRequired};var Oe=Ie,Te="scroller prev",xe="scroller next",Re="icon-games-carousel-left",Ce="icon-games-carousel-right",De={left:"0px"},je={gameCarousel:"Games",gameSearch:"GameSearch",gameSeeAll:"GamesSeeAll"},ke=60,Le=60,Ae={featureGameTile:"featured-tile"},Ge=o.DeviceMeta&&(0,o.DeviceMeta)().isDesktop,Ue=16,Me=32,qe=function(e,t,n){return e+Ne(t,n)},Fe=function(e,t,n){return e-Ne(t,n)},ze=function(e){return null==e?void 0:e.clientHeight},Ve=function(e,t){return Number.isNaN(t)?0:Math.floor(e/t)},He=function(e){return 0===e},Be=function(e,t,n){return e<=Math.abs(n)+t},We=Pe;function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ye(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function Je(e){function a(e){T({left:"".concat(e,"px")})}function i(e,t){R({isPrevDisabled:e,isNextDisabled:t}),e=Y()(C,{disabled:e}),t=Y()(D,{disabled:t}),j({prev:e,next:t})}function t(e,n){var r=e,a=(e=F+ke)>(null==n?void 0:n.length)?null==n?void 0:n.length:e;r.forEach(function(e,t){t<L&&(r[t]={}),L<=t&&t<a&&(r[t]=n[t])}),q(L),z(a),H(r)}var r=e.gamesData,n=e.loadMore,o=e.name,l=(e.sortApiParams,e.pageContext),s=e.sortPosition,u=e.sortStyle,c=e.isInitializedLoading,m=Ye(e,["gamesData","loadMore","name","sortApiParams","pageContext","sortPosition","sortStyle","isInitializedLoading"]),f=(0,_.useRef)(),d=(0,_.useRef)(),p=(0,_.useRef)(),g=_e((0,_.useState)(null===(w=f.current)||void 0===w?void 0:w.clientWidth),2),v=g[0],y=g[1],e=_e((0,_.useState)(null!==(N=d.current)&&void 0!==N&&N.offsetLeft?null===(O=d.current)||void 0===O?void 0:O.offsetLeft:0),2),b=e[0],h=e[1],w=_e((0,_.useState)(We(p.current)),2),S=w[0],E=w[1],g=_e((0,_.useState)(Ve(v,S)),2),I=g[0],P=g[1],N=_e((0,_.useState)(De),2),O=N[0],T=N[1],e=_e((0,_.useState)({isPrevDisabled:!0,isNextDisabled:!1}),2),x=e[0],R=e[1],C=Te,D=xe,w=Re,g=Ce,N=_e((0,_.useState)({prev:C,next:D}),2),e=N[0],j=N[1],k=(0,_.useCallback)(function(e){var t,n=He(e),r=null===(t=d.current)||void 0===t?void 0:t.clientWidth,a=v;v||(a=null===(t=f.current)||void 0===t?void 0:t.clientWidth);e=Be(r,a,e);i(n,e)},[v,i]),N=_e((0,_.useState)(0),2),L=N[0],A=N[1],N=_e((0,_.useState)(r),2),G=N[0],U=N[1],N=_e((0,_.useState)(0),2),M=N[0],q=N[1],N=_e((0,_.useState)(20),2),F=N[0],z=N[1],N=_e((0,_.useState)([]),2),V=N[0],H=N[1],B=null,W=null,$=(0,_.useCallback)(function(e){x.isNextDisabled||(n(),e||((e=S)&&!Number.isNaN(e)||(e=We(p.current),E(e)),e=Fe(b,v,e),h(e),a(e),k(e),e=L+I,F<=L+2*I&&t(V,G),A(e)))});(0,_.useEffect)(function(){var e,t=We(p.current);Number.isNaN(t)||(E(function(){return t}),e=Ve(v,t),P(e))},[v]),(0,_.useEffect)(function(){function e(){var e;y(null===(e=f.current)||void 0===e?void 0:e.clientWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),(0,_.useEffect)(function(){var e;return c?(y(null===(e=f.current)||void 0===e?void 0:e.clientWidth),h(null===(e=d.current)||void 0===e?void 0:e.offsetLeft)):F<=L+2*I&&t(V,G),k(b),function(){}},[V]),(0,_.useEffect)(function(){var e,t,n;return null!=r&&r.length&&(U(r),V.length?(e=r.length,(t=V.length)<e&&(n=Array(e-t).fill({}),H(function(e){return e.concat(n)}))):(H(function(e){return e.concat(r)}),z(r.length))),function(){}},[r]);N=(0,_.useCallback)(function(){console.log("------listenScrollEvent------"),$(!0)},[$]);return Q().createElement("div",{className:"clearfix horizontal-scroll-window",ref:f},Q().createElement("div",{className:"horizontally-scrollable",style:O,onScroll:N,ref:d},Q().createElement("ul",{className:"hlist games game-cards game-tile-list"},0<V.length&&V.map(function(e,t){var n="".concat(e.universeId).concat(t);return u===Ae.featureGameTile?Q().createElement("li",{className:Y()("list-item hover-game-tile",{"first-tile":t===L},{"last-tile":t===L+I-1},{"visible-tile":L<=t&&t<=L+I-1}),id:e.universeId,key:n},(null==e?void 0:e.universeId)&&Q().createElement(Ee,$e({game:e,pageType:je.gameCarousel,ref:p,index:t,sortName:o,pageContext:l,sortPosition:s},m))):Q().createElement("li",{className:"list-item game-card game-tile",id:e.universeId,key:n,title:null==e?void 0:e.name},(null==e?void 0:e.universeId)&&Q().createElement(we,$e({game:e,pageType:je.gameCarousel,ref:p,index:t,sortName:o,pageContext:l,sortPosition:s},m)))}))),Q().createElement(Oe,$e({scrollClassNames:e.prev,scrollIconClassName:w,isDisabled:x.isPrevDisabled,scroll:function(){var e,n,r,t;return B||(x.isPrevDisabled||((e=S)&&!Number.isNaN(e)||(e=We(p.current),E(e)),t=qe(b,v,S),h(t),a(t),k(t),(e=L-I)<=M&&(r=(t=M-ke)<0?0:t,t=L,(n=V).forEach(function(e,t){L<t&&(n[t]={}),t<=L&&r<=t&&(n[t]=G[t])}),q(r),z(t),H(n)),A(e)),B=setTimeout(function(){clearTimeout(B)},200)),!1}},m)),Q().createElement(Oe,$e({scrollClassNames:e.next,scrollIconClassName:g,isDisabled:x.isNextDisabled,scroll:function(){return W||($(),W=setTimeout(function(){clearTimeout(W)},200)),!1}},m)))}Je.propTypes={gamesData:a().arrayOf(a().shape({universeId:a().number})).isRequired,loadMore:a().func.isRequired,name:a().string.isRequired,sortApiParams:a().shape({hasMoreRows:a().bool}).isRequired,pageContext:a().shape({pageId:a().string}).isRequired,sortPosition:a().number.isRequired,sortStyle:a().string.isRequired,isInitializedLoading:a().bool.isRequired,translate:a().func.isRequired};var Ke=Je;(i=Q().forwardRef(function(e,t){var n=e.game,r=e.pageType,a=e.index,i=e.sortName,o=e.pageContext,l=e.sortPosition,s=e.dateTime,u=n.placeId,c=n.universeId,u=A(n,r,a,i,o,l,s,u,!0);return n.referralUrl=u,Q().createElement("div",{className:"featured-game-container game-card-container",ref:t},Q().createElement(P.Link,{url:u,className:"game-card-link"},Q().createElement("div",{className:"thumb-container"},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.universeThumbnail,size:R.ThumbnailGameThumbnailSize.width576,targetId:c,imgClassName:"thumb",format:R.ThumbnailFormat.jpeg,altName:n.name}),Q().createElement("div",{className:"thumb-mask"})),Q().createElement("div",{className:"featured-game-icon-container"},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.gameIcon,size:R.DefaultThumbnailSize,targetId:c,containerClass:"brief-game-icon",format:R.ThumbnailFormat.jpeg,altName:n.name})),Q().createElement("div",{className:"info-container"},Q().createElement(C,{game:n}),n.isShowSponsoredLabel&&Q().createElement(k,e),!n.isShowSponsoredLabel&&Q().createElement(D,{game:n}))))})).defaultProps={sortName:null,sortPosition:-1,pageContext:{pageId:null},dateTime:null},i.propTypes={game:a().shape({universeId:a().number,placeId:a().number,name:a().string,gameDescription:a().string,playerCount:a().number,isShowSponsoredLabel:a().bool,nativeAdData:a().string,referralUrl:a().string}).isRequired,pageType:a().string.isRequired,index:a().number.isRequired,sortName:a().string,pageContext:a().shape({pageId:a().string}),sortPosition:a().number,dateTime:a().string};var Xe=i;function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function rt(e){var r=e.eventRef,t=e.gamesData,n=e.sort,a=e.isNumberRowsLimited,i=e.pageType,o=e.featureUniverseId,l=e.isDataFetching,s=e.sortPosition,u=e.pageContext,c=nt(e,["eventRef","gamesData","sort","isNumberRowsLimited","pageType","featureUniverseId","isDataFetching","sortPosition","pageContext"]),m=(0,_.useRef)(),f=n.numberOfRows,d=n.name,e=et((0,_.useState)({height:"auto"}),2),n=e[0],p=e[1];return(0,_.useEffect)(function(){var e;a&&m.current&&(e=ze(m.current)+12,p({height:"".concat(e*f,"px")}))},[m,a,f]),Q().createElement("div",{className:"multi-row clearfix game-grid-container",style:n},t&&t.map(function(e,t){var n="".concat(e.universeId).concat(t);return e.universeId===o?Q().createElement("li",{className:"featured-game-tile",key:n,title:null==e?void 0:e.name},Q().createElement(Xe,Ze({game:e,pageType:i,index:t,sortName:d,sortPosition:s,pageContext:u},c,{ref:m}))):Q().createElement("li",{ref:r,className:"game-card game-tile",key:n,title:null==e?void 0:e.name},Q().createElement(we,Ze({game:e,pageType:i,index:t,sortName:d,sortPosition:s,pageContext:u},c,{ref:m})))}),l?Q().createElement(P.Loading,null):null)}rt.defaultProps={eventRef:void 0,gamesData:[],isNumberRowsLimited:!1,sort:{numberOfRows:1},featureUniverseId:0,isDataFetching:!1,sortPosition:-1,pageContext:{pageId:null}},rt.propTypes={eventRef:a().oneOfType([a().func,a().shape({current:a().instanceOf(Element)})]),gamesData:a().arrayOf(a().shape({universeId:a().number})),sort:a().shape({numberOfRows:a().number,name:a().string}),isNumberRowsLimited:a().bool,pageType:a().string.isRequired,featureUniverseId:a().number,isDataFetching:a().bool,sortPosition:a().number,pageContext:a().shape({pageId:a().string}),translate:a().func.isRequired};var at=rt;function it(e){var t=e.translate,n=e.headerLabel,e=e.isSeeAllHidden,e=Y()(L.seeAllClass,{hidden:e});return Q().createElement("div",{className:"container-header games-filter-changer"},Q().createElement("h3",null,n),Q().createElement("span",{className:e},t(L.seeAllLinkLabel)))}it.defaultProps={isSeeAllHidden:!1},it.propTypes={translate:a().func.isRequired,headerLabel:a().string.isRequired,isSeeAllHidden:a().bool};var ot=it;function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function mt(e){var t=e.sort,n=e.pageContext,r=e.sortPosition,a=e.sortStyle,i=e.timeFilters,o=ct(e,["sort","pageContext","sortPosition","sortStyle","timeFilters"]),l=st((0,_.useState)([]),2),s=l[0],u=l[1],c=t.token,m=t.displayName,f=t.name,d=t.numberOfRows,p=t.gameSetTargetId,e=t.contextCountryRegionId,l=t.timeOptionsAvailable,e={sortToken:c,gameSetTargetId:p,startRows:I.params.startRows,maxRows:a===Ae.featureGameTile?Ue:Me,hasMoreRows:!0,sortPosition:r,contextCountryRegionId:e};l&&(e.timeFilter=x(i)),e["pageContext.pageId"]=null==n?void 0:n.pageId;function g(n,e){!(h||!v.hasMoreRows)&&(null==s?void 0:s.length)<=Le&&(e&&b(!0),w(!0),O(v).then(function(t){var e;!n&&null!=t&&t.games&&(u(function(e){return e.concat(t.games)}),e=T(t,v),y(e))},function(){n||y(function(e){return Object.assign(e,{hasMoreRows:!1})})}).finally(function(){!n&&e&&b(!1),n||w(!1)}))}var l=st((0,_.useState)(e),2),v=l[0],y=l[1],i=st((0,_.useState)(!1),2),e=i[0],b=i[1],l=st((0,_.useState)(!1),2),h=l[0],w=l[1];(0,_.useEffect)(function(){return g(!1,!0),function(){}},[]);i="sortName/".concat(t.name),l=Y()("games-list-container",{"is-windows":null===E.jsClientDeviceIdentifier||void 0===E.jsClientDeviceIdentifier?void 0:E.jsClientDeviceIdentifier.isWindows});return Q().createElement("div",{className:l},Q().createElement(S.NavLink,{to:i},Q().createElement(ot,lt({headerLabel:m},o))),e?Q().createElement(P.Loading,null):null,0<s.length&&Q().createElement("div",{className:Y()("horizontal-scroller games-list",{"large-tiles":a===Ae.featureGameTile})},1===d&&Q().createElement(Ke,lt({gamesData:s,name:f,loadMore:g,sortApiParams:v,pageContext:n,sortPosition:r,sortStyle:a,isInitializedLoading:e},o)),1<d&&Q().createElement(at,lt({gamesData:s,pageType:je.gameCarousel,isNumberRowsLimited:!0,sort:t,sortPosition:r,pageContext:n},o))))}mt.propTypes={sort:a().shape({token:a().string,displayName:a().string,name:a().string,numberOfRows:a().number,gameSetTargetId:a().number,contextCountryRegionId:a().number,timeOptionsAvailable:a().bool}).isRequired,pageContext:a().shape({pageId:a().string}).isRequired,sortPosition:a().number.isRequired,sortStyle:a().string.isRequired,timeFilters:a().arrayOf(a().shape({token:a().string,name:a().string})).isRequired,translate:a().func.isRequired};var ft=mt;function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(n){var e=pt((0,_.useState)([]),2),t=e[0],r=e[1],a=(e=pt((0,_.useState)(""),2))[0],i=e[1],o=(e=pt((0,_.useState)([]),2))[0],l=e[1],s=(e=pt((0,_.useState)({}),2))[0],u=e[1];return(0,_.useEffect)(function(){var t=!0;return f(null,!0).then(function(e){t&&(u(null==e?void 0:e.pageContext),i(Ge&&null!=e&&e.gameSortStyle?e.gameSortStyle:""),l(null==e?void 0:e.timeFilters),null!=e&&e.sorts&&r(e.sorts))},function(e){console.debug(e)}),function(){t=!1}},[]),Q().createElement("div",null,0<t.length&&t.map(function(e,t){return Q().createElement(ft,dt({sortPosition:t,sort:e,sortStyle:a,pageContext:s,timeFilters:o,key:e.token+e.displayName},n))}))}function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wt(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function St(e){var t=e.eventRef,n=e.gamesData,r=e.featureUniverseId,a=e.pageType,i=e.apiParams,o=e.gameSortPosition,l=e.sortPageContext,s=wt(e,["eventRef","gamesData","featureUniverseId","pageType","apiParams","gameSortPosition","sortPageContext"]),u=(0,_.useRef)(),e=bt((0,_.useState)(n),2),n=e[0],c=e[1],i=bt((0,_.useState)(i),2),m=i[0],f=i[1],i=bt((0,_.useState)(!1),2),d=i[0],p=i[1],g=(0,_.useCallback)(function(){var e=(null===(e=u.current)||void 0===e?void 0:e.offsetTop)+(null===(t=u.current)||void 0===t?void 0:t.clientHeight),t=window.pageYOffset+window.innerHeight;e<t&&(console.log("validateIfNeedToFetchMoreData---".concat(e,"---windowOffset---").concat(t)),m.hasMoreRows?p(!0):window.removeEventListener("scroll",g))},[m.hasMoreRows]),v=(0,_.useCallback)(function(){m.hasMoreRows&&O(m).then(function(t){null!=t&&t.games&&c(function(e){return e.concat(t.games)});var n=T(t,m);f(function(e){return Object.assign(e,n)})},function(e){console.error("getGameList".concat(e)),f(function(e){return Object.assign(e,{hasMoreRows:!1})})}).finally(function(){p(!1),m.hasMoreRows&&g()})},[m,g]);return(0,_.useEffect)(function(){d&&v()},[d,v]),(0,_.useEffect)(function(){return console.log("------------------- attachScrollEvent---------------------"),u.current&&(g(),window.addEventListener("scroll",g)),function(){window.removeEventListener("scroll",g)}},[g]),(0,_.useEffect)(function(){window.scrollTo(0,0)},[]),Q().createElement("div",{className:"infinite-scroll-container",ref:u},Q().createElement(at,yt({eventRef:t,gamesData:n,featureUniverseId:r,pageType:a,isDataFetching:d,sortPosition:o,pageContext:l},s)))}St.defaultProps={eventRef:void 0,featureUniverseId:null,gameSortPosition:-1,sortPageContext:{pageId:null}},St.propTypes={eventRef:a().oneOfType([a().func,a().shape({current:a().instanceOf(Element)})]),gamesData:a().arrayOf(a().shape({universeId:a().number})).isRequired,pageType:a().string.isRequired,featureUniverseId:a().number,apiParams:a().shape({}).isRequired,gameSortPosition:a().number,sortPageContext:a().shape({pageId:a().string}),translate:a().func.isRequired};var Et=St;function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e){function n(n,r){var e=n.token,t=n.gameSetTargetId,a=n.sortPosition,i=n.pageContext,o=n.contextCountryRegionId,l=n.timeOptionsAvailable,s=n.timeFilters;g(a),v(i);var u={sortToken:e,gameSetTargetId:t,startRows:I.params.startRows,maxRows:I.params.maxRows,hasMoreRows:!0,sortPosition:a,contextCountryRegionId:o};l&&(u.timeFilter=x(s)),u["pageContext.pageId"]=null==i?void 0:i.pageId,u["pageContext.isSeeAllPage"]=!0,d(!0),O(u).then(function(e){var t;r&&null!=e&&e.games&&(t=T(e,u),c(n),f(t),m(function(){return e.games}))},function(e){console.debug(e)}).finally(function(){d(!1)})}var t=Pt((0,_.useState)(!1),2),r=t[0],c=t[1],a=Pt((0,_.useState)([]),2),i=a[0],m=a[1],o=Pt((0,_.useState)({}),2),l=o[0],f=o[1],s=Pt((0,_.useState)(!1),2),u=s[0],d=s[1],t=Pt((0,_.useState)(!1),2),a=t[0],p=t[1],o=Pt((0,_.useState)(-1),2),s=o[0],g=o[1],t=Pt((0,_.useState)({}),2),o=t[0],v=t[1],y=e.match.params.sortName;return(0,_.useEffect)(function(){var e,t=!0;return t&&((e=b(y))?h(e)?w(y,e.gameSortContext).then(function(e){n(e,t)}):n(e,t):p(!0)),function(){t=!1}},[y]),a?Q().createElement(S.Redirect,{to:"/"}):Q().createElement("div",null,u?Q().createElement(P.Loading,null):null,0<(null==i?void 0:i.length)&&Q().createElement("div",{className:"games-list-container"},Q().createElement(ot,It({headerLabel:r.displayName,isSeeAllHidden:!0},e)),Q().createElement(Et,It({gamesData:i,pageType:je.gameSeeAll,apiParams:l,gameSortPosition:s,sortPageContext:o},e))))}Ot.propTypes={match:a().shape({params:a().shape({sortName:a().string})}).isRequired,translate:a().func.isRequired};var Tt,xt=Ot;(a={}).User="User",a.Group="Group",(a=Tt=Tt||{}).Home="Home",a.Games="Games";var Rt=o.EnvironmentUrls.gamesApi,Ct={url:{getOmniRecommendations:function(e,t){return{url:Rt+"/v1/games/omni-recommendations?model.pageType="+e+(void 0!==t?"&model.sessionId="+t:""),withCredentials:!0}},getOmniRecommendationsMetadata:{url:Rt+"/v1/games/omni-recommendations-metadata",withCredentials:!0},getGameList:{url:Rt+"/v1/games/list",withCredentials:!0}},defaultCacheCriteria:{refreshCache:!1,expirationWindowMS:3e4,useCache:!0}},Dt=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},jt=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},kt=Ct.defaultCacheCriteria,Lt=N.dataStores.gamesDataStore,At=N.dataStores.userDataStoreV2,Gt=function(t,n){return Dt(void 0,void 0,Promise,function(){return jt(this,function(e){switch(e.label){case 0:return[4,c.httpService.get(Ct.url.getOmniRecommendations(t,n))];case 1:return[2,e.sent().data]}})})},Ut=function(t){return Dt(void 0,void 0,Promise,function(){return jt(this,function(e){switch(e.label){case 0:return[4,c.httpService.post(Ct.url.getOmniRecommendationsMetadata,{Contents:t})];case 1:return[2,e.sent().data]}})})},Mt=function(){return At.getFriends({userId:null===E.authenticatedUser||void 0===E.authenticatedUser?void 0:E.authenticatedUser.id,isGuest:!1},kt)},qt=function(n){return Dt(void 0,void 0,Promise,function(){var t;return jt(this,function(e){switch(e.label){case 0:return[4,Lt.getPlaceDetails([n])];case 1:return t=e.sent().data,[2,(void 0===t?[]:t)[0]]}})})},Ft={Default:!1,V2:!0};(a={}).V2="1",a.Default="0";var zt=o.EnvironmentUrls.apiGatewayUrl,Vt={url:{getExperimentationValues:function(e,t,n){return{url:zt+"/product-experimentation-platform/v1/projects/"+e+"/layers/"+t+"/values?parameters="+n.join(","),withCredentials:!0}}},defaultValues:{homePage:{UseOmniRecommendation:Ft.Default}},layerNames:{homePage:"PlayerApp.HomePage.UX"},THomepagePersonalizationVariation:Ft},Ht=function(){return(Ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Bt=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Wt=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},$t=function(r,a,i){return void 0===i&&(i=1),Bt(void 0,void 0,Promise,function(){var n,t;return Wt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,c.httpService.get(Vt.url.getExperimentationValues(i,r,Object.keys(a)))];case 1:return n=e.sent().data,t=Object.keys(n).reduce(function(e,t){return null!==n[t]&&(e[t]=n[t]),e},{}),[2,Ht(Ht({},a),t)];case 2:return e.sent(),[2,a];case 3:return[2]}})})},_t={LabelSponsoredAd:"Label.SponsoredAd",LabelNoSearchResults:"LabelNoSearchResults",LabelPlayingOnePlusUsersWithComma:"LabelPlayingOnePlusUsersWithComma",LabelPlayingOneUser:"LabelPlayingOneUser"},Qt={LabelApiError:"Label.ApiError",LabelGames:"Label.Games"},Yt=P.Button.variants;(a=function(e){var t=e.errorMessage,n=e.onRefresh,e=e.className;return Q().createElement("div",{className:Y()("game-error",e)},Q().createElement("span",{className:"icon-spot-error-2xl"}),Q().createElement("p",{className:"text-label error-text"},t),Q().createElement(P.Button,{className:"refresh-button",variant:Yt.control,onClick:n},Q().createElement("span",{className:"icon-common-refresh"})))}).defaultProps={className:""};for(var Jt,Kt=a,Xt={numberOfInGameIcons:3,numberOfInGameNames:1,numberOfGameTilesPerLoad:60},Zt=new Uint8Array(16),en=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,tn=function(e){return"string"==typeof e&&en.test(e)},nn=[],rn=0;rn<256;++rn)nn.push((rn+256).toString(16).substr(1));var an=function(e){var t=(nn[e[(t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)+0]]+nn[e[t+1]]+nn[e[t+2]]+nn[e[t+3]]+"-"+nn[e[t+4]]+nn[e[t+5]]+"-"+nn[e[t+6]]+nn[e[t+7]]+"-"+nn[e[t+8]]+nn[e[t+9]]+"-"+nn[e[t+10]]+nn[e[t+11]]+nn[e[t+12]]+nn[e[t+13]]+nn[e[t+14]]+nn[e[t+15]]).toLowerCase();if(!tn(t))throw TypeError("Stringified UUID is invalid");return t};function on(e,t,n){void 0===n&&(n={});var r=Object.keys(n).reduce(function(e,t){return e[t.charAt(0).toUpperCase()+t.slice(1)]=n[t],e},{});return c.urlService.getUrlWithQueries(N.entityUrl.game.getRelativePath(e)+"/"+c.seoName.formatSeoName(t),r)}function ln(e){var t=c.urlService.parseQueryString(window.location.search.toLowerCase());return t[e]||(t[e]=mn(),window.history.replaceState(null,"",c.urlService.getUrlWithQueries("",t))),t[e]}function sn(e){var t=e.id,n=e.gameData,r=e.onTileClick,e=e.children;return Q().createElement(P.Link,{onClick:function(){r(n,t)},url:dn(n.placeId,n.name),className:"game-card-link",id:n.universeId.toString()},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.gameIcon,size:R.ThumbnailGameIconSize.size150,targetId:n.universeId,containerClass:"game-card-thumb-container",format:R.ThumbnailFormat.jpeg,altName:n.name}),Q().createElement("div",{className:"game-card-name game-name-title",title:n.name},n.name),e)}function un(e){var t=e.totalDownVotes,n=e.totalUpVotes,e=e.playerCount,t=re.getVotePercentage(n,t),e=re.getAbbreviatedValue(e);return Q().createElement("div",{className:"game-card-info"},Q().createElement("span",{className:"info-label icon-votes-gray"}),t?Q().createElement("span",{className:"info-label vote-percentage-label"},t):Q().createElement("span",{className:"info-label no-vote"}),Q().createElement("span",{className:"info-label icon-playing-counts-gray"}),Q().createElement("span",{className:"info-label playing-counts-label"},e))}function cn(e){var t=e.friendData,n=e.gameData,r=e.translate,a=(0,_.useState)(!1),e=a[0],i=a[1];if(0===t.length)throw new Error("friendData should not be empty");return Q().createElement("div",{className:"game-card-friend-info game-card-info"},Q().createElement("div",{className:"info-avatar",style:{width:22*(t.slice(0,Xt.numberOfInGameIcons).length-1)+32+"px"}},t.slice(0,Xt.numberOfInGameIcons).map(function(e){return Q().createElement("div",{className:"avatar-card",role:"button",tabIndex:0,key:e.displayName,onClick:function(e){e.stopPropagation(),e.preventDefault(),i(!0)},onKeyDown:function(e){e.stopPropagation(),e.preventDefault(),i(!0)}},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.avatarHeadshot,size:R.ThumbnailAvatarHeadshotSize.size48,targetId:e.id,containerClass:"avatar avatar-headshot avatar-headshot-xs",imgClassName:"avatar-card-image",format:R.ThumbnailFormat.png,altName:e.displayName}))})),r&&Q().createElement("span",{className:"info-label text-overflow"},t.length>Xt.numberOfInGameNames?r(_t.LabelPlayingOnePlusUsersWithComma,{username:t[0].displayName,count:t.length-Xt.numberOfInGameNames}):r(_t.LabelPlayingOneUser,{user:t[0].displayName})),Q().createElement(gn,{friendsDataInGame:t,game:n,show:e,onHide:function(e){e.stopPropagation(),e.preventDefault(),i(!1)}}))}var mn=function(e,t,n){var r=(e=e||{}).random||(e.rng||function(){if(!Jt&&!(Jt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jt(Zt)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return an(r)},fn="session",dn=on,a={common:["Common.GameSorts"],feature:"Feature.PlacesList"},pn=function(){return(pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};cn.defaultProps={translate:void 0};var gn=(0,t.withTranslations)(function(e){var t=e.show,n=e.onHide,r=e.friendsDataInGame,a=e.game,e=e.translate;return Q().createElement(P.Modal,{show:t,onHide:n,size:"lg"},Q().createElement(me,{friendsData:r.map(function(e){return pn(pn({},e),{nameForDisplay:e.displayName})}),friendsInGame:r.map(function(e){return e.id}),game:a,dismissModal:n,translate:e}))},a),vn=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},yn=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},bn=(0,_.forwardRef)(function(e,t){var n=e.id,r=e.onTileClick,a=e.gameData,e=e.friendData,i=void 0===e?[]:e,e=(0,_.useState)(),o=e[0],l=e[1],s=(0,_.useMemo)(function(){return X(i,a.universeId)},[i,a.universeId]);return(0,_.useEffect)(function(){void 0===o&&0<s.length&&vn(void 0,void 0,void 0,function(){var t;return yn(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,qt(a.placeId.toString())];case 1:return t=e.sent(),l(t),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},[s,o]),Q().createElement("div",{ref:t,className:"grid-item-container game-card-container"},Q().createElement(sn,{id:n,onTileClick:r,gameData:a},0<s.length&&o?Q().createElement(cn,{friendData:s,gameData:o}):Q().createElement(un,{totalUpVotes:a.totalUpVotes,totalDownVotes:a.totalDownVotes,playerCount:a.playerCount})))}),hn=(0,_.forwardRef)(function(e,t){var n=e.translate,r=e.id,a=e.onTileClick,e=e.gameData;return Q().createElement("div",{ref:t,className:"grid-item-container game-card-container"},Q().createElement(sn,{id:r,onTileClick:a,gameData:e},Q().createElement("div",{className:"game-card-native-ad"},Q().createElement("div",{className:"native-ad-label"},n(_t.LabelSponsoredAd)))))}),wn=function(){return(wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Sn=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},En=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function In(){function r(e){(e.detail||[]).forEach(function(e){i.current[e.userId]&&(i.current[e.userId]=wn(wn({},i.current[e.userId]),{presence:e}))}),a(wn({},i.current))}var e=this,t=(0,_.useState)({}),n=t[0],a=t[1],i=(0,_.useRef)(n);return(0,_.useEffect)(function(){return Sn(e,void 0,void 0,function(){var t,n;return En(this,function(e){switch(e.label){case 0:if((null==(t=E.deviceMeta.getDeviceMeta())?void 0:t.deviceType)!==E.deviceMeta.DeviceTypes.computer)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Mt()];case 2:return n=e.sent().userData,n=(n||[]).reduce(function(e,t){return e[t.id]=t,e},{}),i.current=n,a(wn({},i.current)),document.addEventListener("Roblox.Presence.Update",r),[3,4];case 3:return n=e.sent(),console.error("useFriendsPresence failed to initialized with the error",n),[3,4];case 4:return[2]}})}),function(){document.removeEventListener("Roblox.Presence.Update",r)}},[]),Object.values(n)}function Pn(e){var t=e.universeId,n=e.placeId,r=(e=xn(t))[0],a=e[1];switch(r){case void 0:return Q().createElement("div",{className:"shimmer play-button game-card-thumb-container"});case Rn.GuestProhibited:case Rn.Playable:return Q().createElement(Cn,{placeId:n,status:r});case Rn.PurchaseRequired:return Q().createElement(Dn,{universeId:t,placeId:n,iconClassName:"icon-common-play",refetchPlayabilityStatus:a});case Rn.UniverseRootPlaceIsPrivate:return Q().createElement("div",{className:"btn-growth-lg play-button"},Q().createElement("span",{className:"icon-status-private"}));default:return Q().createElement("div",{className:"btn-growth-lg play-button"},Q().createElement("span",{className:"icon-status-unavailable"}))}}function Nn(e){var r=e.sort,t=e.translate,n=(0,_.useRef)(null),a=(0,_.useRef)(null),i=(e=(0,_.useState)(void 0))[0],o=e[1],l=(e=(0,_.useState)(!0))[0],s=e[1],u=(0,_.useCallback)(function(){return(i||[]).length<r.RecommendationList.length},[i,r]),c=(0,_.useCallback)(function(){return Fn(void 0,void 0,void 0,function(){var t,n;return zn(this,function(e){switch(e.label){case 0:s(!0),n=(i||[]).length,n=r.RecommendationList.slice(n,n+Xt.numberOfGameTilesPerLoad),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ut(n)];case 2:return t=e.sent().ContentMetadata,o(Vn(Vn([],i||[]),n.map(function(e){return t[e.ContentType][e.ContentId]}))),[3,4];case 3:return n=e.sent(),console.error(n),[3,4];case 4:return s(!1),[2]}})})},[i,r]),m=(0,_.useCallback)(function(){var e=((null===(e=n.current)||void 0===e?void 0:e.offsetTop)||0)+((null===(t=n.current)||void 0===t?void 0:t.clientHeight)||0),t=window.pageYOffset+window.innerHeight;e<t&&!u()?window.removeEventListener("scroll",m):e<t&&u()&&!1===l&&c()},[u,c,l]),e=(0,_.useCallback)(function(e,t){t=te({pid:e.placeId,ad:e.isSponsored,pos:t,gameSetTargetId:r.TopicId,pg:W.SortDetailPage});N.eventStreamService.sendEvent.apply(N.eventStreamService,t),window.open(on(e.placeId,e.name),"_self")},[null==i?void 0:i.length]);return(0,_.useEffect)(function(){return window.addEventListener("scroll",m),function(){window.removeEventListener("scroll",m)}},[m,r]),(0,_.useEffect)(function(){o(void 0),c()},[r]),Q().createElement(Q().Fragment,null,E.jsClientDeviceIdentifier.isIE?Q().createElement(qn,{ref:n,tileRef:a,gameData:i||[],translate:t,onTileClick:e}):Q().createElement(Gn,{ref:n,tileRef:a,gameData:i||[],translate:t,onTileClick:e}),l&&Q().createElement(P.Loading,null))}var On=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Tn=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},xn=o.PlayButton.usePlayabilityStatus,Rn=o.PlayButton.PlayabilityStatuses,Cn=o.PlayButton.PlayButton,Dn=o.PlayButton.PurchaseButton,jn=(0,_.forwardRef)(function(e,t){var n=e.id,r=e.onTileClick,a=e.gameData,i=e.translate,o=(0,_.useState)(),l=o[0],s=o[1],u=In(),e=ln(fn),c=(0,_.useMemo)(function(){return X(u,a.universeId)},[u,a.universeId]),o=(0,_.useMemo)(function(){return 0<c.length&&l?Q().createElement(cn,{gameData:l,friendData:c,translate:i}):Q().createElement("div",{className:"game-card-description-info font-body"},null==l?void 0:l.description)},[c]);return(0,_.useEffect)(function(){On(void 0,void 0,void 0,function(){var t;return Tn(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,qt(a.placeId.toString())];case 1:return t=e.sent(),s(t),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},[]),Q().createElement("div",{ref:t,className:"featured-grid-item-container game-card-container"},Q().createElement(P.Link,{onClick:function(){r(a,n)},url:on(a.placeId,a.name,((t={})[fn]=e,t)),className:"game-card-link",id:a.universeId.toString()},Q().createElement(R.Thumbnail2d,{type:R.ThumbnailTypes.gameIcon,size:R.ThumbnailGameIconSize.size512,targetId:a.universeId,containerClass:"game-card-thumb-container",format:R.ThumbnailFormat.jpeg,altName:a.name}),Q().createElement("div",{className:"game-card-name-info"},Q().createElement("div",null,Q().createElement("div",{className:"game-card-name game-name-title",title:a.name},a.name),Q().createElement(un,{totalUpVotes:a.totalUpVotes,totalDownVotes:a.totalDownVotes,playerCount:a.playerCount})),Q().createElement(Pn,{universeId:a.universeId.toString(),placeId:a.placeId.toString()})),o))}),kn=function(){return(kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ln=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n},An=(0,_.forwardRef)(function(e,t){var n=e.emphasis,e=Ln(e,["emphasis"]);return e.gameData.isSponsored?Q().createElement(hn,kn({ref:t},e)):n?Q().createElement(jn,kn({ref:t},e)):Q().createElement(bn,kn({ref:t},e))}),Gn=(0,_.forwardRef)(function(e,t){var n=e.gameData,r=e.translate,a=e.emphasis,i=e.onTileClick,o=e.tileRef;return Q().createElement("div",{ref:t,className:"game-grid"},n.map(function(e,t){return Q().createElement(An,{ref:function(e){(!0===a&&1===t||!1===a&&0===t)&&o&&(o.current=e)},key:t,id:t,gameData:e,translate:r,onTileClick:i,emphasis:!0===a&&0===t})}))}),Un=function(){return(Un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Mn=(0,_.forwardRef)(function(e,t){return e.gameData.isSponsored?Q().createElement(hn,Un({ref:t},e)):Q().createElement(bn,Un({ref:t},e))}),qn=(0,_.forwardRef)(function(e,t){var n=e.gameData,r=e.translate,a=e.emphasis,i=e.onTileClick,o=e.tileRef;return Q().createElement("div",{ref:t,className:"ie-game-grid"},n.map(function(e,t){return Q().createElement(Mn,{ref:function(e){(!0===a&&1===t||!1===a&&0===t)&&o&&(o.current=e)},key:t,id:t,gameData:e,translate:r,onTileClick:i,emphasis:!0===a&&0===t})}))}),Fn=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},zn=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Vn=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Hn=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Bn=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Wn=Vt.layerNames,$n=Vt.defaultValues,_n=(0,t.withTranslations)(function(e){function t(){return Hn(void 0,void 0,void 0,function(){var t;return Bn(this,function(e){switch(e.label){case 0:m(!1),l(void 0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Gt(Tt.Home)];case 2:return t=e.sent(),void 0===(t=t.Sorts.find(function(e){return e.Topic===a}))?c(!0):l(t),[3,4];case 3:return e.sent(),m(!0),[3,4];case 4:return[2]}})})}var n=e.match,r=e.translate,a=decodeURIComponent(n.params.sortName),i=(0,_.useState)(void 0),o=i[0],l=i[1],s=(0,_.useState)(void 0),e=s[0],u=s[1],n=(0,_.useState)(!1),i=n[0],c=n[1],s=(0,_.useState)(!1),n=s[0],m=s[1];return(0,_.useEffect)(function(){Hn(void 0,void 0,void 0,function(){var t;return Bn(this,function(e){switch(e.label){case 0:return[4,$t(Wn.homePage,$n.homePage)];case 1:return t=e.sent(),u(t.UseOmniRecommendation),[2]}})})},[]),(0,_.useEffect)(function(){t()},[a]),n?Q().createElement("div",{className:"game-sort-detail-container"},Q().createElement("h3",null,r(Qt.LabelGames)),Q().createElement("div",{className:"game-sort-detail"},Q().createElement(Kt,{errorMessage:r(Qt.LabelApiError),onRefresh:t}))):e===Ft.Default||i?Q().createElement(S.Redirect,{to:"/"}):e===Ft.V2&&o?Q().createElement("div",{className:"game-sort-detail-container"},Q().createElement("h3",null,a),Q().createElement(Nn,{sort:o,translate:r})):Q().createElement(P.Loading,null)},r);function Qn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Yn(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Qn(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Qn(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}var Jn=(0,t.withTranslations)(function(t){return Q().createElement(S.HashRouter,null,Q().createElement(S.Route,{exact:!0,path:"/",render:function(){return Q().createElement(vt,t)}}),Q().createElement(S.Route,{exact:!0,path:"/sortName/:sortName",render:function(e){e=Yn({},e),e=Object.assign(e,t);return Q().createElement(xt,e)}}),Q().createElement(S.Route,{exact:!0,path:"/sortName/v2/:sortName",component:_n}))},n);(0,c.ready)(function(){(0,e.render)(Q().createElement(Jn,null),document.getElementById("games-carousel-page"))})}()}();
//# sourceMappingURL=/rbxcdn/js/d2f7f20e2b40a7757210-gameCarousel.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GameCarousel");