!function(){var a={4223:function(){},6038:function(){}},r={};function S(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return a[e](t,t.exports,S),t.exports}S.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return S.d(t,{a:t}),t},S.d=function(e,t){for(var a in t)S.o(t,a)&&!S.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},S.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var C=React,T=S.n(C),e=ReactDOM,o=CoreUtilities,t=PropTypes,q=S.n(t),a=ReactUtilities,N=Roblox,r=N.EnvironmentUrls.billingApi,n=N.EnvironmentUrls.apiGatewayUrl,V="paymentMethods",F="ParentalAuthorization13To17";function I(e){N.FormEvents&&N.FormEvents.sendInteractionClick(V,e)}function i(e){var t=e.header,a=e.stepNumber,r=e.translate,e="step".concat(a);return T().createElement(C.Fragment,null,T().createElement("div",{id:"payment-header"},T().createElement("h1",null,t),T().createElement("div",{id:"certifications"},T().createElement("span",{className:"icon-payment-lock"}))),T().createElement("div",{id:"print-action",className:["pull-right",3===a?"":"hidden"].join(" ")},T().createElement("button",{type:"button",onClick:function(){return window.print()},className:"text-name btn-control-sm"},r("Action.Print"))),T().createElement("div",{id:"payment-progress-container"},T().createElement("span",{id:"payment-progress-step",className:e})))}function l(e){var t={withCredentials:!0,url:"".concat(r,"/v1/paymentmethods")},e={ap:e};return o.httpService.get(t,e)}function U(e,t){return t=t,t={withCredentials:!0,url:"".concat(r,"/v1/paymentmethods/").concat(t)},e={ap:e},o.httpService.get(t,e)}function s(){var e={withCredentials:!0,url:"".concat(r,"/v1/metrics/incrementcounterbyagent")},t={counterPrefix:"PaymentMethodsPageServed"};return o.httpService.post(e,t)}function A(e,t){return e=e,t=t,t={withCredentials:!0,url:"".concat(r,"/v1/payments/xsolla/metadata?productId=").concat(e,"&paymentMethod=").concat(t,"&selectedUpsellProductId=0")},o.httpService.get(t)}function O(){var e={withCredentials:!0,url:"".concat(n,"/purchase-warning/v1/purchase-warnings/pre-purchase-authorization")};return o.httpService.get(e)}function k(e,t){return t=t,t={withCredentials:!0,url:"".concat(n,"/purchase-warning/v1/purchase-warnings/acknowledge"),timeout:t},e={acknowledgement:e},o.httpService.post(t,e)}t={common:[],feature:"Feature.Payment"},S(4223),i.propTypes={header:q().string.isRequired,stepNumber:q().number.isRequired,translate:q().func.isRequired};var c=(0,a.withTranslations)(i,t),L={BlockedPurchase:"blockedpurchase",UnsupportedMethod:"unsupportedmethod",InsufficientAge:"ReachedAgeUnder13PurchaseLimit"};function d(e){var t=e.id,a=e.paymentMethod,r=e.label,n=e.checked,i=e.onSelectMethod,o=e.hideCardImages;return T().createElement("div",{className:"payment-spacer"},T().createElement("input",{type:"radio",name:"paymentMethod",id:t,value:a,checked:n,onChange:i}),T().createElement("label",{htmlFor:t,className:"payment-method-label"},T().createElement("span",{className:"payment-method-label-image"},o?T().createElement("span",{className:a}):"creditCard"===a?T().createElement(C.Fragment,null,T().createElement("span",{className:"payment-method-image visa"}),T().createElement("span",{className:"payment-method-image masterCard"}),T().createElement("span",{className:"payment-method-image discover"}),T().createElement("span",{className:"payment-method-image americanExpress"})):T().createElement("span",{className:["payment-method-image",a].join(" ")})),""===r?null:o?T().createElement("span",null,r):T().createElement("span",{className:"payment-method-label-text"},r)))}d.propTypes={id:q().string.isRequired,paymentMethod:q().string.isRequired,label:q().string.isRequired,checked:q().bool.isRequired,onSelectMethod:q().func.isRequired,hideCardImages:q().bool},d.defaultProps={hideCardImages:!1};var W=d;function u(e){function t(e){r(e.target.checked)}var a=e.translate,r=e.setParentalAuthorization13To17Received,n=e.checkboxRequired;return n?T().createElement("div",{className:"payment-authorization-container checkbox"},T().createElement("input",{id:"confirm-authorization",type:"checkbox",onChange:t}),T().createElement("label",{className:"confirm-authorization",htmlFor:"confirm-authorization"},a("Message.FraudWarningMessageFor13To17"))):T().createElement("div",{className:"payment-authorization-container"},a("Message.FraudWarningMessageFor13To17"))}u.propTypes={translate:q().func.isRequired,setParentalAuthorization13To17Received:q().func.isRequired,checkboxRequired:q().func.isRequired};var z=u;function m(e){var t=e.translate,e=e.isU13FraudMessageV2Enabled;return T().createElement(C.Fragment,null,e&&T().createElement("div",{className:"fraud-message-container"},T().createElement("div",{className:"fraud-icon"},T().createElement("span",{className:"icon-warning"})),T().createElement("div",{id:"fraud-message"},T().createElement("div",{className:"message-default"},t("Message.FraudWarningMessageForUnder13UsingCreditCard")),T().createElement("div",{className:"message-bold"},t("Message.FraudWarningMessageForUnder13UsingCreditCard2")))),!e&&T().createElement("div",{id:"fraud-message",className:"fraud-message",dangerouslySetInnerHTML:{__html:t("Message.FraudWarningMesgForUnder13UsingCreditCard",{lineStart:"<br /><strong>",lineEnd:"</strong>"})}}))}m.propTypes={translate:q().func.isRequired,isU13FraudMessageV2Enabled:q().bool.isRequired};var j=m;function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function y(e){var a=e.translate,r=e.paymentMethodsInfo,n=e.displayFraudMessage,t=e.errorType,i=r.loggedIn&&r.paymentMethodsVisibility.isRobloxCreditVisible&&(r.allowCreditForRenewingPurchases||!r.selectedProduct.IsRenewable),o=r.paymentMethodsVisibility.isCreditCardVisible,l=r.paymentMethodsVisibility.isPaypalVisible,s=r.paymentMethodsVisibility.isXsollaPayPalVisible,c=r.loggedIn&&(r.allowCreditForRenewingPurchases||!r.selectedProduct.IsRenewable),d=r.paymentMethodsVisibility.isXsollaBoletoVisible,u=r.paymentMethodsVisibility.isXsollaOxxoVisible,m=r.paymentMethodsVisibility.isXsollaSofortVisible,p=r.paymentMethodsVisibility.isAmazonPayVisible,y=r.paymentMethodsVisibility.isXsollaOtherVisible,h=K((0,C.useState)(null),2),b=h[0],f=h[1],g=K((0,C.useState)(!1),2),e=g[0],E=g[1],h=K((0,C.useState)(!0),2),v=h[0],R=h[1],g=K((0,C.useState)(!1),2),h=g[0],M=g[1],g=K((0,C.useState)(!1),2),P=g[0],S=g[1];(0,C.useEffect)(function(){null!=r&&(E(!1),O().then(function(e){var t;(null==e||null===(t=e.data)||void 0===t?void 0:t.action)===F&&(S(!0),r.isParentalAuthorization13To17Enabled&&R(!1))}))},[r]),(0,C.useEffect)(function(){v?null!=b&&E(!0):E(!1)},[v]);function x(e){var t;f(e.target.value),t=e.target.value,N.CurrentUser&&N.CurrentUser.isUnder13&&("debitCard"===t||"creditCard"===t)?(r.isU13FraudMessageV2Enabled?M:n)(!0):(r.isU13FraudMessageV2Enabled?M:n)(!1),v&&E(!0),I("".concat(e.target.name,"_").concat(e.target.value))}function w(){var e,t=r.selectedProduct.ProductId;"xsollaPayPal"===b?A(t,b).then(function(e){e=e.data.viewModel;e.isXsollaPaypalIframeEnabled&&e.xsollaPaymentUIToken?(e=e.xsollaPaymentUIUrl.replace("{0}",e.xsollaPaymentUIToken),window.location.href=e):U(t,b).then(function(e){window.location.href=e.data.location})}):U(t,b).then(function(e){window.location.href=e.data.location}),I("selectedPaymentMethod_".concat(b)),e=t,N.EventStream&&N.EventStream.SendEventWithTarget("paymentMethodContinue",V,{pid:e,upsellid:0},N.EventStream.TargetTypes.WWW)}g=function(e){var t=e.paymentMethod,e=e.labelKey;return T().createElement(W,{id:t,paymentMethod:t,label:a(e),checked:b===t,onSelectMethod:x})};g.propTypes={paymentMethod:q().string.isRequired,labelKey:q().string.isRequired};t=function(e,t){switch(t){case L.BlockedPurchase:return e("Response.MontlyPurchaseLimit");case L.UnsupportedMethod:return e("Response.PaymentMethodNotSupported");case L.InsufficientAge:return e("Message.AgeUnder13PurchaseLimitReached");default:return t?e("Response.ErrorOccured."):""}}(a,t);return T().createElement("div",{id:"payment-method",className:"col-sm-6"},T().createElement("div",{className:"payment-spacer"},a("Label.SelectPaymentType")),T().createElement("form",{id:"payment-method-form",className:"payment-method-form",onSubmit:function(e){e.preventDefault(),E(!1),I("continueButton"),P?k("Confirmed".concat(F),2e3).then(function(){w()}):w()}},i&&T().createElement(g,{paymentMethod:"robloxCredit",labelKey:"Label.RobloxCredit"}),o&&T().createElement(C.Fragment,null,T().createElement(g,{paymentMethod:"creditCard",labelKey:"Label.CreditCard"}),T().createElement(g,{paymentMethod:"debitCard",labelKey:"Label.DebitCard"})),l&&T().createElement(g,{paymentMethod:"paypal",labelKey:"Label.Paypal"}),s&&T().createElement(g,{paymentMethod:"xsollaPayPal",labelKey:"Label.Paypal"}),c&&T().createElement(g,{paymentMethod:"redeemCard",labelKey:"Label.RedeemRobloxCard"}),d&&T().createElement(g,{paymentMethod:"xsollaBoleto",labelKey:"Label.Boleto"}),u&&T().createElement(g,{paymentMethod:"xsollaOxxo",labelKey:"Label.OXXO"}),m&&T().createElement(g,{paymentMethod:"xsollaSofort",labelKey:"Label.SOFORT"}),p&&T().createElement(g,{paymentMethod:"xsollaAmazonPay",labelKey:"Label.AmazonPay"}),y&&T().createElement(g,{paymentMethod:"xsollaOther",labelKey:"Label.Other"}),P&&T().createElement(z,{translate:a,setParentalAuthorization13To17Received:R,checkboxRequired:r.isParentalAuthorization13To17Enabled}),T().createElement("button",{type:"submit",id:"payment-method-button",className:"submit-button btn-growth-md btn-full-width",disabled:!e},a("Action.Continue"))),h&&T().createElement(j,{translate:a,isU13FraudMessageV2Enabled:!0}),t&&T().createElement("div",{id:"payment-method-error",className:"text-error"},t))}y.propTypes={translate:q().func.isRequired,paymentMethodsInfo:q().shape({loggedIn:q().bool.isRequired,allowCreditForRenewingPurchases:q().bool.isRequired,selectedProduct:q().shape({IsRenewable:q().bool.isRequired,ProductId:q().number.isRequired}).isRequired,paymentMethodsVisibility:q().shape({isRobloxCreditVisible:q().bool.isRequired,isCreditCardVisible:q().bool.isRequired,isPaypalVisible:q().bool.isRequired,isXsollaPayPalVisible:q().bool.isRequired,isXsollaBoletoVisible:q().bool.isRequired,isXsollaOxxoVisible:q().bool.isRequired,isXsollaSofortVisible:q().bool.isRequired,isAmazonPayVisible:q().bool.isRequired,isXsollaOtherVisible:q().bool.isRequired}).isRequired,isParentalAuthorization13To17Enabled:q().bool.isRequired,isU13FraudMessageV2Enabled:q().bool.isRequired}).isRequired,displayFraudMessage:q().func.isRequired,errorType:q().string.isRequired};var h=y;function b(e){var t=e.translate,a=e.product,r=e.id,e=e.isStarcodeV2Enabled;return T().createElement("div",{id:r,className:"product"},T().createElement("div",{className:"icon-robux-gold"}),T().createElement("div",{className:"product-detail"},T().createElement("div",null,T().createElement("h2",null,a.Name)),a.DurationTitle&&""!==a.DurationTitle&&T().createElement("div",null,T().createElement("h4",{className:"product-duration"},a.DurationTitle),T().createElement("h4",{className:"product-duration",dangerouslySetInnerHTML:{__html:a.RenewOrExpireText}})),T().createElement("div",null,T().createElement("h4",{className:"product-price"},t("Label.BalanceDueText",{balance:a.PriceText}))),e&&T().createElement("div",{id:"starcode-container"})))}b.propTypes={translate:q().func.isRequired,product:q().shape({ImageFile:q().string.isRequired,DurationTitle:q().string,RenewOrExpireText:q().string,ProductId:q().number.isRequired,Name:q().string.isRequired,PriceText:q().string.isRequired}).isRequired,id:q().string.isRequired,isStarcodeV2Enabled:q().bool.isRequired};var f=b;function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function v(e){var t=e.translate,a=g((0,C.useState)(null),2),r=a[0],n=a[1],i=g((0,C.useState)(!1),2),e=i[0],a=i[1];(0,C.useEffect)(function(){var e=o.urlService.getQueryParam("ap");l(e).then(function(e){e.data.redirectUrl?window.location.href=e.data.redirectUrl:(s(),n(e.data),e=e.data.selectedProduct.ProductId,N.EventStream&&N.EventStream.SendEventWithTarget("ajaxPageLoad",V,{pid:e},N.EventStream.TargetTypes.WWW))})},[]);i=o.urlService.getQueryParam("errorMsg");return r&&T().createElement(C.Fragment,null,!r.isU13FraudMessageV2Enabled&&e&&T().createElement(j,{translate:t,isU13FraudMessageV2Enabled:!1}),T().createElement("div",{id:"payment-method-container"},T().createElement("div",{id:"visual-cart",className:"border-right col-sm-6"},T().createElement(f,{translate:t,product:r.selectedProduct,id:"selected-product",isStarcodeV2Enabled:r.isStarcodeV2Enabled})),T().createElement(h,{translate:t,paymentMethodsInfo:r,displayFraudMessage:a,errorType:i})))}v.propTypes={translate:q().func.isRequired};var R=v;function M(e){var t=e.translate;return"/upgrades/robux"===(null!==(e=window.location.pathname)&&void 0!==e?e:"")&&N.EventStream&&N.EventStream.SendEventWithTarget("RobuxPageClick","BuyRobux_ProductId".concat(void 0),{pg:"Robux"},N.EventStream.TargetTypes.WWW),T().createElement(C.Fragment,null,T().createElement(c,{header:t("Heading.SecurePaymentWithRoblox"),stepNumber:1,translate:t}),T().createElement(R,{translate:t}))}S(6038),M.propTypes={translate:q().func.isRequired};var P=(0,a.withTranslations)(M,{common:[],feature:"Feature.Payment"});(0,o.ready)(function(){(0,e.render)(T().createElement(P,null),document.getElementById("payment-methods-container"))})}()}();
//# sourceMappingURL=/rbxcdn/js/b993c847d07bc3c53235-paymentMethods.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("PaymentMethods");