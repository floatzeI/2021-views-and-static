!function () {
    var n = {
        779: function (e, t) {
            var n;
            /*!
              Copyright (c) 2017 Jed Watson.
              Licensed under the MIT License (MIT), see
              http://jedwatson.github.io/classnames
            */
            !function () { "use strict"; var i = {}.hasOwnProperty; function c() { for (var e = [], t = 0; t < arguments.length; t++) { var n = arguments[t]; if (n) { var r = typeof n; if ("string" == r || "number" == r) e.push(n); else if (Array.isArray(n) && n.length) { var o = c.apply(null, n); o && e.push(o) } else if ("object" == r) for (var a in n) i.call(n, a) && n[a] && e.push(a) } } return e.join(" ") } e.exports ? (c.default = c, e.exports = c) : void 0 === (n = function () { return c }.apply(t, [])) || (e.exports = n) }()
        }, 635: function (e) { e.exports = 'module.exports = __webpack_public_path__ + "../html/navigation.html";' }
    }, r = {}; function Er(e) { if (r[e]) return r[e].exports; var t = r[e] = { exports: {} }; return n[e](t, t.exports, Er), t.exports } Er.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return Er.d(t, { a: t }), t }, Er.d = function (e, t) { for (var n in t) Er.o(t, n) && !Er.o(e, n) && Object.defineProperty(e, n, { enumerable: !0, get: t[n] }) }, Er.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, function () { "use strict"; var O = React, C = Er.n(O), x = CoreUtilities, d = HeaderScripts, e = ReactDOM, A = ReactUtilities, I = { arrowUp: 38, arrowDown: 40, tab: 9, enter: 13 }, t = { name: "Roblox.Logout" }, n = 1, r = { clickMerchandise: "clickMerchandiseInLeftNav", goToAmazonStore: "clickContinueToAmazonStore" }, o = { friendshipNotifications: "FriendshipNotifications", requestCountChanged: "Roblox.Friends.CountChanged", friendshipCreated: "FriendshipCreated", friendshipDestroyed: "FriendshipDestroyed", friendshipDeclined: "FriendshipDeclined", friendshipRequested: "FriendshipRequested" }, a = { name: "Roblox.Messages.CountChanged" }, i = "?", c = { name: "headerMenuIconClick" }, u = { quickLogin: "quickLogin", logout: "logout", settings: "settings" }, l = { common: ["CommonUI.Features", "Common.AlertsAndOptions"], feature: "Feature.ShopDialog" }, s = PropTypes, f = Er.n(s), m = Er(779), g = Er.n(m), p = ReactStyleGuide, b = RobloxThumbnails, y = Roblox, v = y.Endpoints.getAbsoluteUrl, h = y.EnvironmentUrls.authApi, s = { url: v("/games/?Keyword="), label: "Label.Experience", pageSort: ["home", "games", "discover"], icon: "icon-menu-games-off" }, m = [{ url: v("/search/users?keyword="), label: "Label.Players", pageSort: ["users"], icon: "icon-menu-profile" }, { url: v("/catalog?CatalogContext=1&Keyword="), label: "Label.AvatarShop", pageSort: ["catalog", "inventory", "bundles", "my/avatar"], icon: "icon-menu-shop" }, { url: v("/search/groups?keyword="), label: "Label.sGroups", pageSort: ["groups"], icon: "icon-menu-groups" }, { url: v("/develop/library?CatalogContext=2&Category=6&Keyword="), label: "Label.Library", pageSort: ["develop"], icon: "icon-menu-library" }], j = { scrollListItems: { home: { url: v("/"), idSelector: "nav-home", iconClass: "icon-nav-home", name: "home", labelTranslationKey: "Label.sHome" }, profile: { url: v("/users/".concat(d.authenticatedUser.id, "/profile")), idSelector: "nav-profile", iconClass: "icon-nav-profile", name: "profile", labelTranslationKey: "Label.sProfile" }, messages: { url: v("/my/messages/#!/inbox"), urlForNotification: v("/my/messages/#!/inbox"), idSelector: "nav-message", iconClass: "icon-nav-message", name: "messages", labelTranslationKey: "Label.sMessages" }, friends: { url: v("/users/friends"), urlForNotification: v("/users/friends#!/friend-requests"), idSelector: "nav-friends", iconClass: "icon-nav-friends", name: "friends", labelTranslationKey: "Label.sFriends" }, avatar: { url: v("/my/avatar"), idSelector: "nav-character", iconClass: "icon-nav-charactercustomizer", name: "avatar", labelTranslationKey: "Label.sAvatar" }, inventory: { url: v("/users/".concat(d.authenticatedUser.id, "/inventory")), idSelector: "nav-inventory", iconClass: "icon-nav-inventory", name: "inventory", labelTranslationKey: "Label.sInventory" }, trade: { url: v("/trades"), urlForNotification: v("/trades"), idSelector: "nav-trade", iconClass: "icon-nav-trade", name: "trade", labelTranslationKey: "Label.sTrade" }, groups: { url: v("/my/groups"), idSelector: "nav-group", iconClass: "icon-nav-group", name: "groups", labelTranslationKey: "Label.sGroups" }, forums: { url: v("/forum/"), idSelector: "nav-forum", iconClass: "icon-nav-forum", name: "forum", labelTranslationKey: "Label.sForum" }, feeds: { url: v("/feeds/"), idSelector: "nav-my-feed", iconClass: "icon-nav-my-feed", name: "feeds", labelTranslationKey: "Label.Feeds" }, blog: { url: v("https://blog.roblox.com"), idSelector: "nav-blog", iconClass: "icon-nav-blog", name: "blog", labelTranslationKey: "Label.sBlog" }, shop: { isModal: !0, idSelector: "nav-shop", iconClass: "icon-nav-shop", name: "shop", labelTranslationKey: "Label.OfficialStore" }, giftcards: { url: v("/giftcards-us"), idSelector: "nav-giftcards", iconClass: "icon-nav-giftcards", name: "giftcards", labelTranslationKey: "Label.GiftCards" } }, upgradeButton: { url: v("/premium/membership?ctx=leftnav"), labelTranslationKey: d.authenticatedUser.isPremiumUser ? "ActionsPremium" : "ActionsGetPremium" }, sponsorEvents: { label: { labelTranslationKey: "Label.sEvents" }, events: {} }, gameSearchLink: s, miscSearchLink: m, universalSearchUrls: [{ url: v("/search/users?keyword="), label: "Label.Players", pageSort: [] }, { url: v("/games/?Keyword="), label: "Label.Experience", pageSort: ["home", "games", "discover"] }, { url: v("/catalog/browse.aspx?CatalogContext=1&Keyword="), label: "Label.sCatalog", pageSort: ["catalog", "inventory", "bundles"] }, { url: v("/search/groups?keyword="), label: "Label.sGroups", pageSort: ["groups"] }, { url: v("/develop/library?CatalogContext=2&Category=6&Keyword="), label: "Label.Library", pageSort: ["develop"] }], newUniversalSearchUrls: [s].concat(m), settingsUrl: { settings: { url: v("/my/account"), label: "Label.sSettings" }, quickLogin: { url: v("/home"), label: "Label.sQuickLogin" }, help: { url: v("/info/help?locale="), label: "Label.sHelp" }, logout: { url: "".concat(h, "/v2/logout"), label: "Label.sLogout" } }, buyRobuxUrl: { robuxBalance: { url: v("/transactions"), label: "Label.sRobuxMessage" }, buyRobux: { url: v("/upgrades/robux?ctx=navpopover"), label: "Label.sBuyRobux" } }, userDataUrl: v("/navigation/userData"), quickLoginUrl: v("/crossdevicelogin/ConfirmCode") }, S = y.Endpoints.getAbsoluteUrl, E = y.EnvironmentUrls.authApi, w = y.EnvironmentUrls.accountSettingsApi, T = y.EnvironmentUrls.websiteUrl, k = y.EnvironmentUrls.adsApi, R = y.EnvironmentUrls.economyApi, N = y.EnvironmentUrls.privateMessagesApi, L = y.EnvironmentUrls.tradesApi, P = y.EnvironmentUrls.friendsApi, s = (y.EnvironmentUrls.apiGatewayUrl, function () { return S("/account/signupredir") }), m = function () { return T }, h = function () { return S("/") }, v = function (e, t) { return S("/".concat(e.toLowerCase(), "/").concat(t)) }, U = function () { return "".concat(E, "/v2/passwords/current-status") }, D = function () { return "".concat(w, "/v1/email") }, q = function () { return "".concat(E, "/v2/logout") }, M = function () { return "".concat(k, "/v1/sponsored-pages") }, K = function () { return "".concat(N, "/v1/messages/unread/count") }, _ = function (e) { return "".concat(R, "/v1/users/").concat(e, "/currency") }, F = function () { return "".concat(L, "/v1/trades/inbound/count") }, G = function () { return "".concat(P, "/v1/user/friend-requests/count") }, B = function () { var e = { url: K(), withCredentials: !0 }; return x.httpService.get(e) }, V = function (e) { e = { url: _(e), withCredentials: !0 }; return x.httpService.get(e) }, Q = function () { var e = { url: F(), withCredentials: !0 }; return x.httpService.get(e) }, $ = function () { var e = { url: G(), withCredentials: !0 }; return x.httpService.get(e) }, z = function () { var e = { url: U(), withCredentials: !0 }; return x.httpService.get(e) }, H = function () { var e = { url: D(), withCredentials: !0 }; return x.httpService.get(e) }, W = function () { var e = { url: M(), withCredentials: !0 }; return x.httpService.get(e).then(function (e) { return null == e ? void 0 : e.data }).catch(function (e) { console.error(e) }) }, X = function () { var e = { url: q(), withCredentials: !0 }; return x.httpService.post(e) }; function J(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function Y(e) { var t = e.translate, n = e.idSelector, r = e.isModal, o = e.name, a = e.iconClass, i = e.labelTranslationKey, c = e.url, u = e.urlForNotification, l = e.onClickShopLink, s = e.friendsData, f = e.messagesData, m = e.tradeData, e = (J(e = {}, j.scrollListItems.friends.name, s), J(e, j.scrollListItems.messages.name, f), J(e, j.scrollListItems.trade.name, m), e)[o], c = null != e && e.count ? u : c; return r ? C().createElement("li", { key: o }, C().createElement("div", { role: "link", tabIndex: "0", onClick: l, id: n, className: "cursor-pointer dynamic-overflow-container text-nav" }, C().createElement("div", null, C().createElement("span", { className: a })), C().createElement("span", { className: "font-header-2 dynamic-ellipsis-item" }, t(i)))) : C().createElement("li", { key: o }, C().createElement(p.Link, { url: c, id: n, className: "dynamic-overflow-container text-nav" }, C().createElement("div", null, C().createElement("span", { className: a })), C().createElement("span", { className: "font-header-2 dynamic-ellipsis-item" }, t(i)), e && 0 < e.count && C().createElement("div", { className: "dynamic-width-item align-right" }, C().createElement("span", { className: "notification-blue notification", title: x.numberFormat.getNumberFormat(e.count) }, x.abbreviateNumber.getTruncValue(e.count, 1e3))))) } Y.defaultProps = { idSelector: "", url: "", urlForNotification: "", isModal: !1, friendsData: { count: 0 }, messagesData: { count: 0 }, tradeData: { count: 0 } }, Y.propTypes = { idSelector: f().string, translate: f().func.isRequired, isModal: f().bool, name: f().string.isRequired, iconClass: f().string.isRequired, labelTranslationKey: f().string.isRequired, url: f().string, urlForNotification: f().string, onClickShopLink: f().func.isRequired, friendsData: f().shape({ count: f().number }), messagesData: f().shape({ count: f().number }), tradeData: f().shape({ count: f().number }) }; var Z = Y, ee = v; function te(e) { var t = e.translate, e = e.sponsoredPagesData.map(function (e) { var t = e.title, n = e.name, r = e.pageType, e = e.logoImageUrl; return e ? C().createElement("li", { key: n, className: "rbx-nav-sponsor", "ng-non-bindable": "true" }, C().createElement("a", { className: "text-nav menu-item", href: ee(r, n), title: t }, e ? C().createElement("img", { src: e, alt: "" }) : C().createElement("span", null, t))) : null }); return C().createElement(C().Fragment, null, C().createElement("li", { className: "font-bold small text-nav" }, " ", t("Label.sEvents")), e) } te.defaultProps = { sponsoredPagesData: [] }, te.propTypes = { translate: f().func.isRequired, sponsoredPagesData: f().instanceOf(Array) }; var ne = te; function re(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r } function oe(r) { for (var e = 1; e < arguments.length; e++) { var o = null != arguments[e] ? arguments[e] : {}; e % 2 ? re(Object(o), !0).forEach(function (e) { var t, n; t = r, e = o[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(o)) : re(Object(o)).forEach(function (e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(o, e)) }) } return r } function ae(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return ie(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return ie(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function ie(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function ce(e) { var t = d.authenticatedUser.isAuthenticated, n = ae((0, O.useState)([]), 2), r = n[0], o = n[1]; return (0, O.useEffect)(function () { t && W().then(function (e) { e = (null !== (e = null == e ? void 0 : e.data) && void 0 !== e ? e : []).filter(function (e) { var t, n; return !(null != e && null !== (t = e.name) && void 0 !== t && t.includes("giftcards") || null != e && null !== (n = e.title) && void 0 !== n && n.includes("giftcards")) }); o(e) }, function (e) { console.debug(e) }) }, [t]), C().createElement(ne, oe({ sponsoredPagesData: r }, e)) } var v = angular, ue = Er.n(v); function le(e) { return function (e) { if (Array.isArray(e)) return me(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || fe(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function se(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || fe(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function fe(e, t) { if (e) { if ("string" == typeof e) return me(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? me(e, t) : void 0 } } function me(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function pe() { return X().then(function () { window.location.href = Ee() }) } var de = j.universalSearchUrls, be = j.newUniversalSearchUrls, ye = x.urlService.getQueryParam, ve = x.urlService.parseUrl, ge = x.urlService.composeQueryString, he = s, Se = m, Ee = h, we = n, Oe = t, Ce = !d.authenticatedUser.isAuthenticated, m = function () { var o = d.authenticatedUser.created; return Promise.all([H(), z()]).then(function (e) { var t = se(e, 2), n = t[0].data.verified, r = t[1].data.valid; return e = o, t = n, n = new Date, e = new Date(e), +(we < (n - e) / 864e5 && !t) + +!r }).catch(function (e) { console.debug(e) }) }, h = function () { var e = ye("returnUrl") || window.location.href, t = he(), n = ve(Se()), r = n.host, o = n.hostname, a = ve(e, !1, !0), n = a.host, a = a.hostname; return e && n && n === r || a && a === o || !n && !a ? "".concat(t, "?").concat(ge({ returnUrl: e })) : t }, n = function (e) { e.stopPropagation(), e.preventDefault(), document.dispatchEvent(new CustomEvent(Oe.name)), ue().isUndefined(ue().element("#chat-container").scope()) || (e = ue().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie")), null !== y.EmailVerificationService && void 0 !== y.EmailVerificationService && y.EmailVerificationService.handleUserEmailUpsellAtLogout(pe).then(function (e) { e && !e.emailAddress || pe() }) }, xe = function (e) { y.EventStream && y.EventStream.SendEventWithTarget(e, "click", {}, y.EventStream.TargetTypes.WWW) }, Ae = function (e) { if (Ce || !y.RealTime) return function () { }; document.addEventListener(o.requestCountChanged, e); var t = y.RealTime.Factory.GetClient(); return t.Subscribe(o.friendshipNotifications, e), function () { document.removeEventListener(o.requestCountChanged, e), t.Unsubscribe(o.friendshipNotifications, e) } }, Ie = function (e) { return Ce || !y.RealTime ? function () { } : (document.addEventListener(a, e), function () { document.removeEventListener(a, e) }) }, je = function () { var e; return null !== (e = (null === (e = window) || void 0 === e ? void 0 : e.innerWidth) < 543) && e }, t = function () { var e = (null === (e = window) || void 0 === e ? void 0 : e.location).pathname, e = null !== (e = null == e ? void 0 : e.toLowerCase()) && void 0 !== e ? e : ""; return !e.startsWith("/login") && !e.startsWith("/newlogin") }, Te = function () { var e = le(de); return e.sort(function (e) { return e.pageSort.reduce(function (e, t) { return e || -1 < window.location.href.indexOf(t) }, !1) ? -1 : 1 }), e }, ke = function () { var e = le(be), t = e.filter(function (e) { return e.pageSort.some(function (e) { return -1 < window.location.pathname.indexOf(e) }) }), e = e.filter(function (e) { return e.pageSort.some(function (e) { return -1 === window.location.pathname.indexOf(e) }) }); return [].concat(le(t), le(e)) }, Re = function () { return document.getElementById("navigation-container") && document.getElementById("navigation-container").className }, Ne = function (e) { var n = {}; return ("?" === e[0] ? e.substr(1) : e).split("&").forEach(function (e) { var t; e.includes("=") && (e = (t = se(e.split("="), 2))[0], t = t[1], n[null === (e = decodeURIComponent(e)) || void 0 === e ? void 0 : e.toLowerCase()] = decodeURIComponent(t)) }), n }; function Le() { return (Le = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } function Pe(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r } function Ue(r) { for (var e = 1; e < arguments.length; e++) { var o = null != arguments[e] ? arguments[e] : {}; e % 2 ? Pe(Object(o), !0).forEach(function (e) { var t, n; t = r, e = o[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(o)) : Pe(Object(o)).forEach(function (e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(o, e)) }) } return r } function De(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return qe(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return qe(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function qe(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function Me(e, t) { if (null == e) return {}; var n, r = function (e, t) { if (null == e) return {}; var n, r, o = {}, a = Object.keys(e); for (r = 0; r < a.length; r++)n = a[r], 0 <= t.indexOf(n) || (o[n] = e[n]); return o }(e, t); if (Object.getOwnPropertySymbols) for (var o = Object.getOwnPropertySymbols(e), a = 0; a < o.length; a++)n = o[a], 0 <= t.indexOf(n) || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n]); return r } var Ke = r; function _e(e) { var t = e.translate, n = Me(e, ["translate"]), r = De((0, O.useState)(!1), 2), o = r[0], a = r[1], i = (0, O.useCallback)(function () { a(function (e) { return !e }), xe(Ke.clickMerchandise) }, []), c = function () { a(!1) }, u = Object.values(j.scrollListItems).map(function (e) { return C().createElement(Z, Le({ key: e.name }, Ue(Ue({ translate: t, onClickShopLink: i }, e), n))) }), e = C().createElement("li", { className: "rbx-upgrade-now" }, C().createElement("a", { href: j.upgradeButton.url, className: "btn-growth-md btn-secondary-md", id: "upgrade-now-button" }, t(j.upgradeButton.labelTranslationKey))), r = C().createElement(C().Fragment, null, C().createElement("p", { className: "shop-description" }, t("Description.RetailWebsiteRedirect")), C().createElement("p", { className: "shop-warning" }, t("Description.PurchaseAgeWarning"))), c = C().createElement(p.SimpleModal, { title: t("Heading.LeavingRoblox"), body: r, show: o, actionButtonShow: !0, actionButtonText: t("Action.Continue"), neutralButtonText: t("Action.Cancel"), onAction: function () { var e = decodeURIComponent(y.EnvironmentUrls.amazonWebStoreLink); window.open(e, "_blank"), xe(Ke.goToAmazonStore) }, onNeutral: c, onClose: c }); return C().createElement("ul", { className: "left-col-list" }, u, e, C().createElement(ce, { translate: t }), c) } _e.defaultProps = { sponsoredPagesData: [] }, _e.propTypes = { sponsoredPagesData: f().instanceOf(Array), translate: f().func.isRequired }; var Fe = _e; function Ge(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r } function Be(r) { for (var e = 1; e < arguments.length; e++) { var o = null != arguments[e] ? arguments[e] : {}; e % 2 ? Ge(Object(o), !0).forEach(function (e) { var t, n; t = r, e = o[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(o)) : Ge(Object(o)).forEach(function (e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(o, e)) }) } return r } function Ve(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return Qe(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Qe(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function Qe(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function $e(e) { var n = d.authenticatedUser.isAuthenticated, t = Ve((0, O.useState)({}), 2), r = t[0], o = t[1], a = (c = Ve((0, O.useState)({}), 2))[0], i = c[1], c = (t = Ve((0, O.useState)({}), 2))[0], u = t[1]; return (0, O.useEffect)(function () { var e = function () { }, t = function () { }; return n && (e = Ae(function () { $().then(function (e) { e = e.data; o(e) }, function (e) { console.debug(e) }) }), t = Ie(function () { B().then(function (e) { e = e.data; i(e) }) }), $().then(function (e) { e = e.data; o(e) }, function (e) { console.debug(e) }), B().then(function (e) { e = e.data; i(e) }, function (e) { console.debug(e) }), Q().then(function (e) { e = e.data; u(e) }, function (e) { console.debug(e) })), function () { e(), t() } }, []), C().createElement(Fe, Be({ friendsData: r, messagesData: a, tradeData: c }, e)) } var v = d.authenticatedUser.name, s = d.authenticatedUser.displayName, ze = { nameForDisplay: null !== y.DisplayNames && void 0 !== y.DisplayNames && y.DisplayNames.Enabled() ? s : v, nameForHeader: null !== y.DisplayNames && void 0 !== y.DisplayNames && y.DisplayNames.Enabled() ? x.concatTexts.concat(["", v]) : v }; function He(e, t) { if (null == e) return {}; var n, r = function (e, t) { if (null == e) return {}; var n, r, o = {}, a = Object.keys(e); for (r = 0; r < a.length; r++)n = a[r], 0 <= t.indexOf(n) || (o[n] = e[n]); return o }(e, t); if (Object.getOwnPropertySymbols) for (var o = Object.getOwnPropertySymbols(e), a = 0; a < o.length; a++)n = o[a], 0 <= t.indexOf(n) || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n]); return r } function We(e) { var t = e.isLeftNavOpen, e = He(e, ["isLeftNavOpen"]), t = g()("rbx-left-col", { "nav-show": t }); return C().createElement("div", { id: "navigation", className: t }, C().createElement("ul", null, C().createElement("li", { key: "username" }, C().createElement(p.Link, { className: "dynamic-overflow-container text-nav", role: "link", url: j.scrollListItems.profile.url }, C().createElement("span", { className: "avatar avatar-headshot-xs" }, C().createElement(b.Thumbnail2d, { containerClass: "avatar-card-image", targetId: d.authenticatedUser.id, type: b.ThumbnailTypes.avatarHeadshot, altName: d.authenticatedUser.name })), C().createElement("div", { className: "font-header-2 dynamic-ellipsis-item" }, ze.nameForDisplay))), C().createElement("li", { key: "divider", className: "rbx-divider" })), C().createElement(p.ScrollBar, { className: "rbx-scrollbar" }, C().createElement($e, e))) } We.propTypes = { isLeftNavOpen: f().bool.isRequired }; var Xe = We; function Je(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r } function Ye(r) { for (var e = 1; e < arguments.length; e++) { var o = null != arguments[e] ? arguments[e] : {}; e % 2 ? Je(Object(o), !0).forEach(function (e) { var t, n; t = r, e = o[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(o)) : Je(Object(o)).forEach(function (e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(o, e)) }) } return r } function Ze(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return et(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return et(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function et(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } var tt = c; function nt() { return document.getElementById("navigation-container") } var rt, ot = (0, A.withTranslations)(function (e) { var t = d.authenticatedUser.isAuthenticated, n = Ze((0, O.useState)(!1), 2), r = n[0], o = n[1], a = (0, O.useCallback)(function () { o(!r) }, [r]); return (0, O.useEffect)(function () { return document.addEventListener(tt.name, a), function () { document.removeEventListener(tt.name, a) } }, [a]), t ? C().createElement(Xe, Ye({ isLeftNavOpen: r }, e)) : null }, l), at = CoreRobloxUtilities, it = { debounceTimeout: 100, debouncedSearchInputMaxLength: 35, expiryTimeout: 5e3, variationId: 1, trendingVariationId: 0, requestSuggestionUrl: { url: (r = y.EnvironmentUrls.apiGatewayUrl) + "/games-autocomplete/v1/request-suggestion", withCredentials: !0 }, isSpecialTreatmentAutocompleteRestricted: function () { return 7 === parseInt(nt().dataset.numberOfAutocompleteSuggestions, 10) && j.miscSearchLink.reduce(function (e, t) { return e.push.apply(e, t.pageSort), e }, []).reduce(function (e, t) { return e || -1 < window.location.pathname.indexOf(t) }, !1) }, isSpecialTreatment: function () { var e; return 7 === parseInt(null === (e = nt()) || void 0 === e ? void 0 : e.dataset.numberOfAutocompleteSuggestions, 10) }, numberOfSpecialTreatmentAutocompleteSuggestions: 3, isAutocompleteSuggestionsIXPTestEnabled: function () { var e; return 0 < parseInt(null === (e = nt()) || void 0 === e ? void 0 : e.dataset.numberOfAutocompleteSuggestions, 10) }, numberOfAutocompleteSuggestions: function () { var e; return parseInt(null === (e = nt()) || void 0 === e ? void 0 : e.dataset.numberOfAutocompleteSuggestions, 10) || 0 } }, ct = function () { return (ct = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++)for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }).apply(this, arguments) }, ut = function (e, i, c, u) { return new (c = c || Promise)(function (n, t) { function r(e) { try { a(u.next(e)) } catch (e) { t(e) } } function o(e) { try { a(u.throw(e)) } catch (e) { t(e) } } function a(e) { var t; e.done ? n(e.value) : ((t = e.value) instanceof c ? t : new c(function (e) { e(t) })).then(r, o) } a((u = u.apply(e, i || [])).next()) }) }, lt = function (n, r) { var o, a, i, c = { label: 0, sent: function () { if (1 & i[0]) throw i[1]; return i[1] }, trys: [], ops: [] }, e = { next: t(0), throw: t(1), return: t(2) }; return "function" == typeof Symbol && (e[Symbol.iterator] = function () { return this }), e; function t(t) { return function (e) { return function (t) { if (o) throw new TypeError("Generator is already executing."); for (; c;)try { if (o = 1, a && (i = 2 & t[0] ? a.return : t[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, t[1])).done) return i; switch (a = 0, i && (t = [2 & t[0], i.value]), t[0]) { case 0: case 1: i = t; break; case 4: return c.label++, { value: t[1], done: !1 }; case 5: c.label++, a = t[1], t = [0]; continue; case 7: t = c.ops.pop(), c.trys.pop(); continue; default: if (!(i = 0 < (i = c.trys).length && i[i.length - 1]) && (6 === t[0] || 2 === t[0])) { c = 0; continue } if (3 === t[0] && (!i || t[1] > i[0] && t[1] < i[3])) { c.label = t[1]; break } if (6 === t[0] && c.label < i[1]) { c.label = i[1], i = t; break } if (i && c.label < i[2]) { c.label = i[2], c.ops.push(t); break } i[2] && c.ops.pop(), c.trys.pop(); continue }t = r.call(n, c) } catch (e) { t = [6, e], a = 0 } finally { o = i = 0 } if (5 & t[0]) throw t[1]; return { value: t[0] ? t[1] : void 0, done: !0 } }([t, e]) } } }, st = x.httpService.createCancelToken(); function ft(e) { return void 0 === (null == e ? void 0 : e.label) } function mt(e) { switch (e.type) { case rt.QuerySuggestion: return "keyword"; case rt.GameSuggestion: return "game"; default: throw Error("Unrecognized autocomplete suggestion, ".concat(JSON.stringify(e))) } } function pt(e) { switch (e.label) { case "Label.Players": return "defaultPlayers"; case "Label.AvatarShop": case "Label.sCatalog": return "defaultShops"; case "Label.sGroups": return "defaultGroups"; case "Label.Library": return "defaultLibrary"; case "Label.Experience": return "defaultGames"; default: throw Error("Unrecognized default suggestion, ".concat(JSON.stringify(e))) } } (r = rt = rt || {})[r.GameSuggestion = 0] = "GameSuggestion", r[r.QuerySuggestion = 1] = "QuerySuggestion", r[r.TrendingQuerySuggestion = 2] = "TrendingQuerySuggestion"; for (var dt, bt = function (n) { return ut(void 0, void 0, Promise, function () { var t; return lt(this, function (e) { switch (e.label) { case 0: return t = { prefix: n.toLowerCase(), variationId: it.variationId, trendingSearchId: it.trendingVariationId }, st.cancel(), st = x.httpService.createCancelToken(), [4, x.httpService.post(ct(ct({}, it.requestSuggestionUrl), { timeout: it.expiryTimeout, cancelToken: st.token, fullError: !0 }), t)]; case 1: return [2, e.sent().data] } }) }) }, yt = ft, vt = mt, gt = pt, ht = function (e, t) { var n; return ft(e) ? j.gameSearchLink.url + encodeURIComponent(e.searchQuery) : null != t && null !== (n = t.target) && void 0 !== n && n.value ? e.url + encodeURIComponent(t.target.value) : "" }, St = function (e, t) { return e.map(function (e) { return ft(e) ? "".concat(mt(e), "|").concat(e.searchQuery) : "".concat(pt(e), "|").concat(t) }).join(",") }, Et = new Uint8Array(16), wt = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i, Ot = function (e) { return "string" == typeof e && wt.test(e) }, Ct = [], xt = 0; xt < 256; ++xt)Ct.push((xt + 256).toString(16).substr(1)); var At = function (e) { var t = (Ct[e[(t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0) + 0]] + Ct[e[t + 1]] + Ct[e[t + 2]] + Ct[e[t + 3]] + "-" + Ct[e[t + 4]] + Ct[e[t + 5]] + "-" + Ct[e[t + 6]] + Ct[e[t + 7]] + "-" + Ct[e[t + 8]] + Ct[e[t + 9]] + "-" + Ct[e[t + 10]] + Ct[e[t + 11]] + Ct[e[t + 12]] + Ct[e[t + 13]] + Ct[e[t + 14]] + Ct[e[t + 15]]).toLowerCase(); if (!Ot(t)) throw TypeError("Stringified UUID is invalid"); return t }, r = function (e, t, n) { var r = (e = e || {}).random || (e.rng || function () { if (!dt && !(dt = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto))) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"); return dt(Et) })(); if (r[6] = 15 & r[6] | 64, r[8] = 63 & r[8] | 128, t) { n = n || 0; for (var o = 0; o < 16; ++o)t[n + o] = r[o]; return t } return At(r) }, It = at.eventStreamService.eventTypes, jt = "searchAutocomplete", Tt = { actionTypes: { open: "open", submit: "submit", close: "close" }, generateSessionInfo: r, searchTextTrim: function (e, t, n, r) { return [{ name: "searchTextTrim", type: It.formInteraction, context: jt }, { kwd: e, resultingKwd: t, searchType: n, sessionInfo: r }] }, searchClear: function (e, t, n) { return [{ name: "searchClear", type: It.formInteraction, context: jt }, { kwd: e, searchType: t, sessionInfo: n }] }, searchSuggestionClicked: function (e, t, n, r, o, a, i) { return [{ name: "searchSuggestionClicked", type: It.formInteraction, context: jt }, { kwd: e, searchType: t, suggestionPosition: n, suggestionClicked: r, suggestionType: o, suggestions: a, sessionInfo: i }] }, searchAutocomplete: function (e, t, n, r, o, a, i, c) { return [{ name: "searchAutocomplete", type: It.formInteraction, context: jt }, { kwd: e, previousKwd: t, fromLocalCache: n, suggestions: r, algorithm: o, latency: a, timeoutDelayMs: i, sessionInfo: c }] }, search: function (e, t, n) { return [{ name: "search", type: It.formInteraction, context: jt }, { kwd: e, actionType: t, sessionInfo: n }] } }; function kt(e) { return function (e) { if (Array.isArray(e)) return Lt(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || Nt(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function Rt(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || Nt(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function Nt(e, t) { if (e) { if ("string" == typeof e) return Lt(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Lt(e, t) : void 0 } } function Lt(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function Pt(e) { var o, a = e.translate, i = e.searchInput, c = e.indexOfSelectedOption, u = e.autocompleteSessionInfo, l = e.resetAutocompleteSessionInfo, s = Te(); return C().createElement(C().Fragment, null, Object.entries(s).map(function (e) { var t = Rt(e, 2), n = t[0], r = t[1], e = r.url, t = r.label; "Label.sCatalog" === (o = t) && (o = "Label.AvatarShop"); t = g()("navbar-search-option rbx-clickable-li", parseInt(n, 10) === c ? " selected" : ""); return C().createElement("li", { key: n, className: t }, C().createElement(p.Link, { className: "navbar-search-anchor", url: e + i, onClick: function () { at.eventStreamService.sendEvent.apply(at.eventStreamService, kt(Tt.searchSuggestionClicked(i, void 0, n, i, gt(r), St(s, i), u))), l() } }, a("Label.sSearchPhrase", { phrase: i, location: a(o) }))) })) } Pt.propTypes = { translate: f().func.isRequired, searchInput: f().string.isRequired, indexOfSelectedOption: f().number.isRequired, autocompleteSessionInfo: f().string.isRequired, resetAutocompleteSessionInfo: f().func.isRequired }; var Ut = Pt; function Dt(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return qt(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return qt(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function qt(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } var Mt = j.gameSearchLink; function Kt(e) { var t = e.translate, n = e.selected, r = e.suggestion, o = e.onClick, a = g()("navbar-search-option rbx-clickable-li", { "new-selected": n }), i = r.type, c = r.universeId, e = r.searchQuery, n = Dt((0, O.useState)(!1), 2), r = n[0], u = n[1]; return i === rt.GameSuggestion ? C().createElement("li", { className: a }, C().createElement(p.Link, { className: "new-navbar-search-anchor", url: Mt.url + encodeURIComponent(e), onClick: o }, C().createElement("span", { className: g()(Mt.icon, "navbar-list-option-icon") }), C().createElement("span", { className: "navbar-list-option-text" }, e), C().createElement("span", { className: "navbar-list-option-suffix" }, t("Label.sSearchPhraseV2", { location: t(Mt.label) })), C().createElement("span", { className: g()("navbar-list-option-thumbnail", { "navbar-list-option-thumbnail-visible": r }) }, C().createElement("span", { className: "background-icon" }), C().createElement(b.Thumbnail2d, { type: b.ThumbnailTypes.gameIcon, size: b.DefaultThumbnailSize, targetId: c, containerClass: "thumbnail-icon", format: b.ThumbnailFormat.jpeg, onLoad: function () { u(!0) } })))) : C().createElement("li", { className: a }, C().createElement(p.Link, { className: "new-navbar-search-anchor", url: Mt.url + encodeURIComponent(e), onClick: o }, C().createElement("span", { className: g()(Mt.icon, "navbar-list-option-icon") }), C().createElement("span", { className: "navbar-list-option-text" }, e), C().createElement("span", { className: "navbar-list-option-suffix" }, t("Label.sSearchPhraseV2", { location: t(Mt.label) })))) } function _t(e) { var t = e.translate, n = e.selected, r = e.searchInput, o = e.suggestion, a = e.onClick, i = o.url, e = o.label, o = o.icon, n = g()("navbar-search-option rbx-clickable-li", { "new-selected": n }); return C().createElement("li", { className: n }, C().createElement(p.Link, { className: "new-navbar-search-anchor", url: i + encodeURIComponent(r), onClick: a }, C().createElement("span", { className: g()(o, "navbar-list-option-icon") }), C().createElement("span", { className: "navbar-list-option-text" }, r.toLowerCase()), C().createElement("span", { className: "navbar-list-option-suffix" }, t("Label.sSearchPhraseV2", { location: t(e) })))) } function Ft(e) { return function (e) { if (Array.isArray(e)) return Gt(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || function (e, t) { if (!e) return; if ("string" == typeof e) return Gt(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Gt(e, t) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function Gt(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function Bt(e) { function r(e, t) { return function () { at.eventStreamService.sendEvent.apply(at.eventStreamService, Ft(Tt.searchSuggestionClicked(a, void 0, t, a, e, St(n, a), c))), u() } } var o = e.translate, a = e.searchInput, i = e.indexOfSelectedOption, n = e.searchSuggestions, c = e.autocompleteSessionInfo, u = e.resetAutocompleteSessionInfo; return n.map(function (e, t) { var n = parseInt(t, 10) === i; return yt(e) ? C().createElement(Kt, { key: e.searchQuery, translate: o, selected: n, suggestion: e, onClick: r(vt(e), t) }) : C().createElement(_t, { key: e.url, translate: o, selected: n, suggestion: e, searchInput: a, onClick: r(gt(e), t) }) }) } Kt.propTypes = { translate: f().func.isRequired, selected: f().bool.isRequired, suggestion: f().shape({ type: f().number.isRequired, score: f().number.isRequired, universeId: f().number, canonicalTitle: f().string, thumbnailUrl: f().string, searchQuery: f().string.isRequired, trendingSearchStartDateTime: f().string }).isRequired, onClick: f().func.isRequired }, _t.propTypes = { translate: f().func.isRequired, selected: f().bool.isRequired, searchInput: f().string.isRequired, suggestion: f().shape({ url: f().string.isRequired, label: f().string.isRequired, pageSort: f().arrayOf(f().string).isRequired, icon: f().string.isRequired }).isRequired, onClick: f().func.isRequired }, Bt.propTypes = { translate: f().func.isRequired, searchInput: f().string.isRequired, indexOfSelectedOption: f().number.isRequired, searchSuggestions: f().arrayOf(f().oneOfType([f().shape({ type: f().number.isRequired, score: f().number.isRequired, universeId: f().number.isRequired, canonicalTitle: f().string, thumbnailUrl: f().string, searchQuery: f().string.isRequired, trendingSearchStartDateTime: f().string }), f().shape({ url: f().string.isRequired, label: f().string.isRequired, pageSort: f().arrayOf(f().string).isRequired, icon: f().string.isRequired })])).isRequired, autocompleteSessionInfo: f().string.isRequired, resetAutocompleteSessionInfo: f().func.isRequired }; var Vt = Bt; function Qt(e) { return function (e) { if (Array.isArray(e)) return $t(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || function (e, t) { if (!e) return; if ("string" == typeof e) return $t(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return $t(e, t) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function $t(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function zt(e) { var t = e.translate, n = e.searchInput, r = e.isMenuOpen, o = e.openMenu, a = e.closeMenu, i = e.handleSearch, c = e.setIsMenuHover, u = e.indexOfSelectedOption, l = e.onSubmit, s = e.onKeyDown, f = e.onKeyUp, m = e.isUniverseSearchShown, p = e.searchSuggestions, d = e.autocompleteSessionInfo, b = e.resetAutocompleteSessionInfo, y = (0, O.createRef)(), v = (0, O.createRef)(), e = function () { var e; at.eventStreamService.sendEvent.apply(at.eventStreamService, Qt(Tt.searchClear(n, void 0, d))), null == y || null !== (e = y.current) && void 0 !== e && e.focus(), i({ target: { value: "" } }) }, m = g()("navbar-left navbar-search col-xs-5 col-sm-6 col-md-2 col-lg-3", { "navbar-search-open": r, shown: m }); return (0, A.useOnClickOutside)([y, v], a), C().createElement("div", { id: "navbar-universal-search", className: m, role: "search" }, C().createElement("div", { className: "input-group" }, C().createElement("form", { onSubmit: l }, it.isAutocompleteSuggestionsIXPTestEnabled() ? C().createElement("div", { className: "form-has-feedback" }, C().createElement("input", { ref: y, id: "navbar-search-input", className: "form-control input-field new-input-field", value: n, onChange: i, placeholder: t("Label.sSearch"), maxLength: "120", onFocus: o, onKeyDown: s, onKeyUp: f, autoComplete: "off", autoCorrect: "off", autoCapitalize: "off", spellCheck: "false" }), 0 < n.length && C().createElement("span", { id: "navbar-search-clear-btn", tabIndex: 0, role: "button", "aria-label": "Clear Search", onClick: e, onKeyDown: e, className: "clear-search icon-actions-clear-sm" }, C().createElement("span", null))) : C().createElement("input", { ref: y, id: "navbar-search-input", className: "form-control input-field", type: "text", value: n, onChange: i, placeholder: t("Label.sSearch"), maxLength: "120", onFocus: o, onKeyDown: s, onKeyUp: f, autoComplete: "off" })), C().createElement("div", { className: "input-group-btn" }, C().createElement("button", { id: "navbar-search-btn", className: "input-addon-btn", type: "submit" }, C().createElement("span", { className: "icon-common-search-sm" })))), C().createElement("ul", { ref: v, className: g()("dropdown-menu", { "new-dropdown-menu": it.isAutocompleteSuggestionsIXPTestEnabled() }), role: "menu", onMouseEnter: function () { c(!0) }, onMouseLeave: function () { c(!1) } }, it.isAutocompleteSuggestionsIXPTestEnabled() ? C().createElement(Vt, { translate: t, searchInput: n, indexOfSelectedOption: u, searchSuggestions: p, autocompleteSessionInfo: d, resetAutocompleteSessionInfo: b }) : C().createElement(Ut, { translate: t, searchInput: n, indexOfSelectedOption: u, autocompleteSessionInfo: d, resetAutocompleteSessionInfo: b }))) } zt.defaultProps = { isUniverseSearchShown: !0 }, zt.propTypes = { translate: f().func.isRequired, searchInput: f().string.isRequired, isMenuOpen: f().bool.isRequired, openMenu: f().func.isRequired, closeMenu: f().func.isRequired, handleSearch: f().func.isRequired, setIsMenuHover: f().func.isRequired, indexOfSelectedOption: f().number.isRequired, onSubmit: f().func.isRequired, onKeyDown: f().func.isRequired, onKeyUp: f().func.isRequired, isUniverseSearchShown: f().bool, searchSuggestions: f().arrayOf(f().oneOfType([f().shape({ type: f().number.isRequired, score: f().number.isRequired, universeId: f().number.isRequired, canonicalTitle: f().string, thumbnailUrl: f().string, searchQuery: f().string.isRequired, trendingSearchStartDateTime: f().string }), f().shape({ url: f().string.isRequired, label: f().string.isRequired, pageSort: f().arrayOf(f().string).isRequired, icon: f().string })])).isRequired, autocompleteSessionInfo: f().string.isRequired, resetAutocompleteSessionInfo: f().func.isRequired }; var Ht = zt; function Wt(e, t, n, r, o, a, i) { try { var c = e[a](i), u = c.value } catch (e) { return void n(e) } c.done ? t(u) : Promise.resolve(u).then(r, o) } function Xt(e) { return function (e) { if (Array.isArray(e)) return Zt(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || Yt(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function Jt(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || Yt(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function Yt(e, t) { if (e) { if ("string" == typeof e) return Zt(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Zt(e, t) : void 0 } } function Zt(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function en(e) { var t = e.translate, n = e.isUniverseSearchShown, r = Jt((0, O.useState)(Ne(window.location.search).keyword || ""), 2), o = r[0], a = r[1], i = (0, A.useDebounce)(o, it.debounceTimeout), u = (0, A.usePrevious)(i), c = Jt((0, O.useState)(null), 2), l = c[0], s = c[1], e = Jt((0, O.useState)(Tt.generateSessionInfo()), 2), f = e[0], m = e[1], r = Jt((0, O.useState)(!1), 2), c = r[0], p = r[1], e = Jt((0, O.useState)(!1), 2), d = e[0], r = e[1], e = Jt((0, O.useState)(0), 2), b = e[0], y = e[1], v = I, g = (it.isAutocompleteSuggestionsIXPTestEnabled() ? ke : Te)(), h = g.findIndex(function (e) { return e.label === j.gameSearchLink.label }), S = (0, O.useMemo)(function () { if (l) { if (it.isSpecialTreatmentAutocompleteRestricted()) return g; var e = -1 === l.findIndex(function (e) { return e.searchQuery === i.toLowerCase() && e.type === rt.GameSuggestion }), t = l.filter(function (e) { return e.searchQuery !== i.toLowerCase() || e.type === rt.GameSuggestion }).slice(0, it.isSpecialTreatment() ? it.numberOfSpecialTreatmentAutocompleteSuggestions : it.numberOfAutocompleteSuggestions()); return [].concat(Xt(g.slice(0, e ? h + 1 : h)), Xt(t), Xt(g.slice(h + 1))) } return g }, [l]), E = S.length; (0, O.useEffect)(function () { at.eventStreamService.sendEvent.apply(at.eventStreamService, Xt(Tt.search(o, Tt.actionTypes.submit, f))), function () { var c, e = (c = regeneratorRuntime.mark(function e() { var t, n, r, o; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (it.isAutocompleteSuggestionsIXPTestEnabled() && "" !== i && i.length <= it.debouncedSearchInputMaxLength) return s(null), t = Date.now(), e.prev = 3, e.next = 6, bt(i); e.next = 16; break; case 6: n = e.sent, r = Date.now(), o = n.entries.slice(0, it.numberOfAutocompleteSuggestions()), at.eventStreamService.sendEvent.apply(at.eventStreamService, Xt(Tt.searchAutocomplete(i, u, !1, St(o, i), n.algorithmName, r - t, it.debounceTimeout, f))), s(n.entries), e.next = 16; break; case 13: e.prev = 13, e.t0 = e.catch(3), x.httpService.isCancelled(e.t0) || s([]); case 16: case "end": return e.stop() } }, e, null, [[3, 13]]) }), function () { var e = this, i = arguments; return new Promise(function (t, n) { var r = c.apply(e, i); function o(e) { Wt(r, t, n, o, a, "next", e) } function a(e) { Wt(r, t, n, o, a, "throw", e) } o(void 0) }) }); return function () { return e.apply(this, arguments) } }()() }, [i]); function w() { m(Tt.generateSessionInfo()) } return C().createElement(Ht, { searchInput: o, handleSearch: function (e) { e = e.target.value; e.length < o.length && at.eventStreamService.sendEvent.apply(at.eventStreamService, Xt(Tt.searchTextTrim(o, e, void 0, f))), 0 === e.length && w(), y(0), p(0 < e.length), a(e) }, openMenu: function () { var e = Tt.generateSessionInfo(); at.eventStreamService.sendEvent.apply(at.eventStreamService, Xt(Tt.search(o, Tt.actionTypes.open, e))), m(e), 0 === o.length || d || p(!0) }, closeMenu: function () { at.eventStreamService.sendEvent.apply(at.eventStreamService, Xt(Tt.search(o, Tt.actionTypes.close, f))), p(!1) }, setIsMenuHover: r, isMenuOpen: c, indexOfSelectedOption: b, onSubmit: function (e) { e.preventDefault(), e.stopPropagation() }, onKeyDown: function (e) { var t = b; e.keyCode !== v.arrowUp && e.keyCode !== v.arrowDown && e.keyCode !== v.tab || (e.stopPropagation(), e.preventDefault(), e.keyCode === v.arrowUp ? --t : t += 1, (t %= E) < 0 && (t = E + t), y(t)) }, onKeyUp: function (e) { var t; e.keyCode === v.enter && (e.stopPropagation(), e.preventDefault(), t = S[b], yt(t) ? at.eventStreamService.sendEvent.apply(at.eventStreamService, Xt(Tt.searchSuggestionClicked(i, void 0, b, t.searchQuery, vt(t), St(S, o), f))) : at.eventStreamService.sendEvent.apply(at.eventStreamService, Xt(Tt.searchSuggestionClicked(i, void 0, b, i, gt(t), St(S, o), f))), w(), (e = ht(t, e)) && (window.location = e)) }, isUniverseSearchShown: n, translate: t, searchSuggestions: S, autocompleteSessionInfo: f, resetAutocompleteSessionInfo: w }) } en.defaultProps = { isUniverseSearchShown: !0 }, en.propTypes = { translate: f().func.isRequired, isUniverseSearchShown: f().bool }; var tn = (0, A.withTranslations)(en, l); function nn(e) { return (nn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function rn(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } function on(e, t) { return (on = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } function an(n) { var r = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var e, t = cn(n); return e = r ? (e = cn(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== nn(e) && "function" != typeof e ? function (e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } } function cn(e) { return (cn = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } var un = function () { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && on(e, t) }(o, C().Component); var e, t, n, r = an(o); function o() { var e; return function (e) { if (!(e instanceof o)) throw new TypeError("Cannot call a class as a function") }(this), (e = r.call(this)).html = "\n            <div login-form\n                context='loginDropdown'\n                is-facebook-sign-in-enabled='true'\n                use-facebook-redirect='true'\n                redirect-to-login-page-when-username-is-required='true'\n            ></div>", e } return e = o, (t = [{ key: "componentDidMount", value: function () { try { ue().module("login"), ue().bootstrap(this.container, ["login", "loginAppTemplates"]) } catch (e) { console.log(e) } } }, { key: "render", value: function () { var t = this; return C().createElement("div", { id: "login-container", className: "login-container", ref: function (e) { t.container = e }, dangerouslySetInnerHTML: { __html: this.html } }) } }]) && rn(e.prototype, t), n && rn(e, n), o }(); function ln(e) { return (ln = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function sn(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } function fn(e, t) { return (fn = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } function mn(n) { var r = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var e, t = pn(n); return e = r ? (e = pn(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== ln(e) && "function" != typeof e ? function (e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } } function pn(e) { return (pn = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } var dn = function () { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && fn(e, t) }(o, C().Component); var e, t, n, r = mn(o); function o() { return function (e) { if (!(e instanceof o)) throw new TypeError("Cannot call a class as a function") }(this), r.apply(this, arguments) } return e = o, (t = [{ key: "componentDidMount", value: function () { try { ue().module("notificationStreamIcon"), ue().bootstrap(this.container, ["notificationStreamIcon"]) } catch (e) { console.log(e) } } }, { key: "render", value: function () { var t = this; return C().createElement("span", { ref: function (e) { t.container = e }, className: "nav-robux-icon rbx-menu-item" }, C().createElement("span", { id: "notification-stream-icon-container", "notification-stream-indicator": "true" })) } }]) && sn(e.prototype, t), n && sn(e, n), o }(); function bn(e) { return (bn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function yn(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } function vn(e, t) { return (vn = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } function gn(n) { var r = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var e, t = hn(n); return e = r ? (e = hn(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== bn(e) && "function" != typeof e ? function (e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } } function hn(e) { return (hn = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } var Sn = function () { !function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && vn(e, t) }(o, C().Component); var e, t, n, r = gn(o); function o() { return function (e) { if (!(e instanceof o)) throw new TypeError("Cannot call a class as a function") }(this), r.apply(this, arguments) } return e = o, (t = [{ key: "componentDidMount", value: function () { try { ue().module("notificationStream"), ue().bootstrap(this.container, ["notificationStream"]) } catch (e) { console.log(e) } } }, { key: "render", value: function () { var t = this, e = Re(), e = g()("notification-stream-base", e); return C().createElement("div", { ref: function (e) { t.container = e }, className: e, "notification-stream-base-view": "true" }) } }]) && yn(e.prototype, t), n && yn(e, n), o }(); function En() { return C().createElement(p.Popover, { id: "notification-stream-popover", trigger: "click", placement: "bottom", closeOnClick: !1, icon: C().createElement("li", { id: "navbar-stream", className: "navbar-icon-item navbar-stream" }, C().createElement(dn, null)), role: "menu" }, C().createElement(Sn, null)) } En.propTypes = {}; var wn = En; function On(e) { var t = e.accountNotificationCount, e = g()("notification-red notification nav-setting-highlight", { hidden: 0 === t }); return C().createElement("span", { id: "settings-icon", className: "nav-settings-icon rbx-menu-item" }, C().createElement("span", { className: "icon-nav-settings roblox-popover-close", id: "nav-settings" }), C().createElement("span", { className: e }, t)) } On.defaultProps = { accountNotificationCount: 0 }, On.propTypes = { accountNotificationCount: f().number }; var Cn = On; function xn(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return An(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return An(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function An(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } var In = j.settingsUrl, jn = j.quickLoginUrl, Tn = n, kn = u.quickLogin, Rn = u.settings, Nn = u.logout; function Ln(e) { var r = e.translate, o = e.accountNotificationCount, a = e.isCrossDeviceLoginCodeValidationDisplayed, i = g()("notification-blue notification nav-setting-highlight", { hidden: 0 === o }); return Object.entries(In).map(function (e) { var t = xn(e, 2), n = t[0], e = t[1], t = e.url, e = e.label; return C().createElement("li", null, n === Nn && C().createElement(p.Link, { className: "rbx-menu-item logout-menu-item", key: n, onClick: Tn, url: "#" }, r(e)), n === kn && a && C().createElement(p.Link, { className: "rbx-menu-item", key: n, url: jn }, r(e)), n !== Nn && n !== kn && C().createElement(p.Link, { cssClasses: "rbx-menu-item", key: n, url: t }, r(e), n === Rn && C().createElement("span", { className: i }, o))) }) } Ln.defaultProps = { accountNotificationCount: 0, isCrossDeviceLoginCodeValidationDisplayed: !1 }, Ln.propTypes = { translate: f().func.isRequired, accountNotificationCount: f().number, isCrossDeviceLoginCodeValidationDisplayed: f().bool }; var Pn = Ln; function Un(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return Dn(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Dn(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function Dn(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function qn(e) { var t = e.translate, n = e.accountNotificationCount, r = Un((0, O.useState)(!1), 2), e = r[0], o = r[1]; return (0, O.useEffect)(function () { o(!0) }, []), C().createElement(p.Popover, { id: "settings-popover", trigger: "click", placement: "bottom", className: Re(), containerPadding: 20, icon: C().createElement("li", { id: "navbar-settings", className: "cursor-pointer navbar-icon-item" }, C().createElement(Cn, { accountNotificationCount: n })), role: "menu" }, C().createElement("div", { className: Re() }, C().createElement("ul", { id: "settings-popover-menu", className: "dropdown-menu" }, C().createElement(Pn, { isCrossDeviceLoginCodeValidationDisplayed: e, translate: t, accountNotificationCount: n })))) } qn.defaultProps = { accountNotificationCount: 0 }, qn.propTypes = { translate: f().func.isRequired, accountNotificationCount: f().number }; var Mn = qn; function Kn(e) { var t = e.robuxAmount, n = e.isGetCurrencyCallDone, e = e.robuxError, t = e ? i : x.abbreviateNumber.getTruncValue(t), t = C().createElement("span", null, C().createElement("span", { className: "icon-robux-28x28 roblox-popover-close", id: "nav-robux" }), C().createElement("span", { className: "rbx-text-navbar-right text-header", id: "nav-robux-amount" }, n && t)); return C().createElement("span", { id: "nav-robux-icon", className: "nav-robux-icon rbx-menu-item" }, e ? C().createElement(p.Tooltip, { id: "current-error", content: e, placement: "bottom", containerClassName: "nav-buy-robux-icon-tooltip-container" }, t) : t) } Kn.defaultProps = { robuxAmount: 0, robuxError: "" }, Kn.propTypes = { robuxAmount: f().number, robuxError: f().string, isGetCurrencyCallDone: f().bool.isRequired }; var _n = Kn, Fn = j.buyRobuxUrl; function Gn(e) { var t = e.translate, n = e.robuxAmount, r = e.isGetCurrencyCallDone, n = e.robuxError ? i : x.numberFormat.getNumberFormat(n); return C().createElement(C().Fragment, null, C().createElement("li", null, C().createElement(p.Link, { cssClasses: "rbx-menu-item", id: "nav-robux-balance", url: Fn.robuxBalance.url }, r && t("Label.sRobuxMessage", { robuxValue: n }))), C().createElement("li", null, C().createElement(p.Link, { cssClasses: "rbx-menu-item", url: Fn.buyRobux.url }, t(Fn.buyRobux.label)))) } Gn.defaultProps = { robuxAmount: 0, robuxError: "" }, Gn.propTypes = { translate: f().func.isRequired, robuxAmount: f().number, robuxError: f().string, isGetCurrencyCallDone: f().bool.isRequired }; var Bn = Gn; function Vn(e) { var t = e.translate, n = e.robuxAmount, r = e.isGetCurrencyCallDone, e = e.robuxError; return C().createElement(p.Popover, { id: "buy-robux-popover", trigger: "click", placement: "bottom", icon: C().createElement("li", { id: "navbar-robux", className: "cursor-pointer navbar-icon-item" }, C().createElement(_n, { robuxAmount: n, isGetCurrencyCallDone: r, robuxError: e })), role: "menu" }, C().createElement("div", { className: Re() }, C().createElement("ul", { id: "buy-robux-popover-menu", className: "dropdown-menu" }, C().createElement(Bn, { translate: t, robuxAmount: n, isGetCurrencyCallDone: r, robuxError: e })))) } Vn.defaultProps = { robuxAmount: 0, robuxError: "" }, Vn.propTypes = { translate: f().func.isRequired, robuxAmount: f().number, robuxError: f().string, isGetCurrencyCallDone: f().bool.isRequired }; var Qn = Vn; function $n(e) { e = e.toggleUniverseSearch; return C().createElement("li", { className: "cursor-pointer rbx-navbar-right-search", onClick: e, onKeyPress: e, role: "menuitem" }, C().createElement("span", { className: "rbx-menu-icon rbx-menu-item" }, C().createElement("span", { className: "icon-nav-search-white" }))) } $n.propTypes = { toggleUniverseSearch: f().func.isRequired }; var zn = $n; function Hn() { var e = d.authenticatedUser.isUnder13; return C().createElement("div", { className: "age-bracket-label text-header" }, C().createElement(p.Link, { className: "text-link dynamic-overflow-container", url: j.scrollListItems.profile.url }, C().createElement("span", { className: "avatar avatar-headshot-xs" }, C().createElement(b.Thumbnail2d, { containerClass: "avatar-card-image", targetId: d.authenticatedUser.id, type: b.ThumbnailTypes.avatarHeadshot, altName: d.authenticatedUser.name })), C().createElement("span", { className: "text-overflow age-bracket-label-username font-caption-header" }, ze.nameForHeader)), C().createElement("span", { className: "xsmall age-bracket-label-age text-secondary" }, e ? "<13" : "13+")) } Hn.propTypes = {}; var Wn = Hn; function Xn(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return Jn(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Jn(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function Jn(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } var Yn = m; function Zn(e) { var t = e.translate, n = e.toggleUniverseSearch, r = d.authenticatedUser.isAuthenticated, o = d.authenticatedUser.id, a = Xn((0, O.useState)(0), 2), i = a[0], c = a[1], u = Xn((0, O.useState)(!1), 2), l = u[0], s = u[1], e = Xn((0, O.useState)(0), 2), a = e[0], f = e[1], u = Xn((0, O.useState)(""), 2), e = u[0], m = u[1]; (0, O.useEffect)(function () { r && (Yn().then(c), V(o).then(function (e) { e = e.data; f(e.robux) }, function () { m("Currency service unavailable") }).finally(function () { s(!0) })) }, [r, o]); var p = C().createElement("li", { id: "navbar-stream", className: "navbar-icon-item navbar-stream" }, C().createElement("span", { className: "nav-robux-icon rbx-menu-item" }, C().createElement("span", { id: "notification-stream-icon-container", "notification-stream-indicator": "true" }))); try { ue().module("notificationStreamIcon"), ue().module("notificationStream"), p = C().createElement(wn, null) } catch (e) { console.log(e) } return C().createElement("ul", { className: "nav navbar-right rbx-navbar-icon-group" }, C().createElement(Wn, null), C().createElement(Mn, { translate: t, accountNotificationCount: i }), C().createElement(Qn, { translate: t, robuxAmount: a, isGetCurrencyCallDone: l, robuxError: e }), p, C().createElement(zn, { translate: t, toggleUniverseSearch: n })) } function er() { window.location.href = nr() } Zn.defaultProps = { accountNotificationCount: 0 }, Zn.propTypes = { translate: f().func.isRequired, accountNotificationCount: f().number, toggleUniverseSearch: f().func.isRequired }; var tr = Zn, nr = h; function rr(e) { e = e.translate; return C().createElement("li", { className: "signup-button-container" }, C().createElement(p.Link, { onClick: er, url: nr(), id: "sign-up-button", className: "rbx-navbar-signup btn-growth-sm nav-menu-title signup-button" }, e("Label.sSignUp"))) } rr.propTypes = { translate: f().func.isRequired }; var or = rr; function ar() { return (ar = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } function ir(e, t) { if (null == e) return {}; var n, r = function (e, t) { if (null == e) return {}; var n, r, o = {}, a = Object.keys(e); for (r = 0; r < a.length; r++)n = a[r], 0 <= t.indexOf(n) || (o[n] = e[n]); return o }(e, t); if (Object.getOwnPropertySymbols) for (var o = Object.getOwnPropertySymbols(e), a = 0; a < o.length; a++)n = o[a], 0 <= t.indexOf(n) || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n]); return r } var cr = t; function ur(e) { var t = e.translate, n = e.toggleUniverseSearch, e = ir(e, ["translate", "toggleUniverseSearch"]); return d.authenticatedUser.isAuthenticated ? C().createElement("div", { className: "navbar-right rbx-navbar-right" }, C().createElement(tr, ar({ translate: t, toggleUniverseSearch: n }, e))) : C().createElement("div", { className: "navbar-right rbx-navbar-right" }, C().createElement("ul", { className: "nav navbar-right rbx-navbar-right-nav" }, C().createElement(or, { translate: t }), C().createElement("li", { className: "login-action" }, cr() && C().createElement(p.Popover, { id: "login-popover", trigger: "click", placement: "bottom", closeOnClick: !1, icon: C().createElement("span", null, C().createElement("a", { className: "font-header-2 rbx-navbar-login nav-menu-title rbx-menu-item" }, t("Label.sLogin"))), role: "menu" }, C().createElement(un, null))), C().createElement(zn, { translate: t, toggleUniverseSearch: n }))) } ur.propTypes = { translate: f().func.isRequired, toggleUniverseSearch: f().func.isRequired }; var lr = ur; function sr() { return (sr = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } function fr(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var n = [], r = !0, o = !1, a = void 0; try { for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value), !t || n.length !== t); r = !0); } catch (e) { o = !0, a = e } finally { try { r || null == c.return || c.return() } finally { if (o) throw a } } return n }(e, t) || function (e, t) { if (!e) return; if ("string" == typeof e) return mr(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return mr(e, t) }(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function mr(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } var pr = (0, A.withTranslations)(function (e) { var t = je(), n = fr((0, O.useState)(t), 2), r = n[0], o = n[1], t = (n = fr((0, O.useState)(!t), 2))[0], a = n[1], i = (0, O.useCallback)(function () { var e = je(); r !== e && (o(e), a(!e)) }, [r]); return (0, O.useEffect)(function () { return window.addEventListener("resize", i), function () { window.removeEventListener("resize", i) } }, [i]), C().createElement(C().Fragment, null, C().createElement(tn, sr({ isUniverseSearchShown: t }, e)), C().createElement(lr, sr({ toggleUniverseSearch: function () { a(function (e) { return !e }) } }, e))) }, l), dr = c; function br() { function e() { document.dispatchEvent(new CustomEvent(dr.name)) } return C().createElement("span", { onClick: e, onKeyPress: e, className: "icon-nav-menu" }) } br.propTypes = {}; var yr = br, vr = (Er(635), "right-navigation-header"), gr = "left-navigation-container", hr = "header-menu-icon", Sr = d.authenticatedUser.isAuthenticated; (0, x.ready)(function () { document.getElementById(hr) && Sr && (0, e.render)(C().createElement(yr, null), document.getElementById(hr)), document.getElementById(vr) && (0, e.render)(C().createElement(pr, null), document.getElementById(vr)), document.getElementById(gr) && (0, e.render)(C().createElement(ot, null), document.getElementById(gr)) }) }()
}();
//# sourceMappingURL=/rbxcdn/js/6b9a527eda0d1394c336-navigation.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Navigation");