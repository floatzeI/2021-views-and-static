!function(){var t={7084:function(r,e,t){var o={"./groupCardComponent.js":5025};function n(r){r=u(r);return t(r)}function u(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=u,(r.exports=n).id=7084},2104:function(r,e,t){var o={"./groupResources.js":7240,"./groupsConstants.js":7376};function n(r){r=u(r);return t(r)}function u(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=u,(r.exports=n).id=2104},5027:function(r,e,t){var o={"./exileUserController.js":2233,"./groupCardController.js":4945};function n(r){r=u(r);return t(r)}function u(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=u,(r.exports=n).id=5027},8913:function(r,e,t){var o={"./groupMembershipService.js":9233,"./groupUtilityService.js":85,"./groupsService.js":9695};function n(r){r=u(r);return t(r)}function u(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=u,(r.exports=n).id=8913},8292:function(r,e,t){var o={"./components/templates/exileUserModal.html":6361,"./components/templates/groupCard.html":3290};function n(r){r=u(r);return t(r)}function u(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=u,(r.exports=n).id=8292},726:function(r){function u(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(r){return r.split("/").pop().replace(".html","")}var e={importFilesUnderPath:function(r){r.keys().forEach(r)},templateCacheGenerator:function(r,e,o,n){return r.module(e,[]).run(["$templateCache",function(t){o&&o.keys().forEach(function(r){var e=u(s(r));t.put(e,o(r))}),n&&n.keys().forEach(function(r){var e=u(s(r));t.put(e,n(r).replace(/<\/?script[^>]*>/gi,""))})}])}};r.exports=e},5025:function(r,e,t){"use strict";t.r(e);var o={templateUrl:"group-card",bindings:{group:"<"},controller:"groupCardController"};t(6519).Z.component("groupCard",o),e.default=o},7240:function(r,e,t){"use strict";t.r(e);var o={templates:{groupsListBaseTemplate:"groups-list-base",groupsListTemplate:"groups-list",groupAboutTemplate:"group-about",groupBaseTemplate:"group-base",groupWallTemplate:"group-wall",groupCommentsTemplate:"group-comments",groupMembersListTemplate:"group-members-list",groupGamesTemplate:"group-games",groupStoreTemplate:"group-store",groupStoreItemTemplate:"group-store-item",GroupResultsBaseTemplate:"group-results-base",groupCatalogItemTemplate:"group-catalog-item",groupSearchBarTemplate:"group-search-bar"},modals:{openedClass:"modal-open-noscroll",exileUser:{templateUrl:"exile-user-modal",controller:"exileUserController"},leaveGroup:{templateUrl:"leave-group-modal",controller:"leaveGroupController"},reportAbuse:{templateUrl:"report-abuse-modal",controller:"reportAbuseController"}}};t(6519).Z.constant("groupResources",o),e.default=o},7376:function(r,e,t){"use strict";t.r(e);var o=t(792),t=t(6519),o={bannerExpiryInMilliseconds:5e3,wallReloadDelay:1e3,thumbnailSizes:{small:"150x150",large:"420x420"},relationshipTypes:{allies:"Allies",enemies:"Enemies"},groupIconFileTypes:[".jpg",".png",".jpeg"],absoluteUrls:{createGroup:o.Endpoints.getAbsoluteUrl("/groups/create"),moreGroups:o.Endpoints.getAbsoluteUrl("/search/groups"),myGroups:o.Endpoints.getAbsoluteUrl("/my/groups")},urls:{getGroup:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{id}"),getGroupMetadata:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/metadata"),getGroupConfigurationMetadata:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/configuration/metadata"),updateGroupSettings:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{id}/settings"),searchGroups:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/search"),deleteWallPostsByUser:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/wall/users/{userId}/posts"),getGroupRelationships:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/relationships/{groupRelationshipType}"),groupLookup:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/search/lookup"),getCurrency:"".concat(o.EnvironmentUrls.economyApi,"/v1/groups/{groupId}/currency"),getGroupMembership:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{id}/membership"),updatePrimaryGroup:"".concat(o.EnvironmentUrls.groupsApi,"/v1/user/groups/primary"),claimOwnership:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/claim-ownership"),deleteGroupJoinRequest:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/join-requests/users/{userId}"),joinGroup:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{id}/users"),updateUserRole:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/users/{userId}"),getGroupRoles:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{id}/roles"),getGroupRolePermissions:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/roles/{roleSetId}/permissions"),getGroupRoleMembers:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/{groupId}/roles/{roleId}/users"),getGroupRolesForUser:"".concat(o.EnvironmentUrls.groupsApi,"/v2/users/{userId}/groups/roles"),usernames:"".concat(o.EnvironmentUrls.usersApi,"/v1/usernames/users"),usersSearch:"".concat(o.EnvironmentUrls.usersApi,"/v1/users/search"),getGroupDetailsPolicy:"".concat(o.EnvironmentUrls.universalAppConfigurationApi,"/v1/behaviors/group-details-ui/content"),getConfigureGroupPolicy:"".concat(o.EnvironmentUrls.universalAppConfigurationApi,"/v1/behaviors/configure-group-ui/content"),getGroupPolicyInfo:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/policies"),getAddFundsAllowedUrl:"".concat(o.EnvironmentUrls.economyApi,"/v1/groups/{groupId}/addfunds/allowed")},errorCodes:{internal:{unknown:0,captcha:1,invalidMembership:10,tooManyGroups:11,insufficientRobux:12,nameInvalid:13,nameModerated:14,groupIconInvalid:15,groupIconMissing:16,tooManyRequests:17,descriptionTooLong:18,nameTooLong:19,duplicateName:20,featureDisabled:21,groupIconTooLarge:22},sendGroupWallPost:{7:1},membership:{captcha:5,operationUnavailable:18},getGroupMembership:{3:1}},statusCodes:{payloadTooLarge:413},translations:{buildGroupRolesListError:"Message.BuildGroupRolesListError",loadGroupError:"Message.LoadGroupError",loadGroupMetadataError:"Message.LoadGroupMetadataError",loadGroupsListError:"Message.LoadGroupMembershipsError",loadGroupConfigMetadataError:"Message.ConfigMetadataLoadFail",loadGroupMembershipError:"Message.LoadUserGroupMembershipError",defaultError:"Message.DefaultError",deleteWallPostsByUserError:"Message.DeleteWallPostsByUserError",groupMembershipsUnavailableError:"Message.GroupMembershipsUnavailableError"}};t.Z.constant("groupsConstants",o),e.default=o},2233:function(r,e,t){"use strict";t.r(e);t=t(6519);function o(r,e,t,o,n,u,s,a){r.params=o,r.exileUser=function(){r.layout.deleteWallPosts&&t.deleteWallPostsByUser(r.params.groupId,r.params.userId).then(function(){setTimeout(function(){o.refreshGroupWall()},u.wallReloadDelay)},function(r){a.warning(s.get(u.translations.deleteWallPostsByUserError)),n.debug("--deleteWallPostsByUser-error---")}),t.exileUser(r.params.groupId,r.params.userId).then(function(){o.reloadCurrentPage()},function(r){r&&r.errors&&r.errors[0]&&r.errors[0].code===u.errorCodes.membership.operationUnavailable&&a.warning(s.get(u.translations.groupMembershipsUnavailableError))}),e.close()},r.close=function(){e.dismiss()},r.init=function(){r.layout={deleteWallPosts:!1}},r.init()}o.$inject=["$scope","$uibModalInstance","groupsService","modalData","$log","groupsConstants","languageResource","systemFeedbackService"],t.Z.controller("exileUserController",o),e.default=o},4945:function(r,e,t){"use strict";t.r(e);t=t(6519);function o(r,e){var t=this;t.$onInit=function(){t.thumbnailTypes=e.thumbnailTypes,t.url=r("seoUrl")("groups",t.group.id,t.group.name)}}o.$inject=["$filter","thumbnailConstants"],t.Z.controller("groupCardController",o),e.default=o},6519:function(r,e,t){"use strict";var o=t(5734),n=t.n(o),o=t(792),n=n().module("groups",["robloxApp","groupsTemplates"]);e.Z=n},9233:function(r,e,t){"use strict";t.r(e);t=t(6519);function o(r,s,a,i){var l={};return{getGroupMembership:function(o){return r(function(e,r){if(!l[o]){var t={url:i("formatString")(a.urls.getGroupMembership,{id:o})};return s.httpGet(t).then(function(r){l[o]=r,e(r)},r)}e(l[o])})},joinGroup:function(n,u){return r(function(e,r){var t={url:i("formatString")(a.urls.joinGroup,{id:n})},o=u||{};return s.httpPost(t,o).then(function(r){l={},e(r)},r)})},claimOwnership:function(o){return r(function(e,r){var t={url:i("formatString")(a.urls.claimOwnership,{groupId:o})};return s.httpPost(t,{}).then(function(r){l={},e(r)},r)})},makePrimaryGroup:function(n){return r(function(e,r){var t={groupId:n},o={url:a.urls.updatePrimaryGroup};return s.httpPost(o,t).then(function(r){l={},e(r)},r)})},removePrimaryGroup:function(){return r(function(e,r){var t={url:a.urls.updatePrimaryGroup};return s.httpDelete(t,{}).then(function(r){l={},e(r)},r)})},leaveGroup:function(o,n){return r(function(e,r){var t={url:i("formatString")(a.urls.updateUserRole,{groupId:o,userId:n})};return s.httpDelete(t,{}).then(function(r){l={},e(r)},r)})},cancelGroupJoinRequest:function(o,n){return r(function(e,r){var t={url:i("formatString")(a.urls.deleteGroupJoinRequest,{groupId:o,userId:n})};return s.httpDelete(t,{}).then(function(r){l={},e(r)},r)})}}}o.$inject=["$q","httpService","groupsConstants","$filter"],t.Z.factory("groupMembershipService",o),e.default=o},85:function(r,e,t){"use strict";t.r(e);var n=t(792),t=t(6519);function o(t,o){return{parseGroupId:function(r){r=/\/groups\/(\d+)\//g.exec(r);return r&&1<r.length?Number(r[1]):null},buildGameReferralUrl:function(r){var e=o.getGameDetailReferralUrls();return t("formatString")(e.groupDetail,{placeId:r})},profilePageUrl:function(r){return n.Endpoints?n.Endpoints.getAbsoluteUrl("/users/".concat(r,"/profile")):"/users/".concat(r,"/profile")}}}o.$inject=["$filter","urlService"],t.Z.factory("groupUtilityService",o),e.default=o},9695:function(r,e,t){"use strict";t.r(e);var n=t(792),t=t(6519);function o(e,s,a,i){var o;return{getGroup:function(r){r={url:i("formatString")(a.urls.getGroup,{id:r})};return s.httpGet(r,{}).then(function(r){var e,t,o;return null!=r&&r.owner&&(t=(e=r.owner).displayName,o=e.username,e.nameForDisplay=n.DisplayNames.Enabled()?t:o),r})},getGroupMetadata:function(){var r={url:i("formatString")(a.urls.getGroupMetadata)};return s.httpGet(r)},getGroupConfigurationMetadata:function(){return e(function(e,r){var t;o?e(o):(t={url:i("formatString")(a.urls.getGroupConfigurationMetadata)},s.httpGet(t).then(function(r){e(o=r)},r))})},getGroupRoles:function(r){r={url:i("formatString")(a.urls.getGroupRoles,{id:r}),retryable:!1};return s.httpGet(r)},getGroupRolePermissions:function(r,e){e={url:i("formatString")(a.urls.getGroupRolePermissions,{groupId:r,roleSetId:e})};return s.httpGet(e,{})},exileUser:function(r,e){e={url:i("formatString")(a.urls.updateUserRole,{groupId:r,userId:e})};return s.httpDelete(e)},deleteWallPostsByUser:function(r,e){e={url:i("formatString")(a.urls.deleteWallPostsByUser,{groupId:r,userId:e})};return s.httpDelete(e)},getGroupSettings:function(r){r={url:i("formatString")(a.urls.updateGroupSettings,{id:r})};return s.httpGet(r,{})},updateGroupSettings:function(r,e){r={url:i("formatString")(a.urls.updateGroupSettings,{id:r})};return s.httpPatch(r,e)},getUserIdsFromUsernames:function(n,r){var u=1<arguments.length&&void 0!==r&&r;return e(function(e,t){var r={url:i("formatString")(a.urls.usernames)},o={usernames:n,excludeBannedUsers:u};s.httpPost(r,o).then(function(r){e(r.data)},function(r){t(r)})})},getUserRoleInGroup:function(o,n){return e(function(e,r){var t={url:i("formatString")(a.urls.getGroupRolesForUser,{userId:o})};s.httpGet(t).then(function(r){r.data&&((r=r.data.filter(function(r){return r.group.id===n}))&&0<r.length?e(r[0].role):e(null))},function(){r("Could not fetch user groups. Please try again.")})})},getGroupDetailRules:function(){var r={url:i("formatString")(a.urls.getGroupDetailsPolicy)};return s.httpGet(r)},getConfigureGroupRules:function(){var r={url:i("formatString")(a.urls.getConfigureGroupPolicy)};return s.httpGet(r)},getGroupPolicyInfo:function(r){var e={url:i("formatString")(a.urls.getGroupPolicyInfo)},r={groupIds:r};return s.httpPost(e,r)},getGroupCurrency:function(r){var o={url:i("formatString")(a.urls.getCurrency,{groupId:r})};return e(function(e,t){return s.httpGet(o).then(function(r){e(r.robux)},function(r){r=s.getApiErrorCodes(r);t(r[0]||0)})})},getAddFundsAllowed:function(r){var t={url:i("formatString")(a.urls.getAddFundsAllowedUrl,{groupId:r})};return e(function(e,r){return s.httpGet(t).then(function(r){e(r)},function(){e(!1)})})}}}o.$inject=["$q","httpService","groupsConstants","$filter"],t.Z.factory("groupsService",o),e.default=o},6361:function(r){r.exports='<div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span aria-hidden="true"> <span class="icon-close"></span> </span> <span class="sr-only" ng-bind="\'Action.Close\' | translate"></span> </button> <h4 ng-bind="\'Heading.ExileUserWarning\' | translate"></h4> </div> <div class="modal-body"> <span class="text-description" ng-bind="\'Description.ExileUserWarning\' | translate"></span> </div> <div class="modal-buttons"> <button class="modal-button btn-secondary-md" ng-click="exileUser()" ng-bind="\'Action.Exile\' | translate"></button> <button class="modal-button btn-control-md" ng-click="close()" ng-bind="\'Action.Cancel\' | translate"></button> </div> <div class="modal-footer" ng-if="params.showDeletePostsCheckbox"> <div class="checkbox"> <input id="deleteWallPostsByUserCheckbox" type="checkbox" ng-model="layout.deleteWallPosts"> <label for="deleteWallPostsByUserCheckbox" ng-bind="\'Label.DeleteAllPostsByUser\' | translate"></label> </div> </div> '},3290:function(r){r.exports='<a ng-href="{{ $ctrl.url }}" target="_self" class="card-item game-card-container"> <thumbnail-2d thumbnail-type="$ctrl.thumbnailTypes.groupIcon" thumbnail-target-id="$ctrl.group.id" class="game-card-thumb-container"></thumbnail-2d> <div class="text-overflow game-card-name" title="{{ $ctrl.group.name }}" ng-bind="$ctrl.group.name"> </div> <div class="text-overflow game-card-name-secondary" ng-bind="\'Label.Members\' | translate:{ memberCount: $ctrl.group.memberCount}"> </div> </a>'},495:function(){},792:function(r){"use strict";r.exports=Roblox},5734:function(r){"use strict";r.exports=angular}},o={};function n(r){if(o[r])return o[r].exports;var e=o[r]={exports:{}};return t[r](e,e.exports,n),e.exports}n.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(e,{a:e}),e},n.d=function(r,e){for(var t in e)n.o(e,t)&&!n.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},n.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},function(){"use strict";var r=n(5734),e=n.n(r),t=n(726),r=n(495);n(6519),(0,t.importFilesUnderPath)(n(7084)),(0,t.importFilesUnderPath)(n(2104)),(0,t.importFilesUnderPath)(n(5027)),(0,t.importFilesUnderPath)(n(8913)),r=n(8292),(0,t.templateCacheGenerator)(e(),"groupsTemplates",r)}()}();
//# sourceMappingURL=/rbxcdn/js/ab731bc88d8116e3523a-groups.js.map

!function(){var t={6331:function(r,e,t){var o={"./friendGroupCardComponent.js":7033,"./friendsGroupsComponent.js":1373,"./groupLandingComponent.js":5069,"./groupLandingRowComponent.js":3624,"./groupResultCardComponent.js":4349};function n(r){r=a(r);return t(r)}function a(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=a,(r.exports=n).id=6331},8724:function(r,e,t){var o={"./groupSearchConstants.js":1128};function n(r){r=a(r);return t(r)}function a(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=a,(r.exports=n).id=8724},8480:function(r,e,t){var o={"./friendGroupCardController.js":2888,"./friendsGroupsController.js":7229,"./groupLandingController.js":3860,"./groupLandingRowController.js":6807,"./groupResultCardController.js":6566,"./groupSearchBarController.js":962,"./groupSearchController.js":1553};function n(r){r=a(r);return t(r)}function a(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=a,(r.exports=n).id=8480},5787:function(r,e,t){var o={"./groupResultsBaseDirective.js":7495,"./groupSearchBarDirective.js":386};function n(r){r=a(r);return t(r)}function a(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=a,(r.exports=n).id=5787},3619:function(r,e,t){var o={"./groupSearchService.js":5201};function n(r){r=a(r);return t(r)}function a(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=a,(r.exports=n).id=3619},8461:function(r,e,t){var o={"./components/templates/friendGroupCard.html":6893,"./components/templates/friendsGroups.html":2523,"./components/templates/groupLanding.html":8166,"./components/templates/groupLandingRow.html":811,"./components/templates/groupResultCard.html":2514,"./directives/templates/groupResultsBase.html":8042,"./directives/templates/groupSearchBar.html":8246};function n(r){r=a(r);return t(r)}function a(r){if(t.o(o,r))return o[r];r=new Error("Cannot find module '"+r+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=a,(r.exports=n).id=8461},726:function(r){function a(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(r){return r.split("/").pop().replace(".html","")}var e={importFilesUnderPath:function(r){r.keys().forEach(r)},templateCacheGenerator:function(r,e,o,n){return r.module(e,[]).run(["$templateCache",function(t){o&&o.keys().forEach(function(r){var e=a(s(r));t.put(e,o(r))}),n&&n.keys().forEach(function(r){var e=a(s(r));t.put(e,n(r).replace(/<\/?script[^>]*>/gi,""))})}])}};r.exports=e},7033:function(r,e,t){"use strict";t.r(e);var o={templateUrl:"friend-group-card",bindings:{group:"<",friends:"<"},controller:"friendGroupCardController"};t(7612).Z.component("friendGroupCard",o),e.default=o},1373:function(r,e,t){"use strict";t.r(e);var o={templateUrl:"friends-groups",bindings:{myGroups:"<",keyword:"<",showAll:"="},controller:"friendsGroupsController"};t(7612).Z.component("friendsGroups",o),e.default=o},5069:function(r,e,t){"use strict";t.r(e);var o={templateUrl:"group-landing",bindings:{myGroups:"<",search:"=",showAllFriendsGroups:"="},controller:"groupLandingController"};t(7612).Z.component("groupLanding",o),e.default=o},3624:function(r,e,t){"use strict";t.r(e);var o={templateUrl:"group-landing-row",bindings:{keyword:"<",search:"="},controller:"groupLandingRowController"};t(7612).Z.component("groupLandingRow",o),e.default=o},4349:function(r,e,t){"use strict";t.r(e);var o={templateUrl:"group-result-card",bindings:{group:"<"},controller:"groupResultCardController"};t(7612).Z.component("groupResultCard",o),e.default=o},1128:function(r,e,t){"use strict";t.r(e);var o=t(792),t=t(7612),o={friendsGroups:{rowSize:6,pageSize:24},pager:{pageSize:10,loadPageSize:25},errorCodes:{default:0,textFiltered:2},urls:{getGroupSearchMetadata:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/search/metadata"),groupSearch:"".concat(o.EnvironmentUrls.groupsApi,"/v1/groups/search"),getFriendsGroups:"".concat(o.EnvironmentUrls.groupsApi,"/v1/users/{userId}/friends/groups/roles"),getGroups:"".concat(o.EnvironmentUrls.groupsApi,"/v1/users/{userId}/groups/roles")}};t.Z.constant("groupSearchConstants",o),e.default=o},2888:function(r,e,t){"use strict";t.r(e);t=t(7612);function o(r,e){var t=this;t.$onInit=function(){t.thumbnailTypes=e.thumbnailTypes,t.url=r("seoUrl")("groups",t.group.id,t.group.name),t.layout={maxNumberOfDisplayAvatars:4}}}o.$inject=["$filter","thumbnailConstants"],t.Z.controller("friendGroupCardController",o),e.default=o},7229:function(r,e,t){"use strict";t.r(e);var s=t(957),t=t(7612);function o(r,e,o,n){var a=this;a.loadFriendsGroups=function(){e.getFriendsGroups(s.authenticatedUser.id).then(function(r){r.data.forEach(function(r){var t=r.user,r=r.groups;t.url=n.profilePageUrl(t.userId),r.forEach(function(r){var e=r.group;r.role;a.excludeGroupIds[e.id]||(a.groupsMap[e.id]?a.friendsListMap[e.id].push(t):(a.groupsMap[e.id]=e,a.friendsListMap[e.id]=[t]))}),a.sortedGroupIds=Object.keys(a.friendsListMap).sort(function(r,e){r=a.friendsListMap[r],e=a.friendsListMap[e];return r.length<e.length?1:r.length>e.length?-1:0}),a.groupIds=a.sortedGroupIds.slice(0,o.friendsGroups.rowSize)})},function(){a.groupIds=[],r.debug("--getGroups-error---")}).finally(function(){a.layout.isLoading=!1})},a.toggleShowAll=function(){a.showAll=!a.showAll,a.showAll?(a.groupIds=a.sortedGroupIds.slice(0,o.friendsGroups.pageSize),a.curPage=1):a.groupIds=a.sortedGroupIds.slice(0,o.friendsGroups.rowSize)},a.getPrevPage=function(){var r;1!==a.curPage&&(r=(a.curPage-2)*o.friendsGroups.pageSize,a.groupIds=a.sortedGroupIds.slice(r,r+o.friendsGroups.pageSize),--a.curPage)},a.hasNextPage=function(){return a.curPage*o.friendsGroups.pageSize<a.sortedGroupIds.length},a.getNextPage=function(){var r;a.hasNextPage()&&(r=a.curPage*o.friendsGroups.pageSize,a.groupIds=a.sortedGroupIds.slice(r,r+o.friendsGroups.pageSize),a.curPage+=1)};a.$onInit=function(){a.layout={isLoading:!0},a.groupsMap={},a.friendsListMap={},a.excludeGroupIds={},a.sortedGroupIds=[],a.myGroups.forEach(function(r){a.excludeGroupIds[r.group.id]=!0}),a.loadFriendsGroups()}}o.$inject=["$log","groupSearchService","groupSearchConstants","groupUtilityService"],t.Z.controller("friendsGroupsController",o),e.default=o},3860:function(r,e,t){"use strict";t.r(e);t=t(7612);function o(r,e,t){var o=this;o.loadGroupSearchMetadata=function(){t.getGroupSearchMetadata().then(function(r){r.SuggestedGroupKeywords&&0<r.SuggestedGroupKeywords.length&&r.SuggestedGroupKeywords[0]===e("translate")("Heading.GroupSearchCategoryFriends")?(o.layout.isFriendsGroupsEnabled=!0,o.keywords=r.SuggestedGroupKeywords.slice(1)):o.keywords=r.SuggestedGroupKeywords},function(){o.layout.loadGroupSearchMetadataError=!0,r.debug("--loadGroupSearchMetadata-error---")})};o.$onInit=function(){o.layout={},o.keywords=[],o.loadGroupSearchMetadata()}}o.$inject=["$log","$filter","groupSearchService"],t.Z.controller("groupLandingController",o),e.default=o},6807:function(r,e,t){"use strict";t.r(e);t=t(7612);function o(r,e){var t=this;t.loadGroups=function(){e.getGroupsForKeyword(t.keyword).then(function(r){t.groups=r.data},function(){t.groups=[],r.debug("--getGroupsForKeyword-error---")}).finally(function(){t.layout.isLoading=!1})};t.$onInit=function(){t.layout={isLoading:!0},t.loadGroups()}}o.$inject=["$log","groupSearchService"],t.Z.controller("groupLandingRowController",o),e.default=o},6566:function(r,e,t){"use strict";t.r(e);t=t(7612);function o(r){var e=this;e.$onInit=function(){e.thumbnailTypes=r.thumbnailTypes}}o.$inject=["thumbnailConstants"],t.Z.controller("groupResultCardController",o),e.default=o},962:function(r,e,t){"use strict";t.r(e);t=t(7612);function o(r,e,t,o){t.keyCodes=e,t.data={searchTerm:"",keyword:"",moreGroupsUrl:r.absoluteUrls.moreGroups},t.searchGroups=function(){o.location.href="/search/groups?keyword=".concat(t.data.keyword)},t.updateKeyword=function(r){t.data.keyword=r.target.value}}o.$inject=["groupsConstants","keyCode","$scope","$window"],t.Z.controller("groupSearchBarController",o),e.default=o},1553:function(r,e,t){"use strict";t.r(e);var p=t(957),g=t(792),t=t(7612);function o(t,o,n,r,e,a,s,u,i,l,c){function d(r){o.keyword.filtered=r,o.keyword.filteredHtml='<span class="search-keyword">'.concat(r,"</span>")}o.resetGroups=function(){o.groups=[]},o.createGroupUrl=function(){return u.absoluteUrls.createGroup},o.myGroupsUrl=function(){return u.absoluteUrls.myGroups},o.showCreateGroupButton=function(){return g.CurrentUser.isAuthenticated&&0===o.myGroups.length},o.showMyGroupsButton=function(){return g.CurrentUser.isAuthenticated&&0<o.myGroups.length},o.setupAds=function(){o.layout.adsInitialized||(o.layout.adsInitialized=!0,a.registerAd(a.adIds.leaderboardAbp))},o.adRefresh=function(){a.refreshAllAds()},o.setKeyword=function(r){o.pager.setPagingParameter("keyword",r),n.path("/search/groups").search({keyword:r}),Object.assign(o.keyword,{previous:r,current:r,urlKeyword:r,filtered:"",filteredHtml:""})},o.pager=e.createPager({pageSize:i.pager.pageSize,loadPageSize:i.pager.loadPageSize,getCacheKeyParameters:function(r){return{keyword:r.keyword}},getRequestUrl:function(){return r("formatString")(u.urls.searchGroups)},loadSuccess:function(r){o.layout.loadErrorMessage=null,o.groups=r,d(o.keyword.previous),o.adRefresh()},loadError:function(r){if(r&&0<r.length){var e=r[0].userFacingMessage;switch(r[0].code){case i.errorCodes.default:e=s.get(u.translations.defaultError);break;case i.errorCodes.textFiltered:o.keyword.current=o.keyword.current.replace(/[^\s]/g,"#"),d(o.keyword.current)}o.layout.loadErrorMessage=e}o.resetGroups()}}),o.searchGroups=function(r,e){o.setKeyword(r),o.pager.setPagingParameter("prioritizeExactMatch",e),r?(o.layout.showGroupLanding=!1,o.pager.loadFirstPage()):(o.resetGroups(),o.layout.showGroupLanding=!0)},o.loadGroups=function(){return t(function(e,r){g.CurrentUser.isAuthenticated||e(),c.getGroups(null===p.authenticatedUser||void 0===p.authenticatedUser?void 0:p.authenticatedUser.id).then(function(r){o.myGroups=r.data,e(r)},e)})},o.loadGroupMetadata=function(){return t(function(e,r){l.getGroupMetadata().then(function(r){o.metadata=r,e(r)},e)})},o.loadGroupSearch=function(){o.layout={adsInitialized:!1,showGroupLanding:!1,showAllFriendsGroups:!1,isPageLoadComplete:!1,isPhone:g.DeviceMeta&&(0,g.DeviceMeta)().isPhone},o.keyword={current:n.search().keyword,previous:"",urlKeyword:n.search().keyword,filtered:"",filteredHtml:""},o.groups=[],o.myGroups=[],o.metadata={},o.setupAds();var r=o.loadGroupMetadata(),e=o.loadGroups();t.all([e,r]).finally(function(){o.layout.isPageLoadComplete=!0,o.searchGroups(o.keyword.current,!0)})},o.loadGroupSearch()}o.$inject=["$q","$scope","$location","$filter","cursorPaginationService","abpService","languageResource","groupsConstants","groupSearchConstants","groupsService","groupSearchService"],t.Z.controller("groupSearchController",o),e.default=o},7495:function(r,e,t){"use strict";t.r(e);t=t(7612);function o(r){return{restrict:"A",scope:!0,templateUrl:r.templates.GroupResultsBaseTemplate}}o.$inject=["groupResources"],t.Z.directive("groupResultsBase",o),e.default=o},386:function(r,e,t){"use strict";t.r(e);t=t(7612);function o(r){return{restrict:"A",scope:!0,templateUrl:r.templates.groupSearchBarTemplate}}o.$inject=["groupResources"],t.Z.directive("groupSearchBar",o),e.default=o},7612:function(r,e,t){"use strict";var o=t(792),n=t(5734),n=t.n(n)().module("groupSearch",["robloxApp","groupSearchAppHtmlTemplateApp","groups","cursorPagination","thumbnails","systemFeedback"]).config(["$locationProvider","languageResourceProvider",function(r,e){r.html5Mode({enabled:!0,requireBase:!1});var t=o.Lang.GroupsResources,r=o.Lang.ControlsResources,r={"Heading.MyGroups":t&&t["Heading.MyGroups"]||"My Groups","Action.MoreGroups":t&&t["Action.MoreGroups"]||"More Groups","Action.MyGroups":t&&t["Action.MyGroups"]||"My Groups","Action.Search":r&&r["Action.Search"]||"Search"};o.Lang.GroupsResources&&e.setLanguageKeysFromFile(o.Lang.GroupsResources),o.Lang.ControlsResources&&e.setLanguageKeysFromFile(o.Lang.ControlsResources),e.setLanguageKeysFromFile(r)}]);e.Z=n},5201:function(r,e,t){"use strict";t.r(e);t=t(7612);function o(n,a,s,r){var u,o,i={};return{getGroupSearchMetadata:function(){return r(function(e,r){var t;o?e(o):(t={url:s.urls.getGroupSearchMetadata},a.httpGet(t,{}).then(function(r){e(o=r)},r))})},getGroupsForKeyword:function(n){return r(function(e,r){var t,o;i[n]?e(i[n]):(t={url:s.urls.groupSearch},o={keyword:n},a.httpGet(t,o).then(function(r){i[n]=r,e(r)},r))})},getFriendsGroups:function(o){return r(function(e,r){var t;u?e(u):(t={url:n("formatString")(s.urls.getFriendsGroups,{userId:o})},a.httpGet(t,{}).then(function(r){e(u=r)},r))})},getGroups:function(r){r={url:n("formatString")(s.urls.getGroups,{userId:r})};return a.httpGet(r,{})}}}o.$inject=["$filter","httpService","groupSearchConstants","$q"],t.Z.factory("groupSearchService",o),e.default=o},6893:function(r){r.exports='<div class="card-item game-card-container"> <a ng-href="{{ $ctrl.url }}" target="_self"> <thumbnail-2d thumbnail-type="$ctrl.thumbnailTypes.groupIcon" thumbnail-target-id="$ctrl.group.id" class="game-card-thumb-container"></thumbnail-2d> <div class="text-overflow game-card-name" title="{{ $ctrl.group.name }}" ng-bind="$ctrl.group.name"> </div> </a> <ul class="game-card-avatar-slots"> <li ng-repeat="friend in $ctrl.friends | limitTo: $ctrl.layout.maxNumberOfDisplayAvatars - 1" class="avatar avatar-headshot avatar-headshot-xs"> <a class="avatar-card-link" ng-href="{{ friend.url }}" target="_blank"> <thumbnail-2d class="avatar-card-image" thumbnail-type="$ctrl.thumbnailTypes.avatarHeadshot" thumbnail-target-id="friend.userId" thumbnail-options="{size: \'48x48\'}" alt-name="friend.username"> </thumbnail-2d> </a> </li> <li ng-if="$ctrl.friends.length === $ctrl.layout.maxNumberOfDisplayAvatars" class="avatar avatar-headshot avatar-headshot-xs"> <a class="avatar-card-link" ng-href="{{ $ctrl.friends[$ctrl.layout.maxNumberOfDisplayAvatars - 1].url }}" target="_blank"> <thumbnail-2d class="avatar-card-image" thumbnail-type="$ctrl.thumbnailTypes.avatarHeadshot" thumbnail-target-id="$ctrl.friends[$ctrl.layout.maxNumberOfDisplayAvatars - 1].userId" thumbnail-options="{size: \'48x48\'}" alt-name="$ctrl.friends[$ctrl.layout.maxNumberOfDisplayAvatars - 1].username"> </thumbnail-2d> </a> </li> <li class="avatar avatar-headshot avatar-headshot-xs offset-card" ng-if="$ctrl.friends.length > $ctrl.layout.maxNumberOfDisplayAvatars"> <span class="xsmall avatar-offset-label"> +{{$ctrl.friends.length - $ctrl.layout.maxNumberOfDisplayAvatars + 1}} </span> </li> </ul> </div>'},2523:function(r){r.exports='<div class="container-header"> <h3 ng-bind="$ctrl.keyword"></h3> <button ng-if="$ctrl.sortedGroupIds.length > 0" ng-click="$ctrl.toggleShowAll()" class="btn-secondary-xs btn-more see-all-link-icon" ng-bind="$ctrl.showAll ? \'Action.Back\' : \'Action.SeeAll\' | translate"></button> </div> <div ng-show="$ctrl.layout.isLoading" class="spinner spinner-default"></div> <div ng-if="!$ctrl.layout.isLoading && $ctrl.groupIds.length == 0" class="section-content-off" ng-bind="\'Label.NoResults\' | translate: {searchTerm: $ctrl.keyword}"></div> <ul ng-if="!$ctrl.layout.isLoading && $ctrl.groupIds.length > 0" class="hlist game-cards"> <li class="list-item"> <friend-group-card class="game-card" ng-repeat="groupId in $ctrl.groupIds" group="$ctrl.groupsMap[groupId]" friends="$ctrl.friendsListMap[groupId]"></friend-group-card> </li> </ul> <div ng-if="$ctrl.showAll" class="pager-holder"> <ul class="pager"> <li class="pager-prev" ng-class="{\'disabled\': $ctrl.curPage === 1}"> <a ng-click="$ctrl.getPrevPage()"> <span class="icon-back"></span> </a> </li> <li class="pager-cur"> <span ng-bind="\'Label.CurrentPage\' | translate:{ currentPage: $ctrl.curPage }"></span> </li> <li class="pager-next" ng-class="{\'disabled\': !$ctrl.hasNextPage()}"> <a ng-click="$ctrl.getNextPage()"> <span class="icon-next"></span> </a> </li> </ul> </div>'},8166:function(r){r.exports='<div ng-hide="$ctrl.showAllFriendsGroups" class="section-content"> <p ng-bind="\'Description.JoinGroup\' | translate"></p> </div> <friends-groups ng-if="$ctrl.layout.isFriendsGroupsEnabled" class="friends-groups" my-groups="$ctrl.myGroups" keyword="\'Heading.GroupSearchCategoryFriends\' | translate" show-all="$ctrl.showAllFriendsGroups"></friends-groups> <group-landing-row ng-hide="$ctrl.showAllFriendsGroups" ng-repeat="keyword in $ctrl.keywords" keyword="keyword" search="$ctrl.search"></group-landing-row>'},811:function(r){r.exports='<div class="container-header"> <h3 ng-bind="$ctrl.keyword"></h3> <a ng-click="$ctrl.search($ctrl.keyword, false)" class="btn-secondary-xs btn-more see-all-link-icon" ng-bind="\'Action.SeeAll\' | translate"></a> </div> <div ng-show="$ctrl.layout.isLoading" class="spinner spinner-default"></div> <div ng-if="!$ctrl.layout.isLoading && $ctrl.groups.length == 0" class="section-content-off" ng-bind="\'Label.NoResults\' | translate: {searchTerm: $ctrl.keyword}"></div> <ul ng-if="!$ctrl.layout.isLoading && $ctrl.groups.length > 0" class="hlist game-cards"> <li class="list-item"> <group-card class="game-card" ng-repeat="group in $ctrl.groups" group="group"></group-card> </li> </ul>'},2514:function(r){r.exports='<li class="list-item"> <a target="_self" class="group-search-name-link" ng-href="{{ \'groups\' | seoUrl: $ctrl.group.id: $ctrl.group.name }}"> <div class="group-card"> <thumbnail-2d class="group-card-thumb" thumbnail-type="$ctrl.thumbnailTypes.groupIcon" thumbnail-target-id="$ctrl.group.id"></thumbnail-2d> <div class="group-card-text"> <h5 title="{{ $ctrl.group.name }}" class="text-title group-card-name text-overflow" ng-bind="$ctrl.group.name"></h5> <div class="small text-info group-card-desc" ng-bind="$ctrl.group.description"></div> </div> <div class="group-card-info"> <div class="group-card-members"> <span class="icon-nav-group"></span> <span title="{{ $ctrl.group.memberCount }}" ng-bind="$ctrl.group.memberCount | abbreviate"></span> </div> <div class="group-card-access font-bold text-overflow" ng-class="$ctrl.group.publicEntryAllowed ? \'text-robux\' : \'text-label\'"> <span ng-if="$ctrl.group.publicEntryAllowed" title="{{ \'Label.PublicGroup\' | translate }}" ng-bind="\'Label.PublicGroup\' | translate"></span> <span ng-if="!$ctrl.group.publicEntryAllowed" title="{{ \'Label.PrivateGroup\' | translate }}" ng-bind="\'Label.PrivateGroup\' | translate"></span> </div> </div> </div> </a> </li>'},8042:function(r){r.exports='<div ng-controller="groupSearchController"> <system-feedback></system-feedback> <div class="container-header see-all-container-header"> <h3 ng-if="keyword.previous" class="section-title" ng-bind-html="\'Label.GroupSearchResults\' | translate:{ searchTerm: keyword.filteredHtml }"> </h3> <h3 ng-if="!keyword.previous" class="section-title" ng-bind="\'Label.SearchGroups\' | translate"></h3> <div class="header-button-containers" ng-show="layout.isPageLoadComplete"> <a ng-if="showCreateGroupButton()" ng-href="{{ createGroupUrl() }}" class="btn-secondary-sm create-group-button" ng-bind="\'Action.CreateGroup\' | translate" target="_self"></a> <a ng-if="showCreateGroupButton()" ng-href="{{ createGroupUrl() }}" class="btn-secondary-xs create-group-button" ng-bind="\'Action.CreateGroup\' | translate" target="_self"></a> <a ng-if="showMyGroupsButton()" ng-href="{{ myGroupsUrl() }}" class="btn-secondary-xs btn-more see-all-link-icon" target="_self" ng-bind="\'Action.MyGroups\' | translate"></a> </div> </div> <div class="search-container"> <form class="form-search ng-pristine ng-valid" ng-submit="searchGroups(keyword.current, true)" role="form"> <div class="input-group"> <div class="form-has-feedback"> <input id="GroupSearchField" ng-model="keyword.current" class="group-search-field form-control input-field" placeholder="{{\'Action.Search\' | translate}}" value=""/> <span ng-if="keyword.current && keyword.current.length > 0" tabindex="0" role="button" class="clear-search icon-close-gray-16x16" ng-click="searchGroups(\'\')"></span> </div> <div class="input-group-btn"> <button id="GroupSearchButton" class="input-addon-btn" type="submit"> <span class="group-search-icon icon-search"></span> </button> </div> </div> </form> </div> <group-landing ng-if="layout.showGroupLanding" ng-show="layout.isPageLoadComplete" my-groups="myGroups" search="searchGroups" show-all-friends-groups="layout.showAllFriendsGroups"></group-landing> <div ng-if="!layout.showGroupLanding" ng-show="layout.isPageLoadComplete" class="search-results"> <span ng-show="pager.isBusy() && groups.length == 0" class="spinner spinner-default"></span> <div class="section-content-off" ng-show="!pager.isBusy() && groups.length == 0 && !layout.loadErrorMessage" ng-bind="\'Label.NoResults\' | translate: { searchTerm: keyword.filtered }"></div> <div class="section-content-off" ng-show="!pager.isBusy() && groups.length == 0 && layout.loadErrorMessage" ng-bind="layout.loadErrorMessage"></div> <ul class="hlist group-cards" ng-class="{ \'faded\' : pager.isBusy() }"> <group-result-card ng-repeat="group in groups" group="group"></group-result-card> </ul> <div id="rbx-current-page" class="pager-holder" ng-if="groups.length > 0" cursor-pagination="pager"></div> </div> </div>'},8246:function(r){r.exports='<div ng-controller="groupSearchBarController"> <div class="container-header see-all-container-header"> <h1 ng-bind="\'Heading.MyGroups\' | translate"></h1> <a ng-href="{{ data.moreGroupsUrl }}" class="btn-secondary-xs btn-more see-all-link-icon" target="_self" ng-bind="\'Action.MoreGroups\' | translate"></a> </div> </div>'},5553:function(){},957:function(r){"use strict";r.exports=HeaderScripts},792:function(r){"use strict";r.exports=Roblox},5734:function(r){"use strict";r.exports=angular}},o={};function a(r){if(o[r])return o[r].exports;var e=o[r]={exports:{}};return t[r](e,e.exports,a),e.exports}a.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return a.d(e,{a:e}),e},a.d=function(r,e){for(var t in e)a.o(e,t)&&!a.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},a.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},a.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},function(){"use strict";var r=a(5734),e=a.n(r),t=a(726),r=a(5553),o=a(7612);(0,t.importFilesUnderPath)(a(6331)),(0,t.importFilesUnderPath)(a(8724)),(0,t.importFilesUnderPath)(a(8480)),(0,t.importFilesUnderPath)(a(5787)),(0,t.importFilesUnderPath)(a(3619));var r=a(8461),n=(0,t.templateCacheGenerator)(e(),"groupSearchAppHtmlTemplateApp",r);e().element(function(){e().bootstrap("#group-search-container",[o.Z.name,n.name])})}()}();
//# sourceMappingURL=/rbxcdn/js/ab731bc88d8116e3523a-groupSearch.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GroupSearch");