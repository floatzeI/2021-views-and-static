!function(){var r={5369:function(){}},n={};function tt(e){if(n[e])return n[e].exports;var t=n[e]={exports:{}};return r[e](t,t.exports,tt),t.exports}tt.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return tt.d(t,{a:t}),t},tt.d=function(e,t){for(var r in t)tt.o(t,r)&&!tt.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},tt.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var w=React,A=tt.n(w),e=ReactDOM,C=CoreUtilities,t=Redux,r=ReduxThunk,n=tt.n(r),i=ReactRedux,a="SET_FRIENDS",o="LOAD_MORE_FRIENDS",s="SET_METADATA",u="SET_TABLOADER",c="SET_ERROR_TYPE",l=[],d=function(e,t){var r=0<arguments.length&&void 0!==e?e:l,n=1<arguments.length?t:void 0;switch(n.type){case a:return n.friends;case o:return r.concat(n.friends);default:return r}},D=Roblox;function f(){var e=/\/users\/(\d+)\//g.exec(window.location.href);return e?e[1]:null}function p(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function E(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var h=f()||D.CurrentUser.userId,b={profileUserId:h,isMyProfile:h===D.CurrentUser.userId,isNearbyUpsellEnabled:!1,isFriendsUserDataStoreCacheEnabled:!0,onlyShowContents:!1,userName:"",displayName:""},y=function(e,t){var r=0<arguments.length&&void 0!==e?e:b,e=1<arguments.length?t:void 0,t=window.location.search.match("onlyShowContents")||!1;return e.type!==s?r:E(E(E({},{onlyShowContents:t}),r),e.data)},m={isLoading:!1},T=function(e,t){e=0<arguments.length&&void 0!==e?e:m,t=1<arguments.length?t:void 0;return t.type!==u?e:t.data},R=null,S=function(e,t){e=0<arguments.length&&void 0!==e?e:R,t=1<arguments.length?t:void 0;return t.type!==c?e:t.errorType},v=(0,t.combineReducers)({friends:d,metadata:y,tabLoader:T,errorType:S}),g=(tt(5369),PropTypes),F=tt.n(g),L=ReactStyleGuide,r=ReactUtilities,N=CoreRobloxUtilities,I=function(e){return{type:s,data:e}};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e){return{type:c,errorType:e}}function M(r){return function(e){if(r){var t=O(r.data.errors,1)[0];switch(r.status){case q:t.code===j.currentUser&&e(P(_.currentUser)),t.code===j.receiverUser&&e(P(_.receiverUser));break;case x:e(P(_.flooded));break;default:e(P(_.general))}}}}var q=(h={FRIENDTABS:{FRIENDS:"friends",FOLLOWING:"following",FOLLOWERS:"followers",FRIENDREQUESTS:"friend-requests"},STATUS_ICONS:[L.AvatarCardItem.Headshot.statusType.OFFLINE,L.AvatarCardItem.Headshot.statusType.ONLINE,L.AvatarCardItem.Headshot.statusType.GAME,L.AvatarCardItem.Headshot.statusType.STUDIO],PRESENCE_STATUS:{offline:0,online:1,game:2,studio:3},LIST_TYPE:{friends:N.userInfoService.TYPE.FRIENDS,following:N.userInfoService.TYPE.FOLLOWINGS,followers:N.userInfoService.TYPE.FOLLOWERS,"friend-requests":N.userInfoService.TYPE.FRIENDREQUESTS},START_PAGE:1,MAX_PER_PAGE:18,MAX_LIMIT:50,CACHE_CRITERIA:{useCache:!0,expirationWindowMS:3e4},EVENT_CONTEXT:"friends",FRIEND_FINDER_FEATURE_NAME:"Universal Friends",FRIEND_REQUEST_COUNT_EVENT:"Roblox.Friends.CountChanged",MAX_FRIENDS_STATUS:409,MAX_FRIENDS_CODE:{currentUser:11,receiverUser:12},FLOODED_STATUS:429,FRIENDS_ERROR_TYPE:{currentUser:"currentUser",receiverUser:"receiverUser",general:"general",flooded:"flooded"},FRIENDS_ERROR:{currentUser:{titleText:"Label.ErrorTitle",bodyText:"Message.ForMaxFriendsError",neutralButtonText:"Label.Ok",footerText:"Message.ForMaxFriendsFooter"},receiverUser:{titleText:"Label.ErrorTitle",bodyText:"Message.ForMaxRequestsError",neutralButtonText:"Label.Ok",footerText:"Message.ForMaxRequestsFooter"},general:{titleText:"Label.ErrorTitle",bodyText:"Message.ForGeneralError",neutralButtonText:"Label.Ok",footerText:"Message.ForGeneralFooter"},flooded:{titleText:"Label.ErrorTitle",bodyText:"Message.FloodLimitExceededError",neutralButtonText:"Label.Ok"}},SORT_ORDER:{asc:"Asc",desc:"Desc"}}).MAX_FRIENDS_STATUS,_=h.FRIENDS_ERROR_TYPE,j=h.MAX_FRIENDS_CODE,x=h.FLOODED_STATUS,k=D.EnvironmentUrls.friendsApi,B=D.EnvironmentUrls.thumbnailsApi,G=D.EnvironmentUrls.presenceApi,W=function(e){return"/users/".concat(e,"/profile")},Q=h.FRIENDTABS,H=function(){return"".concat(k,"/v1/metadata")},Y=function(e){return{retryable:!1,withCredentials:!0,url:"".concat(k,"/v1/users/").concat(e,"/decline-friend-request")}},V=function(e){return{retryable:!1,withCredentials:!0,url:"".concat(k,"/v1/users/").concat(e,"/accept-friend-request")}},X=function(){return{retryable:!1,withCredentials:!0,url:"".concat(k,"/v1/user/friend-requests/decline-all")}},z=function(e){return{retryable:!1,withCredentials:!0,url:"".concat(k,"/v1/users/").concat(e,"/follow")}},$=function(e){return{retryable:!1,withCredentials:!0,url:"".concat(k,"/v1/users/").concat(e,"/unfollow")}},J=function(e){return{retryable:!1,withCredentials:!0,url:"".concat(k,"/v1/users/").concat(e,"/unfriend")}},K=function(){return"".concat(B,"/v1/users/avatar-headshot?size=150x150&format=png")},Z=function(){return{retryable:!0,withCredentials:!0,url:"".concat(G,"/v1/presence/users")}},ee=function(){return"".concat(k,"/v1/user/friend-requests/count")},te=function(e){return"".concat(k,"/v1/users/").concat(e,"/followers/count")},re=function(e){return"".concat(k,"/v1/users/").concat(e,"/followings/count")},ne={userId:0,getFriendsTypeName:function(e){switch(e){case Q.FRIENDREQUESTS:return"FriendRequests";case Q.FOLLOWING:return"Following";case Q.FOLLOWERS:return"Followers";case Q.FRIENDS:default:return"AllFriends"}},setUserId:function(e){this.userId=f()||e},getMetadata:function(e){var t={url:H(),retryable:!0,withCredentials:!0},e={targetUserId:e};return C.httpService.get(t,e)},acceptFriendRequest:function(e){e=V(e);return C.httpService.post(e)},declineFriendRequest:function(e){e=Y(e);return C.httpService.post(e,{})},declineAllFriendRequests:function(){var e=X();return C.httpService.post(e,{})},follow:function(e){var t=z(e),e={targetUserId:e};return C.httpService.post(t,e,!0)},unfollow:function(e){var t=$(e),e={targetUserId:e};return C.httpService.post(t,e)},unfriend:function(e){e=J(e);return C.httpService.post(e,{})},getAvatarHeadshots:function(e){var t={url:K(),retryable:!0,withCredentials:!0};return C.httpService.buildBatchPromises(e,50,t).then(function(e){return e&&0<e.length?e.reduce(function(e,t){t=t.data.data;return e.concat(t)},[]):[]}).catch(function(){return[]})},getUserPresence:function(e){var t=Z(e);return C.httpService.post(t,{userIds:[e]})},getFriendsRequestCount:function(){var e={url:ee(),retryable:!0,withCredentials:!0};return C.httpService.get(e)},getFollowersCount:function(e){e={url:te(e),retryable:!0,withCredentials:!0};return C.httpService.get(e)},getFollowingsCount:function(e){e={url:re(e),retryable:!0,withCredentials:!0};return C.httpService.get(e)}},ie=h.LIST_TYPE,ae=h.CACHE_CRITERIA,oe=h.FRIEND_REQUEST_COUNT_EVENT,d=(0,i.connect)(function(e){return{friends:e.friends,metadata:e.metadata,tabLoader:e.tabLoader,errorType:e.errorType}},function(t){return{setMetadata:function(e){t(I(e))},setFriends:function(e){t({type:a,friends:0<arguments.length&&void 0!==e?e:[]})},loadMoreFriends:function(e){t({type:o,friends:0<arguments.length&&void 0!==e?e:[]})},enableTabLoader:function(){t({type:u,data:{isLoading:!0}})},disableTabLoader:function(){t({type:u,data:{isLoading:!1}})},clearError:function(){t(P(null))},followFriend:function(e){return ne.follow(e).catch(function(e){return t(M(e))})},unfollowFriend:function(e){return ne.unfollow(e).catch(function(e){return t(M(e))})},acceptFriendRequest:function(e){return ne.acceptFriendRequest(e.id).then(function(){N.userInfoService.refreshCacheData(ie["friend-requests"],ae)}).catch(function(e){return t(M(e))})},declineFriendRequest:function(e){return ne.declineFriendRequest(e.id).then(function(){N.userInfoService.refreshCacheData(ie["friend-requests"],ae).then(function(){document.dispatchEvent(new CustomEvent(oe))})}).catch(function(e){return t(M(e))})},declineAllFriendRequests:function(){return ne.declineAllFriendRequests().then(function(){N.userInfoService.refreshCacheData(ie["friend-requests"],ae).then(function(){document.dispatchEvent(new CustomEvent(oe))})}).catch(function(e){return t(M(e))})},unfriend:function(e){return ne.unfriend(e).catch(function(e){return t(M(e))})},getUserPresence:ne.getUserPresence}}),y={common:[],feature:"Feature.Friends"},se=h.FRIENDTABS;function ue(e){var t=e.translate,r=e.title,n=e.totalFriendsCount,i=e.currentTab,a=e.tooltipMsg,o=e.declineAllFriendRequests,s=e.refreshFriendsList,i=i===se.FRIENDREQUESTS&&0<n,n="(".concat(n,")");return A().createElement("div",{className:"container-header"},A().createElement("h3",{className:"friends-subtitle"},r," ",n),i&&A().createElement(L.Button,{variant:"control",size:"xs",className:"ignore-button see-all-link",onClick:function(){return o().then(s)}},t("Action.IgnoreAll")),A().createElement(L.Tooltip,{id:"friendsTooltip",placement:"bottom",content:a},A().createElement("span",{className:"icon-moreinfo"})))}ue.propTypes={translate:F().func.isRequired,title:F().string.isRequired,totalFriendsCount:F().number.isRequired,currentTab:F().string.isRequired,tooltipMsg:F().string.isRequired,declineAllFriendRequests:F().func.isRequired,refreshFriendsList:F().func.isRequired};var ce=(0,r.withTranslations)(d(ue),y),le=RobloxThumbnails;function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function pe(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):fe(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}T={FRIENDS_NOTIFICATIONS:S={friendshipDestroyed:"FriendshipDestroyed",friendshipCreated:"FriendshipCreated",friendshipDeclined:"FriendshipDeclined",friendshipRequested:"FriendshipRequested"},PRESENCE_NOTIFICATIONS:{presenceChanged:"PresenceChanged"},FRIENDS_EVENT_TYPE:"FriendshipNotifications",PRESENCE_EVENT_TYPE:"PresenceBulkNotifications",TAB_EVENTS_MAP:(de(g={},(T=h.FRIENDTABS).FRIENDS,[S.friendshipDestroyed,S.friendshipCreated]),de(g,T.FRIENDREQUESTS,[S.friendshipRequested,S.friendshipDeclined,S.friendshipCreated]),g)};var Ee=N.dataStores.userDataStore,he=h.MAX_LIMIT,be=h.FRIENDTABS,ye=h.SORT_ORDER,me=h.CACHE_CRITERIA,Te=T.TAB_EVENTS_MAP,Re=T.FRIENDS_EVENT_TYPE,Se=T.PRESENCE_EVENT_TYPE,ve=T.PRESENCE_NOTIFICATIONS,ge=!D.CurrentUser.isAuthenticated,S=function(e){function t(e){return{friendsData:e.userData,prev:e.prevCursor,next:e.nextCursor}}var r=e.currentTab,n=e.profileUserId,i=e.currentCursor,a=e.useCache,e=e.refreshCache,e=void 0!==e&&e,o=new Promise(function(){return{friendsData:[]}}),s=function(e){return pe(pe({},0<arguments.length&&void 0!==e?e:me),{},{CACHE_CRITERIA:me})}({useCache:a,refreshCache:e});switch(r){case be.FRIENDS:o=Ee.getFriends({userId:n,isGuest:ge},s).then(t);break;case be.FOLLOWERS:o=Ee.getFollowers({userId:n,cursor:i,sortOrder:ye.desc,limit:he,isGuest:ge},s).then(t);break;case be.FOLLOWING:o=Ee.getFollowings({userId:n,cursor:i,sortOrder:ye.desc,limit:he,isGuest:ge},s).then(t);break;case be.FRIENDREQUESTS:o=Ee.getFriendsRequests({userId:n,cursor:i,limit:he,isGuest:ge},s).then(t);break;default:return o.catch(console.debug)}return o.catch(console.debug)},g=function(t,r){if(ge)return function(){};function e(e){e&&e.Type&&Te[t].includes(e.Type)&&r(e.Type)}var n=D.RealTime.Factory.GetClient();return n.Subscribe(Re,e),function(){n.Unsubscribe(Re,e)}};function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oe=function(r,t){if(ge)return function(){};function e(e){e.find(function(e){var t=e.UserId,e=e.Type;return t===r&&e===ve.presenceChanged})&&ne.getUserPresence(r).then(function(e){e=e.data.userPresences;e&&0<e.length&&t(e[0]),Ee.clearUserDataStoreCache()})}var n=D.RealTime.Factory.GetClient();return n.Subscribe(Se,e),function(){n.Unsubscribe(Se,e)}},Ce=h.FRIENDTABS,Ne=h.STATUS_ICONS,we=h.PRESENCE_STATUS,Ae=N.dataStores.userDataStore;(T=function(e){var t=e.id,r=e.name,n=e.displayName,i=e.isDeleted,a=e.presence,o=e.position,s=e.currentTab,u=e.isMyProfile,c=e.translate,l=e.unfollowFriend,d=e.unfriend,f=e.followFriend,p=e.acceptFriendRequest,E=e.declineFriendRequest,h=e.refreshFriendsList,b=Fe((0,w.useState)(!0),2),y=b[0],m=b[1],T=Fe((0,w.useState)(a),2),R=T[0],S=T[1],v=Fe((0,w.useState)(!1),2),g=v[0],F=v[1],I=R.userPresenceType,O=R.lastLocation,e=R.placeId;(0,w.useEffect)(function(){return Oe(t,function(e){S(e)})},[]);b=s!==Ce.FOLLOWING||y?"":c("Label.Unfollowed"),a=Ne[I]||Ne[0],T=s===Ce.FOLLOWING&&u&&!g,v=s===Ce.FRIENDREQUESTS&&u,R=s===Ce.FRIENDS&&i&&u,g=W(t),u=O,O="";s!==Ce.FRIENDS&&s!==Ce.FOLLOWING||(I===we.offline&&(u=c("Label.Offline")),I===we.game&&(O=C.urlService.getUrlWithQueries(N.entityUrl.game.getReferralPath(),{PlaceId:e,PageType:"Friends",Position:o}))),s!==Ce.FOLLOWERS&&s!==Ce.FRIENDREQUESTS||(u=c(I?"Label.Online":"Label.Offline"));I=A().createElement(le.Thumbnail2d,{type:le.ThumbnailTypes.avatarHeadshot,size:le.DefaultThumbnailSize,targetId:t,containerClass:"avatar-card-image"});return A().createElement(L.AvatarCardItem.Default,{id:t,disableCard:i},A().createElement(L.AvatarCardItem.Content,null,A().createElement(L.AvatarCardItem.Headshot,{imageLink:i?"":g,status:a,thumbnail:I}),A().createElement(L.AvatarCardItem.Caption,{name:r,displayName:n,nameLink:i?"":g,labelFirstLine:u,labelFirstLineLink:O,labelSecondLine:b,hasMenu:T||R}),T&&A().createElement(L.AvatarCardItem.Menu,null,y&&A().createElement(L.AvatarCardItem.MenuItem,{className:"friend-unfollow",title:c("Action.Unfollow"),onClick:function(e){e.preventDefault(),l(t).then(function(){return m(!1)}),i&&(F(!0),Ae.clearUserDataStoreCache())}}),!y&&A().createElement(L.AvatarCardItem.MenuItem,{className:"friend-follow",title:c("Action.Follow"),onClick:function(e){e.preventDefault(),f(t).then(function(){return m(!0)})}})),R&&A().createElement(L.AvatarCardItem.Menu,null,A().createElement(L.AvatarCardItem.MenuItem,{className:"friend-unfriend",title:c("Action.Unfriend"),onClick:function(){d(t).then(h)}}))),v&&A().createElement(L.AvatarCardItem.ButtonGroup,null,A().createElement(L.Button,{className:"ignore-friend",onClick:function(){E({id:t})},variant:"secondary",size:"md"},c("Action.Ignore")),A().createElement(L.Button,{className:"accept-friend",onClick:function(){p({id:t})},variant:"cta",size:"md"},c("Action.Accept"))))}).defaultProps={isDeleted:!1},T.propTypes={id:F().number.isRequired,name:F().string.isRequired,displayName:F().string.isRequired,isDeleted:F().bool,presence:F().objectOf(F().any).isRequired,position:F().number.isRequired,currentTab:F().string.isRequired,isMyProfile:F().bool.isRequired,translate:F().func.isRequired,unfollowFriend:F().func.isRequired,unfriend:F().func.isRequired,followFriend:F().func.isRequired,acceptFriendRequest:F().func.isRequired,declineFriendRequest:F().func.isRequired,refreshFriendsList:F().func.isRequired};var De=(0,r.withTranslations)(d(T),y);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ue(e){var r=e.currentTab,n=e.isMyProfile,t=e.totalFriendsCount,i=e.paginatedFriends,a=e.tooltipMsg,o=e.title,s=e.refreshFriendsList;return A().createElement("div",{className:"friends-content section"},A().createElement(ce,{title:o,tooltipMsg:a,currentTab:r,refreshFriendsList:s,totalFriendsCount:t}),A().createElement(L.AvatarCardList,{data:i},function(e,t){return A().createElement(De,Le({key:e.id,currentTab:r,isMyProfile:n,refreshFriendsList:s,position:t},e))}))}Ue.defaultProps={paginatedFriends:[]},Ue.propTypes={currentTab:F().string.isRequired,isMyProfile:F().bool.isRequired,totalFriendsCount:F().number.isRequired,paginatedFriends:F().arrayOf(F().any),tooltipMsg:F().string.isRequired,title:F().string.isRequired,refreshFriendsList:F().func.isRequired};var Pe=Ue,Me=function(e){var t=(0,w.useRef)();return(0,w.useEffect)(function(){t.current=e},[e]),t.current};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xe=S,ke=g,Be=h.START_PAGE,Ge=h.MAX_PER_PAGE,We=h.FRIENDTABS;function Qe(e){var r=e.currentTab,t=e.metadata,n=t.profileUserId,i=t.isMyProfile,a=t.onlyShowContents,o=t.isFriendsUserDataStoreCacheEnabled,s=e.friends,u=e.setFriends,c=e.loadMoreFriends,l=e.tooltipMsg,d=e.title,f=e.enableTabLoader,p=e.disableTabLoader,E=e.tabLoader,h=_e((0,w.useState)(Be),2),b=h[0],y=h[1],m=_e((0,w.useState)(0),2),T=m[0],R=m[1],t=_e((0,w.useState)(null),2),S=t[0],v=t[1],e=_e((0,w.useState)(s.length),2),h=e[0],g=e[1],F=Me(r);We.FRIENDS===r&&s.sort(function(e,t){if(D.DisplayNames.Enabled()){if(e.displayName.toLowerCase()<t.displayName.toLowerCase())return-1;if(e.displayName.toLowerCase()>t.displayName.toLowerCase())return 1}else{if(e.name.toLowerCase()<t.name.toLowerCase())return-1;if(e.name.toLowerCase()>t.name.toLowerCase())return 1}return 0});function I(){function t(e){var t=e.friendsData,e=e.next;u(t),v(e),p()}f(),xe({currentTab:We.FRIENDS,profileUserId:n,useCache:o,refreshCache:!0}).then(function(e){We.FRIENDS===r&&t(e)}),xe({currentTab:We.FRIENDREQUESTS,profileUserId:n,currentCursor:T,useCache:o,refreshCache:!0}).then(function(e){We.FRIENDREQUESTS===r&&t(e)})}var m=_e((0,w.useState)(JSON.stringify(s)),2),O=m[0],C=m[1],N=Math.ceil(s.length/Ge),t=S||Be<b||1<N,e=s.slice((b-1)*Ge,b*Ge),m=!!S||b<N;return(0,w.useEffect)(function(){f(),F!==r&&u([]);var e=ke(r,I);return xe({currentTab:r,profileUserId:n,currentCursor:T,useCache:o}).then(function(e){var t=e.friendsData,e=e.next;c(t),v(e),p()}),function(){e()}},[r,T,n]),(0,w.useEffect)(function(){var e=JSON.stringify(s);if(O!==e)switch(C(e),r){case We.FRIENDS:g(s.length);break;case We.FOLLOWING:ne.getFollowingsCount(n).then(function(e){e=e.data.count;return g(e)});break;case We.FOLLOWERS:ne.getFollowersCount(n).then(function(e){e=e.data.count;return g(e)});break;case We.FRIENDREQUESTS:i&&ne.getFriendsRequestCount().then(function(e){e=e.data.count;return g(e)})}},[r,s]),E.isLoading?A().createElement(L.Loading,null):A().createElement(A().Fragment,null,A().createElement(Pe,qe({totalFriendsCount:h},{paginatedFriends:e,isMyProfile:i,tooltipMsg:l,title:d,currentTab:r,onlyShowContents:a,refreshFriendsList:I})),t&&A().createElement(L.Pagination,{current:b,hasNext:m,onChange:function(e){b<e&&N<=e&&S&&R(S||0),y(e)}}))}Qe.defaultProps={friends:[]},Qe.propTypes={friends:F().arrayOf(F().any),setFriends:F().func.isRequired,loadMoreFriends:F().func.isRequired,metadata:F().objectOf(F().any).isRequired,tooltipMsg:F().string.isRequired,title:F().string.isRequired,currentTab:F().string.isRequired,enableTabLoader:F().func.isRequired,disableTabLoader:F().func.isRequired,tabLoader:F().objectOf(F().any).isRequired};var He=d(Qe);(g=function(e){var t=e.title,e=e.show;return A().createElement("div",{className:"page-header section"},e&&A().createElement("div",{className:"container-header"},A().createElement("h1",{className:"friends-title"},t)))}).propTypes={title:F().string.isRequired,show:F().bool.isRequired};var Ye=g;function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xe=h.FRIENDTABS,ze=h.FRIENDS_ERROR,g=D.CurrentUser.userId,T=(0,L.createModal)(),$e=(h=(S=2,function(e){if(Array.isArray(e))return e}(T=T)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(T,S)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ve(e,t)}(T,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],Je=h[1];function Ke(e){var u=e.translate,t=e.metadata,c=t.isMyProfile,r=t.profileUserId,n=t.userName,t=t.displayName,i=e.setMetadata,a=e.errorType,o=e.clearError,e=c?u("Heading.MyFriends"):u("Heading.UsersFriends",{username:null!==D.DisplayNames&&void 0!==D.DisplayNames&&D.DisplayNames.Enabled()?t:n}),t=ze[a]||{};(0,w.useEffect)(function(){ne.getMetadata(r).then(function(e){e=e.data;i(e)})},[]),(0,w.useEffect)(function(){a&&Je.open().catch(function(){o()})},[a]);n=[{id:"friends",path:"/friends",title:"Label.Friends",name:Xe.FRIENDS,tooltipMsg:"Message.FriendsTabTooltip",isDefault:!0},{id:"following",path:"/following",title:"Label.Following",name:Xe.FOLLOWING,tooltipMsg:"Message.FollowingTabTooltip"},{id:"followers",path:"/followers",title:"Label.Followers",name:Xe.FOLLOWERS,tooltipMsg:"Message.FollowerTabTooltip"},{id:"requests",path:"/friend-requests",title:"Label.Requests",name:Xe.FRIENDREQUESTS,tooltipMsg:"Message.RequestsTabTooltip",show:c}].reduce(function(e,t){var r=t.path,n=t.title,i=t.name,a=t.tooltipMsg,o=t.show,s=void 0===o||o,o=t.isDefault,t=t.id;return s&&e.push(A().createElement(L.SimpleTabs.Tab,{id:t,key:i,path:r,title:u(n),className:c?"":"subtract-item",name:i,isDefault:o},A().createElement(He,{title:u(n),currentTab:i,tooltipMsg:u(a)}))),e},[]);return A().createElement("div",{className:"row page-content"},A().createElement(Ye,{title:e,show:!0}),A().createElement($e,{title:a&&u(t.titleText),body:a&&u(t.bodyText),neutralButtonText:a&&u(t.neutralButtonText),footerText:a&&t.footerText&&u(t.footerText)}),A().createElement(L.SimpleTabs,{type:L.SimpleTabs.types.Hash,hashType:"hashbang",isScrollable:!0},n))}ne.setUserId(g),Ke.defaultProps={metadata:{},errorType:null},Ke.propTypes={translate:F().func.isRequired,metadata:F().objectOf(F().any),setMetadata:F().func.isRequired,errorType:F().string,clearError:F().func.isRequired};var Ze=(0,r.withTranslations)(d(Ke),y),et=(0,t.createStore)(v,(0,t.applyMiddleware)(n()));(0,C.ready)(function(){(0,e.render)(A().createElement(i.Provider,{store:et},A().createElement(Ze,null)),document.getElementById("friends-container"))})}()}();
//# sourceMappingURL=/rbxcdn/js/d61e24dd4bc5ccd354cc-friends.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Friends");