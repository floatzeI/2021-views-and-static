!function(){var n={8986:function(e,t,n){var o={"./assetTypeConstants.js":1754,"./itemConfigurationCommonConstants.js":1575};function a(e){e=r(e);return n(e)}function r(e){if(n.o(o,e))return o[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(o)},a.resolve=r,(e.exports=a).id=8986},7050:function(e,t,n){var o={"./itemConfigurationLanguageService.js":6927};function a(e){e=r(e);return n(e)}function r(e){if(n.o(o,e))return o[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(o)},a.resolve=r,(e.exports=a).id=7050},726:function(e){function r(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function i(e){return e.split("/").pop().replace(".html","")}var t={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,t,o,a){return e.module(t,[]).run(["$templateCache",function(n){o&&o.keys().forEach(function(e){var t=r(i(e));n.put(t,o(e))}),a&&a.keys().forEach(function(e){var t=r(i(e));n.put(t,a(e).replace(/<\/?script[^>]*>/gi,""))})}])}};e.exports=t},1754:function(e,t,n){"use strict";n.r(t);var o={hat:"Hat"};n(1200).Z.constant("assetTypeConstants",o),t.default=o},1575:function(e,t,n){"use strict";n.r(t);var o={layout:{showCreatedDate:!1,showUpdatedDate:!1,isLoading:!1,isIconRound:!1,descriptionRows:4,maxNameLength:50,maxDescriptionLength:1e3,configurableItemHasUpdate:!1,fileUploadInfoHasUpdate:!1,isItemDataLoaded:!1,isConfigurableItemDataReset:!1,isfileUploadInfoDataReset:!1,isGeneralTabInvalid:!1,isSaleTabInvalid:!1},errorCodes:{internal:{unknown:0,iconUpdateFailure:1,uploadFlooded:2,textModerated:4},patchBadge:{6:4},patchAsset:{16:4,17:4},updateIcon:{3:2},gamePassUpdate:{"The name or description contains inappropriate text.":4}},urlRoots:{game:"games",group:"groups",gamePass:"game-pass",badge:"badges",catalogAsset:"catalog",libraryAsset:"library"}};n(1200).Z.constant("itemConfigurationCommonConstants",o),t.default=o},1200:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var t=angular,o=Roblox,a=n.n(t)().module("itemConfigurationCommon",["robloxApp"]).config(["languageResourceProvider",function(e){e.setLanguageKeysFromFile(o.Lang.ItemConfigurationResources),e.setLanguageKeysFromFile(o.Lang.AssetTypesResources),e.setLanguageKeysFromFile(o.Lang.FileUploadComponentResources)}])},6927:function(e,t,n){"use strict";n.r(t);n=n(1200);function o(e){return{saveError:e.get("Message.SaveError"),inappropriateText:e.get("Message.InappropriateTextError"),iconUpdateFailed:e.get("Message.IconUpdateFailed"),tooManyUploads:e.get("Message.TooManyUploads"),unsavedUpdateStrings:{title:e.get("Label.UnsavedChanges"),description:e.get("Description.UnsavedChange"),saveBtnTxt:e.get("Action.Save"),cancelBtnTxt:e.get("Action.Discard")},assetTextModerated:e.get("Description.ModeratedNameAndDescription")}}o.$inject=["languageResource"],n.Z.factory("itemConfigurationLanguageService",o),t.default=o}},o={};function a(e){if(o[e])return o[e].exports;var t=o[e]={exports:{}};return n[e](t,t.exports,a),t.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=a(726);a(1200),(0,e.importFilesUnderPath)(a(8986)),(0,e.importFilesUnderPath)(a(7050))}()}();
//# sourceMappingURL=/rbxcdn/js/9b4b81ab1df4fbf4f4ed-itemConfigurationCommon.js.map

!function(){var a={9736:function(e,t,a){var i={"./archiveAssetComponent.js":7626,"./assetVersionsComponent.js":3448,"./itemConfigLandingComponent.js":6441,"./itemConfigMenuComponent.js":1817,"./itemConfigurationComponent.js":3191,"./itemSalesComponent.js":2290,"./itemTagsComponent.js":2614};function n(e){e=r(e);return a(e)}function r(e){if(a.o(i,e))return i[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(i)},n.resolve=r,(e.exports=n).id=9736},7710:function(e,t,a){var i={"./itemConfigurationConstants.js":2501,"./itemSaleConstants.js":3797,"./itemTagsConstants.js":7522};function n(e){e=r(e);return a(e)}function r(e){if(a.o(i,e))return i[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(i)},n.resolve=r,(e.exports=n).id=7710},2074:function(e,t,a){var i={"./archiveAssetController.js":4986,"./assetVersionsController.js":373,"./itemConfigLandingController.js":2744,"./itemConfigurationController.js":9709,"./itemSalesController.js":4242,"./itemTagsController.js":8358,"./itemTagsModalController.js":8800};function n(e){e=r(e);return a(e)}function r(e){if(a.o(i,e))return i[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(i)},n.resolve=r,(e.exports=n).id=2074},955:function(e,t,a){var i={"./archiveAssetService.js":1661,"./assetVersionsService.js":1800,"./itemConfigurationService.js":7208,"./itemSalesService.js":5776,"./itemTagsService.js":2864,"./permissionService.js":5207};function n(e){e=r(e);return a(e)}function r(e){if(a.o(i,e))return i[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(i)},n.resolve=r,(e.exports=n).id=955},3463:function(e,t,a){var i={"./components/templates/archiveAsset.html":3288,"./components/templates/assetVersions.html":2086,"./components/templates/itemConfigLanding.html":1768,"./components/templates/itemConfigMenu.html":3810,"./components/templates/itemConfiguration.html":4402,"./components/templates/itemSales.html":3367,"./components/templates/itemTags.html":4465,"./components/templates/itemTagsModal.html":5803};function n(e){e=r(e);return a(e)}function r(e){if(a.o(i,e))return i[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(i)},n.resolve=r,(e.exports=n).id=3463},726:function(e){function r(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(e){return e.split("/").pop().replace(".html","")}var t={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,t,i,n){return e.module(t,[]).run(["$templateCache",function(a){i&&i.keys().forEach(function(e){var t=r(s(e));a.put(t,i(e))}),n&&n.keys().forEach(function(e){var t=r(s(e));a.put(t,n(e).replace(/<\/?script[^>]*>/gi,""))})}])}};e.exports=t},7626:function(e,t,a){"use strict";a.r(t);var i={templateUrl:"archive-asset",bindings:{assetId:"<"},controller:"archiveAssetController"};a(4754).Z.component("archiveAsset",i),t.default=i},3448:function(e,t,a){"use strict";a.r(t);var i={templateUrl:"asset-versions",bindings:{assetId:"<"},controller:"assetVersionsController"};a(4754).Z.component("assetVersions",i),t.default=i},6441:function(e,t,a){"use strict";a.r(t);var i={templateUrl:"item-config-landing",bindings:{itemType:"<",itemId:"<",configurableItem:"<",layout:"<",fileUploadInfo:"<"},controller:"itemConfigLandingController"};a(4754).Z.component("itemConfigLanding",i),t.default=i},1817:function(e,t,a){"use strict";a.r(t);var i={templateUrl:"item-config-menu",bindings:{activeTab:"<",tabs:"<",configurableItem:"<",switchTabs:"="}};a(4754).Z.component("itemConfigMenu",i),t.default=i},3191:function(e,t,a){"use strict";a.r(t);var i={templateUrl:"item-configuration",bindings:{itemId:"<",itemAssetType:"@"},controller:"itemConfigurationController"};a(4754).Z.component("itemConfiguration",i),t.default=i},2290:function(e,t,a){"use strict";a.r(t);var i={templateUrl:"item-sales",bindings:{itemType:"<",itemId:"<",itemAssetType:"<",salesData:"<",layout:"<"},controller:"itemSalesController"};a(4754).Z.component("itemSales",i),t.default=i},2614:function(e,t,a){"use strict";a.r(t);var i={templateUrl:"item-tags",bindings:{assetId:"<",maximumItemTagsPerItem:"<"},controller:"itemTagsController"};a(4754).Z.component("itemTags",i),t.default=i},2501:function(e,t,a){"use strict";a.r(t);var i=a(792),a=a(4754),i={urls:{gamePassMetadata:"/game-pass/configure-metadata",updateGamePass:"/game-pass/update",assetThumbnail:"/asset-thumbnail/image?width=420&height=420&format=png&assetId=",badgeDetails:"/v1/badges/",badgePatch:"/v1/badges/",badgeIconUpload:"/v1/badges/",badgeIconUploadSuffix:"/icon",uploadPluginIcon:"/v1/plugins/{id}/icon",getAssetContent:"/v1/assets/batch",getAssetDetails:"/v1/assets",patchAsset:"/v1/assets/{id}",getAssetVersions:"/v1/assets/{id}/published-versions",revertAssetVersion:"/v1/assets/{id}/revert-version?assetVersionNumber={versionNumber}",getGenres:"/v1/assets/genres",getItemTagsMetadata:"/v1/item-tags/metadata",getItemTags:"/v1/item-tags",addItemTag:"/v1/item-tags",deleteItemTag:"/v1/item-tags/{id}",searchTags:"/v1/tags/prefix-search",getCreationDetails:"/v1/creations/get-asset-details",archiveAsset:"/v1/assets/{id}/archive",restoreAsset:"/v1/assets/{id}/restore",isVerifiedCreator:"/v1/user/is-verified-creator",termsOfUse:"/info/terms?locale={locale}",accountSettings:"/my/account#!/info",getUserLocale:"/v1/locales/user-locale"},urlConfigs:{getMetadata:{url:"".concat(i.EnvironmentUrls.itemConfigurationApi,"/v1/metadata"),retryable:!0},releaseAssetSale:{url:"".concat(i.EnvironmentUrls.itemConfigurationApi,"/v1/assets/{assetId}/release"),retryable:!1,withCredentials:!0},updateAssetPrice:{url:"".concat(i.EnvironmentUrls.itemConfigurationApi,"/v1/assets/{assetId}/update-price"),retryable:!1,withCredentials:!0},update:{url:"".concat(i.EnvironmentUrls.itemConfigurationApi,"/v1/assets/{assetId}/update"),retryable:!1,withCredentials:!0},getCreationAssetDetails:{url:"".concat(i.EnvironmentUrls.itemConfigurationApi,"/v1/creations/get-asset-details"),retryable:!1,withCredentials:!0},getAssets:{url:"".concat(i.EnvironmentUrls.developApi,"/v1/assets"),retryable:!0,noCache:!0},getSellingFee:{url:"".concat(i.EnvironmentUrls.itemConfigurationApi,"/v1/assets/{assetId}/get-selling-fee"),retryable:!1,withCredentials:!0},getCurrency:{url:"".concat(i.EnvironmentUrls.economyApi,"/v1/users/{userId}/currency"),retryable:!1,withCredentials:!0},getCommissionRates:{url:"".concat(i.EnvironmentUrls.itemConfigurationApi,"/v1/get-commission-rates"),retryable:!0}},itemTypes:{game:"Game",gamePass:"GamePass",badge:"Badge",catalogAsset:"CatalogAsset",libraryAsset:"LibraryAsset"},assetTypes:{plugin:"Plugin",audio:"Audio",hat:"Hat"},libraryAssetTypesForSale:["Plugin"],tabs:[{name:"general",translationKey:"Label.General"},{name:"sales",translationKey:"Label.Sales"},{name:"versions",translationKey:"Label.Versions"}],configurableItemUrlPaths:[{urlSegment:"/game-pass/configure",itemType:"GamePass"},{urlSegment:"/badges/configure",itemType:"Badge"},{urlSegment:"/catalog/configure",itemType:"CatalogAsset"},{urlSegment:"/library/configure",itemType:"LibraryAsset"}],configurableItem:{id:0,name:"",description:"",created:new Date(NaN),updated:new Date(NaN),price:0,itemType:"",isForSale:!1,canBeSold:!1,itemPageUrl:"",associatedItem:{id:0,name:"",type:"",url:""},areCommentsConfigurable:!1,areCommentsEnabled:!1,isActivationConfigurable:!1,isActive:!1,isInitializedData:!0},fileUploadInfo:{fileSelected:!1,previewSrc:"",allowedFileTypes:[".jpg",".gif",".png",".tga",".bmp"],allowedFileSizes:"150x150",isInitializedData:!0},cursorPageLoadSize:50,versionsPerPage:25,unSavedUpdateEvent:"item.configuration.has.unsaved.change"};a.Z.constant("itemConfigurationConstants",i),t.default=i},3797:function(e,t,a){"use strict";a.r(t);var i={saleStatus:{onSale:"OnSale",reviewApproved:"ReviewApproved",offSale:"OffSale",free:"Free"},allowSaleStatus:["OnSale","Free"],premiumPricingConfigurationOptions:{noPremiumBenefits:"NoPremiumBenefits",premiumDiscount:"PremiumDiscount",premiumExclusive:"PremiumExclusive"},saleLocationOptions:{allPlacesAndAvatarShop:"AllPlacesAndAvatarShop",myPlacesAndAvatarShop:"MyPlacesAndAvatarShop",avatarShopOnly:"AvatarShopOnly"},saleLayout:{isLoading:!1,isSaleToggleEnabled:!1,previousStatus:null},minimumFeeRobux:1,myPlacesFeeRate:30,otherPlacesFeeRate:70,affiliateFeeTypes:["Hat","HairAccessory","FaceAccessory","NeckAccessory","ShoulderAccessory","FrontAccessory","BackAccessory","WaistAccessory"],releaseLocations:{avatarShop:"Catalog",myUniverses:"MyUniverses",allUniverses:"AllUniverses"}};a(4754).Z.constant("itemSalesConstants",i),t.default=i},7522:function(e,t,a){"use strict";a.r(t);var i={layoutInitializedData:{isOpen:!1,isSearchRequestSending:!1,keyControl:!0,timeoutForNextSearchRequest:300,previousSearchResult:null,focusMe:!0},numTagSearchResults:5};a(4754).Z.constant("itemTagsConstants",i),t.default=i},4986:function(e,t,a){"use strict";a.r(t);a=a(4754);function i(t,a,i,e){var n=this;n.archiveAsset=function(){e.archiveItem(n.assetId).then(function(){n.isArchived=!0,i.success(a.get("Message.ArchiveSuccess"))},function(e){i.warning(a.get("Message.ArchiveError")),t.debug(e)})},n.restoreAsset=function(){e.restoreItem(n.assetId).then(function(){n.isArchived=!1,i.success(a.get("Message.RestoreSuccess"))},function(e){i.warning(a.get("Message.RestoreError")),t.debug(e)})};n.$onInit=function(){e.getIsArchived(n.assetId).then(function(e){n.isArchived=e.isArchived},function(e){t.debug(e)})}}i.$inject=["$log","languageResource","systemFeedbackService","archiveAssetService"],a.Z.controller("archiveAssetController",i),t.default=i},373:function(e,t,a){"use strict";a.r(t);var i=a(4754),l=a(792);function n(e,t,a,i,n,r,s){var o=this;o.pager=n.createPager({sortOrder:n.sortOrder.Desc,pageSize:i.versionsPerPage,loadPageSize:i.cursorPageLoadSize,getCacheKeyParameters:function(){return{assetId:o.assetId}},getRequestUrl:function(){return t("formatString")(l.EnvironmentUrls.developApi+i.urls.getAssetVersions,{id:o.assetId})},loadSuccess:function(e){o.versions=o.versions.concat(e),o.isLoading=!1},loadError:function(){e.debug("Failed to load item versions."),o.isLoading=!1}}),o.reloadVersions=function(){o.versions=[],o.isLoading=!0,o.pager.loadFirstPage()},o.revertToVersion=function(e){a.revertToVersion(o.assetId,e).then(function(){s.success(r.get("Message.RevertSuccess",{versionNumber:e})),o.reloadVersions()},function(){s.warning(r.get("Message.RevertError",{versionNumber:e}))})};o.$onInit=function(){o.isLoading=!0,o.versions=[],o.pager.loadFirstPage()}}n.$inject=["$log","$filter","assetVersionsService","itemConfigurationConstants","cursorPaginationService","languageResource","systemFeedbackService"],i.Z.controller("assetVersionsController",n),t.default=n},2744:function(e,t,a){"use strict";a.r(t);var i=a(5734),i=a(4754),r=a(792);function n(t,a,i,u,e,m,d,g,n){var p=this;p.displayErrorMessage=function(e){var t=d.errorCodes.internal,a=t.textModerated,i=t.iconUpdateFailure,n=t.uploadFlooded,r=g.inappropriateText,s=g.iconUpdateFailed,o=g.tooManyUploads,l=g.saveError,t=g.assetTextModerated,c=l;if(p.itemType===u.itemTypes.catalogAsset)e===a&&(c=t);else switch(e){case a:c=r;break;case i:c=s;break;case n:c=o;break;default:c=l}m.warning(c)},p.saveItem=function(){p.layout.configurableItemHasUpdate=!1,0<p.configurableItem.name.length&&(p.layout.isLoading=!0,e.updateItem(p.itemType,p.itemId,p.configurableItem,p.fileUploadInfo.file).then(function(e){m.success(i.get("Message.UpdateSuccess"))},function(e){p.displayErrorMessage(e)}).finally(function(){p.layout.isLoading=!1}))},n.$on(u.unSavedUpdateEvent,function(){t.debug("I receive the event from landing"),p.saveItem()}),p.toggleActivation=function(){p.configurableItem.isActive=!p.configurableItem.isActive},p.toggleComments=function(){p.configurableItem.areCommentsEnabled=!p.configurableItem.areCommentsEnabled},p.toggleCopying=function(){p.configurableItem.isCopyingConfigurable&&p.isVerifiedCreator&&(p.configurableItem.isCopyingAllowed=!p.configurableItem.isCopyingAllowed)},p.allowCopyingWarning=function(){var e=p.supportedLocale?r.Endpoints.getAbsoluteUrl(a("formatString")(u.urls.termsOfUse,{locale:p.supportedLocale.locale})):r.Endpoints.getAbsoluteUrl(u.urls.termsOfUse);return i.get("Description.AllowCopyingWarning",{linkStart:"<a class=text-link href="+e+" target=_blank>",linkEnd:"</a>"})},p.verifiedCreatorEmail=function(){var e=r.Endpoints.getAbsoluteUrl(u.urls.accountSettings);return i.get("Description.VerifiedCreatorEmail",{linkStart:"<a class=text-link href="+e+"target=_blank>",linkEnd:"</a>"})},p.shouldShowSettings=function(){return p.configurableItem.isActivationConfigurable||p.configurableItem.areCommentsConfigurable||p.configurableItem.isCopyingConfigurable},p.updateGenre=function(e){p.configurableItem.genres=[e]},p.allowedFileTypesString=function(){return p.fileUploadInfo.allowedFileTypes?1===p.fileUploadInfo.allowedFileTypes.length?p.fileUploadInfo.allowedFileTypes[0]:p.fileUploadInfo.allowedFileTypes.join(", "):""},p.isSaveBtnInValid=function(){return p.layout.isGeneralTabInvalid=0===p.configurableItem.name.length,p.layout.isGeneralTabInvalid},p.getIsVerifiedCreator=function(){e.getIsVerifiedCreator().then(function(e){p.isVerifiedCreator=e.isVerifiedCreator},function(e){t.debug(e)})},p.getUserLocale=function(){e.getUserLocale().then(function(e){p.supportedLocale=e.supportedLocale})},p.getGenres=function(){e.getGenres().then(function(e){p.genres=e.data},function(e){t.debug(e)})};p.$onInit=function(){p.getGenres(),p.getIsVerifiedCreator(),p.getUserLocale(),p.layout=p.layout||{},p.layout.isIconRound=p.itemType===u.itemTypes.badge||p.itemType===u.itemTypes.gamePass}}n.$inject=["$log","$filter","languageResource","itemConfigurationConstants","itemConfigurationService","systemFeedbackService","itemConfigurationCommonConstants","itemConfigurationLanguageService","$scope"],i.Z.controller("itemConfigLandingController",n),t.default=n},9709:function(e,t,a){"use strict";a.r(t);var i=a(5734),p=a.n(i),a=a(4754);function f(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw n}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function n(r,o,l,t,c,a,n,u,i,s,m){var d=this;function g(){t.getItemData(d.itemType,d.itemId,d.itemAssetType).then(function(e){var i;r.debug("data: ",e),d.fileUploadInfo.previewSrc=e.thumbnail.imageUrl,d.fileUploadInfo.isInitializedData=!1,Object.assign(d.configurableItem,e),d.itemType===c.itemTypes.libraryAsset&&d.configurableItem.type===c.assetTypes.audio&&t.getAssetContent(d.itemId).then(function(e){d.configurableItem.audioUrl=e[0].location},function(e){r.debug(e)}),d.layout.showFileUpload=a.canUpload(d.itemType,d.configurableItem.type),d.layout.showCreatedDate=!isNaN(d.configurableItem.created.getTime()),d.layout.showUpdatedDate=!isNaN(d.configurableItem.updated.getTime()),i=d.configurableItem.type,n.getItemTagsMetadata().then(function(e){var t=e.isItemTagsFeatureEnabled,a=e.enabledAssetTypes;Object.assign(d.layout,e),d.layout.isItemTagsEnabled=t&&-1<a.indexOf(i)},function(e){r.debug(e)}),d.configurableItem.isInitializedData=!1},function(e){r.debug(e)}).finally(function(){d.layout.isLoading=!1,d.layout.isLoadFinished=!0})}d.shouldShowMenu=function(){return d.configurableItem&&(d.configurableItem.canBeSold||d.configurableItem.isVersioningEnabled)},d.resetConfigurationData=function(){d.copyOfConfigurableItem&&(Object.assign(d.configurableItem,d.copyOfConfigurableItem),d.layout.isConfigurableItemDataReset=!0)},d.resetFileUploadData=function(){d.copyOfFileUploadPreviewSrc&&(d.fileUploadInfo.previewSrc=d.copyOfFileUploadPreviewSrc,d.layout.isfileUploadInfoDataReset=!0)},d.updateTabStatus=function(e){e.name!==d.activeTab.name&&(d.activeTab=e,d.layout.configurableItemHasUpdate=!1,d.layout.fileUploadInfoHasUpdate=!1,d.layout.isGeneralTabInvalid=!1,d.layout.isSaleTabInvalid=!1)},d.askForSaveUpdate=function(e){var t=s.unsavedUpdateStrings,t={titleText:t.title,bodyText:t.description,actionButtonShow:!0,actionButtonText:t.saveBtnTxt,neutralButtonText:t.cancelBtnTxt,closeButtonShow:!1,keyboard:!1};i.open(t).result.then(function(){r.debug("--- save ---"),u.$broadcast(c.unSavedUpdateEvent)},function(){r.debug("--- cancel ---"),d.resetConfigurationData(),d.resetFileUploadData()}).finally(function(){d.updateTabStatus(e)})},d.switchTabs=function(e){var t=d.layout,a=t.isGeneralTabInvalid,i=t.isSaleTabInvalid,n=t.configurableItemHasUpdate,t=t.fileUploadInfoHasUpdate;if(r.debug("layout.configurableItemHasUpdate"+n),r.debug("layout.fileUploadInfoHasUpdate"+t),a||i)return d.resetConfigurationData(),d.resetFileUploadData(),void d.updateTabStatus(e);n||t?d.askForSaveUpdate(e):d.activeTab=e},u.$on("$stateChangeSuccess",function(e,t){d.tabs&&t.activeTabName in d.tabs&&d.switchTabs(d.tabs[t.activeTabName])});d.$onInit=function(){var t,e,a,i=c.configurableItemUrlPaths,n=c.fileUploadInfo,r=c.configurableItem,s=c.itemTypes;d.itemType=function(e,t){var a=f(e);try{for(a.s();!(i=a.n()).done;){var i=i.value;if(t.includes(i.urlSegment))return i.itemType}}catch(e){a.e(e)}finally{a.f()}}(i,o.location.href.replace(/\/+$/,"").toLowerCase()),d.tabs=(i=c.tabs,t={},i.forEach(function(e){t[e.name]={name:e.name,displayName:m.get(e.translationKey)}}),t),d.activeTab=d.tabs.general,d.fileUploadInfo=p().extend({},n),d.configurableItem=p().extend({},r),d.layout=p().extend({},l.layout),d.layout.isLoading=!0,d.library={},g(),e=u.$watch(function(){return d.configurableItem},function(e,t){return d.layout.isConfigurableItemDataReset?d.layout.isConfigurableItemDataReset=!1:void(d.layout&&d.layout.isLoadFinished&&(p().equals(e,t)||t.isInitializedData?d.layout.configurableItemHasUpdate=!1:(d.layout.configurableItemHasUpdate||(d.copyOfConfigurableItem=p().copy(t)),d.layout.configurableItemHasUpdate=!0)))},!0),a=u.$watch(function(){return d.fileUploadInfo.previewSrc},function(e,t){return d.layout.isfileUploadInfoDataReset?d.layout.isfileUploadInfoDataReset=!1:void(d.layout&&d.layout.isLoadFinished&&(!p().equals(e,t)&&t?(d.layout.fileUploadInfoHasUpdate||(d.copyOfFileUploadPreviewSrc=p().copy(t)),d.layout.fileUploadInfoHasUpdate=!0):d.layout.fileUploadInfoHasUpdate=!1))},!0),u.$on("$destroy",function(){e(),a()}),d.layout.isIconRound=d.itemType===s.badge||d.itemType===s.gamePass}}n.$inject=["$log","$window","itemConfigurationCommonConstants","itemConfigurationService","itemConfigurationConstants","permissionService","itemTagsService","$scope","modalService","itemConfigurationLanguageService","languageResource"],a.Z.controller("itemConfigurationController",n),t.default=n},4242:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var m=HeaderScripts,a=a(4754);function i(t,a,i,n,r,e,s,o){var l=this;function c(e,t){t=parseFloat(t),t=n.calculateMarketFee(e,t);return Math.max(e-t,0)}function u(){n.updatePrice(l.itemType,l.itemId,l.salesData,l.salesLayout.previousStatus,l.salesLayout.premiumPricingConfigurationOption,l.salesLayout.saleTargetLocation).then(function(){var e=l.salesData,t=e.isForSale,e=e.status;l.salesLayout.previousStatus=e,l.salesLayout.isSaleToggleEnabled=t,i.success(a.get("Message.UpdateSuccess"))},function(e){i.warning(a.get("Message.UpdateError")),t.debug(e)}).finally(function(){l.salesLayout.isLoading=!1,l.layout.configurableItemHasUpdate=!1})}l.setSaleStatus=function(){var e=r.saleStatus,t=e.onSale,a=e.free,i=l.salesData,e=i.price,i=i.premiumPrice;l.salesData.status=(i=i,(null!=(e=e)?0===e:null!=i&&0===i)?a:t)},l.toggleForSale=function(){var e=l.salesData,t=r.saleStatus,a=t.onSale,i=t.offSale,t=t.free;e.isForSale=!e.isForSale,e.isForSale?e.status=0===e.price?t:a:e.status=i},l.updatePrice=function(){l.salesLayout.isLoading=!0,"CatalogAsset"===l.itemType?n.getSellingFee(l.itemId).then(function(t){t.error?i.warning(a.get("Message.UpdatePriceError")):t.price<=0?u():n.getCurrency(m.authenticatedUser.id).then(function(e){e.error?i.warning(a.get("Message.UpdatePriceError")):e.robux>=t.price?o.open({titleText:a.get("Heading.SellingFeeTitle"),bodyText:a.get("Label.SellingFeeMessage",{itemType:a.get("Label.".concat(l.itemAssetType)),price:t.price}),actionButtonShow:!0,actionButtonText:a.get("Label.Confirm"),neutralButtonText:a.get("Label.Cancel")}).result.then(function(){u()},function(){}):i.warning(a.get("Message.InsufficientSellingFeeFunds",{assetType:a.get("Label.".concat(l.itemAssetType)),price:t.price}))})}):u()},l.isPriceFieldInvalid=function(){var e=l.salesLayout.premiumPricingConfigurationOption===l.salesLayout.premiumPricingConfigurationOptions.premiumExclusive,t=s.priceForm&&s.priceForm.itemPrice&&(s.priceForm.itemPrice.$error.min||s.priceForm.itemPrice.$error.max||s.priceForm.itemPrice.$error.integer);return!e&&(l.isPremiumDiscountedPriceInvalid()||l.isPriceEmptyInvalid()||t)},l.isPriceEmptyInvalid=function(){if(l.salesLayout.premiumPricingConfigurationOption===l.salesLayout.premiumPricingConfigurationOptions.premiumExclusive)return!1;var e=l.salesData,t=e.isForSale,e=e.price;return!l.salesLayout.isSaleToggleEnabled&&!t||null==e},l.isPremiumDiscountedPriceInvalid=function(){return l.salesLayout.premiumPricingConfigurationOption===l.salesLayout.premiumPricingConfigurationOptions.premiumDiscount&&l.salesData.premiumDiscountPercentage&&l.salesLayout&&l.getPremiumDiscountedPrice()<l.salesData.minPremiumPrice},l.isPremiumPriceFieldInvalid=function(){var e=l.salesLayout.premiumPricingConfigurationOption===l.salesLayout.premiumPricingConfigurationOptions.premiumExclusive,t=s.priceForm&&s.priceForm.itemPremiumPrice&&(s.priceForm.itemPremiumPrice.$error.min||s.priceForm.itemPremiumPrice.$error.max||s.priceForm.itemPremiumPrice.$error.integer);return e&&(void 0===l.salesData.premiumPrice||null===l.salesData.premiumPrice||""===l.salesData.premiumPrice||t)},l.isSaleSaveBtnInvalid=function(){var e=l.salesLayout.premiumPricingConfigurationOption===l.salesLayout.premiumPricingConfigurationOptions.premiumDiscount;return l.layout.isSaleTabInvalid=s.priceForm.$invalid||l.isPriceEmptyInvalid()||l.isPremiumDiscountedPriceInvalid()||e&&!l.salesData.premiumDiscountPercentage||l.isPremiumPriceFieldInvalid(),l.layout.isSaleTabInvalid},l.getMinPrice=function(){return l.salesData.canBeFree?0:l.salesData.minPrice},l.setPremiumDiscountPercentage=function(e){l.salesData.premiumDiscountPercentage=e},l.getRegularPriceProfit=function(e){return l.isPriceFieldInvalid()||l.salesLayout.premiumPricingConfigurationOption===l.salesLayout.premiumPricingConfigurationOptions.premiumExclusive?0:c(l.salesData.price,e)},l.getPremiumDiscountedPrice=function(){var e=l.salesData,t=e.price,e=e.premiumDiscountPercentage;return t&&e?Math.round(t*(1-e/100)):0},l.getPremiumDiscountedPriceProfit=function(e){return l.isPremiumDiscountedPriceInvalid()?0:c(l.getPremiumDiscountedPrice(),e)},l.getPremiumPriceProfit=function(e){return l.isPremiumPriceFieldInvalid()?0:c(l.salesData.premiumPrice,e)},l.showPriceConfig=function(){return l.salesData.canBePaid&&l.salesData.isForSale},l.initializeNoPremiumBenefitsConfigurationData=function(){!l.salesData.premiumPrice&&0!==l.salesData.premiumPrice||(l.salesLayout.previousPremiumPrice=l.salesData.premiumPrice,l.salesData.premiumPrice=void 0),!l.salesData.premiumDiscountPercentage&&0!==l.salesData.premiumDiscountPercentage||(l.salesLayout.previousPremiumDiscountPercentage=l.salesData.premiumDiscountPercentage,l.salesData.premiumDiscountPercentage=void 0),isNaN(l.salesData.price)&&(isNaN(l.salesLayout.previousPrice)?l.salesData.price=l.salesData.minPrice:l.salesData.price=l.salesLayout.previousPrice)},l.initializePremiumDiscountConfigurationData=function(){!l.salesData.premiumPrice&&0!==l.salesData.premiumPrice||(l.salesLayout.previousPremiumPrice=l.salesData.premiumPrice,l.salesData.premiumPrice=void 0),isNaN(l.salesData.price)&&(isNaN(l.salesLayout.previousPrice)?l.salesData.price=l.salesData.minPremiumPrice:l.salesData.price=l.salesLayout.previousPrice),isNaN(l.salesData.premiumDiscountPercentage)&&!isNaN(l.salesLayout.previousPremiumDiscountPercentage)&&(l.salesData.premiumDiscountPercentage=l.salesLayout.previousPremiumDiscountPercentage)},l.initializePremiumExclusiveConfigurationData=function(){!l.salesData.price&&0!==l.salesData.price||(l.salesLayout.previousPrice=l.salesData.price,l.salesData.price=void 0),!l.salesData.premiumDiscountPercentage&&0!==l.salesData.premiumDiscountPercentage||(l.salesLayout.previousPremiumDiscountPercentage=l.salesData.premiumDiscountPercentage,l.salesData.premiumDiscountPercentage=void 0),isNaN(l.salesData.premiumPrice)&&(isNaN(l.salesLayout.previousPremiumPrice)?l.salesData.premiumPrice=l.salesData.minPremiumPrice:l.salesData.premiumPrice=l.salesLayout.previousPremiumPrice)},s.$on(e.unSavedUpdateEvent,function(){t.debug("I receive the event from sale"),l.updatePrice()});l.$onInit=function(){var e;l.salesData&&(e=l.salesData.marketFeeRate,l.salesLayout=angular.copy(r.saleLayout),l.salesLayout.marketplaceCreatorCutRate=Math.round(100*(1-e)),l.salesLayout.isSaleToggleEnabled=l.salesData.isForSale,l.salesLayout.previousPrice=l.salesData.price,l.salesLayout.previousPremiumDiscountPercentage=l.salesData.premiumDiscountPercentage,l.salesLayout.previousPremiumPrice=l.salesData.premiumPrice,l.salesLayout.previousStatus=l.salesData.status,l.salesLayout.isPremiumPricingEnabled=l.salesData.isPremiumPricingEnabled,l.salesLayout.premiumPricingConfigurationOptions=r.premiumPricingConfigurationOptions,l.salesLayout.saleLocationOptions=r.saleLocationOptions,l.salesLayout.premiumPricingConfigurationOption=function(){if(l.salesData.isForSale){if(l.salesData.premiumPrice)return r.premiumPricingConfigurationOptions.premiumExclusive;if(l.salesData.premiumDiscountPercentage)return r.premiumPricingConfigurationOptions.premiumDiscount}return r.premiumPricingConfigurationOptions.noPremiumBenefits}(),l.salesLayout.saleTargetLocation=r.saleLocationOptions.allPlacesAndAvatarShop,l.setSaleStatus()),l.salesData.allowedAssetTypesForSaleAvailabilityLocations&&l.salesData.allowedAssetTypesForSaleAvailabilityLocations.includes(l.itemAssetType)?(l.salesLayout.showLocationSelector=!0,n.getAssetDetails(l.itemId).then(function(e){var t,e=e[0];!e||!e.releaseConfiguration||(t=e.releaseConfiguration.saleAvailabilityLocations).includes(r.releaseLocations.avatarShop)&&t.includes(r.releaseLocations.allUniverses)?l.salesLayout.saleTargetLocation=r.saleLocationOptions.allPlacesAndAvatarShop:t.includes(r.releaseLocations.avatarShop)&&t.includes(r.releaseLocations.myUniverses)?l.salesLayout.saleTargetLocation=r.saleLocationOptions.myPlacesAndAvatarShop:t.includes(r.releaseLocations.avatarShop)?l.salesLayout.saleTargetLocation=r.saleLocationOptions.avatarShopOnly:l.salesLayout.saleTargetLocation=r.saleLocationOptions.allPlacesAndAvatarShop}),n.getCommissionRates().then(function(e){0<e.length&&e.forEach(function(e){var t=e.commissionRates,a=t.affiliateFeesPercentage,t=t.creatorFeesPercentage;e.itemTypeDetails&&e.itemTypeDetails.assetType===l.itemAssetType&&Object.assign(l.salesData,{saleLocationMarketplaceFeeRate:t/100,myPlacesFeeRate:(t+a)/100,otherPlacesFeeRate:t/100});e=l.salesData,a=e.saleLocationMarketplaceFeeRate,t=e.myPlacesFeeRate,e=e.otherPlacesFeeRate;Object.assign(l.salesLayout,{affiliateMarketplaceCreatorCutRate:Math.round(100*a),myPlacesCreatorCutRate:Math.round(100*t),otherPlacesCreatorCutRate:Math.round(100*e)})})})):l.salesLayout.showLocationSelector=!1}}i.$inject=["$log","languageResource","systemFeedbackService","itemSalesService","itemSalesConstants","itemConfigurationConstants","$scope","modalService"],a.Z.controller("itemSalesController",i);var n=i},8358:function(e,t,a){"use strict";a.r(t);a=a(4754);function i(t,e,a){var i=this;i.showItemTagsModal=function(){var e={animation:!1,templateUrl:"item-tags-modal",controller:"itemTagsModalController",resolve:{modalData:{itemId:i.assetId,itemTags:i.itemTags,maxItemTags:i.maximumItemTagsPerItem}}};a.open(e)};i.$onInit=function(){i.itemTags=[],e.getItemTags(i.assetId).then(function(e){i.itemTags=e},function(e){t.debug(e)})}}i.$inject=["$log","itemTagsService","$uibModal"],a.Z.controller("itemTagsController",i),t.default=i},8800:function(e,t,a){"use strict";a.r(t);a=a(4754);function i(a,e,i,t,n,r,s){a.params=t,a.addItemTag=function(e){a.itemTagLayout.isOpen=!1,a.itemTagLayout.focusMe=!1,n.addItemTag(a.params.itemId,e.tagId).then(function(e){a.params.itemTags.push(e)}).finally(function(){a.itemTagLayout.focusMe=!0,a.data={}})},a.deleteItemTag=function(e,t){n.deleteItemTag(e).then(function(){a.params.itemTags.splice(t,1)})},a.getTags=function(t){a.itemTagLayout.isOpen=!0,a.itemTagLayout.isSearchRequestSending=!0,a.timeoutOnSearchTags=s(function(){i.debug(" --- searchTerm after timeout"+t),n.searchTags(t,r.numTagSearchResults).then(function(e){i.debug(" --- search tags ---- "+t+"----- result -----"+e),(a.data.searchResults=e)&&0===e.length&&(a.itemTagLayout.isOpen=!1)},function(e){a.itemTagLayout.isOpen=!1,a.data.searchResults=[]}).finally(function(){s.cancel(a.timeoutOnSearchTags),a.itemTagLayout.isSearchRequestSending=!1,a.itemTagLayout.previousSearchResult!==t&&a.getTags(a.itemTagLayout.previousSearchResult)})},a.itemTagLayout.timeoutForNextSearchRequest)},a.searchTags=function(){if(i.debug(" --- search tags ----- "),!a.data.selectedKeyword)return a.itemTagLayout.isOpen=!1,void(a.data.searchResults=[]);var e=a.data.selectedKeyword.trim();0<e.length&&(i.debug(" --- search tags ----- searchTerm",e),a.timeoutOnSearchTags&&(a.itemTagLayout.previousSearchResult=e),a.getTags(e))},a.isSearchDisabled=function(){return a.params.itemTags&&a.params.itemTags.length===a.params.maxItemTags},a.close=function(){s.cancel(a.timeoutOnSearchTags),e.dismiss()},a.init=function(){a.data={},a.itemTagLayout=angular.copy(r.layoutInitializedData)},a.init()}i.$inject=["$scope","$uibModalInstance","$log","modalData","itemTagsService","itemTagsConstants","$timeout"],a.Z.controller("itemTagsModalController",i),t.default=i},4754:function(e,t,a){"use strict";var i=a(5734),s=a.n(i),o=a(792),a=s().module("itemConfiguration",["robloxApp","fileUpload","itemConfigurationCommon","cursorPagination","ui.bootstrap","ui.router","systemFeedback","infiniteScroll","modal"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","languageResourceProvider","itemConfigurationConstants",function(t,e,a,i,n){var r=window.location.href;-1!=r.indexOf("#")&&-1==r.indexOf("#!")&&(window.location.href=r.replace("#","#!")),a.html5Mode(!1),a.hashPrefix("!"),e.otherwise("/general"),s().forEach(n.tabs,function(e){t.state(e.name,{url:"/"+e.name,label:e.name,authenticate:!1,activeTabName:e.name})}),i.setLanguageKeysFromFile(o.Lang.CatalogResources)}]);t.Z=a},1661:function(e,t,a){"use strict";a.r(t);var n=a(792),a=a(4754);function i(t,a,i){return{getIsArchived:function(e){var t={url:n.EnvironmentUrls.itemConfigurationApi+i.urls.getCreationDetails},e={assetIds:[e]};return a.httpPost(t,e).then(function(e){return{isArchived:e[0].isArchived}})},archiveItem:function(e){return e={url:t("formatString")(n.EnvironmentUrls.developApi+i.urls.archiveAsset,{id:e})},a.httpPost(e,{})},restoreItem:function(e){return e={url:t("formatString")(n.EnvironmentUrls.developApi+i.urls.restoreAsset,{id:e})},a.httpPost(e,{})}}}i.$inject=["$filter","httpService","itemConfigurationConstants"],a.Z.factory("archiveAssetService",i),t.default=i},1800:function(e,t,a){"use strict";a.r(t);var r=a(792),a=a(4754);function i(a,i,n){return{revertToVersion:function(e,t){return t={url:a("formatString")(r.EnvironmentUrls.developApi+n.urls.revertAssetVersion,{id:e,versionNumber:t})},i.httpPost(t,{})}}}i.$inject=["$filter","httpService","itemConfigurationConstants"],a.Z.factory("assetVersionsService",i),t.default=i},7208:function(e,t,a){"use strict";a.r(t);var P=a(792),a=a(4754);function g(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function n(p,f,b,v,y,h,d){function s(i,n){return b.httpGet({url:P.EnvironmentUrls.developApi+y.urls.getAssetDetails,noCache:!0},{assetIds:i}).then(function(e){if(e&&e.data){var t=e.data[0],a=y.itemTypes,e=h.urlRoots,e=n===a.catalogAsset?e.catalogAsset:e.libraryAsset;return{type:t.type,name:t.name,description:t.description,genres:t.genres,created:new Date(t.created),updated:new Date(t.updated),thumbnail:{imageUrl:v.getAbsoluteUrl(y.urls.assetThumbnail+i)},itemPageUrl:f("seoUrl")(e,i,t.name),areCommentsEnabled:t.enableComments,areCommentsConfigurable:!0,isCopyingAllowed:t.isCopyingAllowed,isCopyingConfigurable:t.isPublicDomainEnabled,moderationStatus:t.moderationStatus,isVersioningEnabled:t.isVersioningEnabled,areGenresEnabled:!0,isArchivable:t.isArchivable,areItemTagsEnabled:!0}}})}function o(m,e){e={getAsset:s(m,e),getCreationAssetDetails:(e={assetIds:[e=m]},b.httpPost(y.urlConfigs.getCreationAssetDetails,e)),getMetadata:(e=y.urlConfigs,b.httpGet(e.getMetadata))};return p.all(e).then(function(e){if(e){var a,t,i,n,r,s,o,l=e.getAsset,c=e.getCreationAssetDetails,u=e.getMetadata;return c&&u&&(a=d.allowSaleStatus,c.some(function(e){var t;e.assetId===m&&(t={isForSale:-1<a.indexOf(e.status),status:e.status,canBeFree:!1,canBePaid:!1},e.priceConfiguration&&(t.price=e.priceConfiguration.priceInRobux,t.premiumDiscountPercentage=e.priceConfiguration.premiumDiscountPercentage,t.premiumPrice=e.priceConfiguration.premiumPriceInRobux),l.salesData=t)}),o=l.type,r=u.allowedAssetTypesForRelease,t=u.allowedAssetTypesForSaleAvailabilityLocations,r&&r[o]&&(i=(n=r[o]).allowedPriceRange,c=n.marketplaceFeesPercentage,n={maxPrice:i.maxRobux,minPrice:i.minRobux,marketFeeRate:c/100},c=d.saleStatus.free,l.salesData.status===c?(l.salesData.price=0,l.salesData.premiumPrice=0):(s=l.salesData.price,l.salesData.price=isNaN(s)?i.minRobux:s),Object.assign(l.salesData,n),l.salesData.canBePaid=!0,l.canBeSold=!0,(s=r[o].premiumPricing)&&(n=s.allowedPriceRange,r=s.allowedDiscountPercentages,s=l.salesData.premiumPrice,l.salesData.isPremiumPricingEnabled=!0,l.salesData.maxPremiumPrice=n.maxRobux,l.salesData.minPremiumPrice=n.minRobux,l.salesData.premiumPrice=s,l.salesData.allowedPremiumDiscountPercentages=g(r)),l.salesData.allowedAssetTypesForSaleAvailabilityLocations=null!==t?t:d.affiliateFeeTypes),(u=u.allowedAssetTypesForFree)&&u.includes(o)&&(l.salesData.canBeFree=!0,l.canBeSold=!0,o=d.saleStatus.free,l.salesData.status!==o&&void 0!==l.salesData.price||(l.salesData.price=0))),l}return e})}return{getItemData:function(e,t,a){var i,n,r=y.libraryAssetTypesForSale;switch(e){case y.itemTypes.gamePass:return n=t,b.httpGet({url:v.getAbsoluteUrl(y.urls.gamePassMetadata),noCache:!0},{id:n}).then(function(e){return{type:y.itemTypes.gamePass,name:e.name,description:e.description,updated:new Date(e.updated),thumbnail:{imageUrl:e.thumbnail.Url},canBeSold:!0,salesData:{isForSale:e.isForSale,price:Math.max(e.minimumPrice,e.price),maxPrice:e.maximumPrice,minPrice:e.minimumPrice,marketFeeRate:e.marketPlaceFeeRate,canBeFree:!1,canBePaid:!0,status:e.isForSale?d.saleStatus.onSale:d.saleStatus.offSale},itemPageUrl:f("seoUrl")(h.urlRoots.gamePass,n,e.name),associatedItem:{id:e.associatedItem.id,name:e.associatedItem.name,type:e.associatedItem.type,url:f("seoUrl")(h.urlRoots[e.associatedItem.type.toLowerCase()],e.associatedItem.id,e.associatedItem.name)}}});case y.itemTypes.badge:return i=t,b.httpGet({url:P.EnvironmentUrls.badgesApi+y.urls.badgeDetails+i,noCache:!0}).then(function(e){var t=void 0;return e.awardingUniverse&&e.awardingUniverse.rootPlaceId&&(t={id:e.awardingUniverse.rootPlaceId,name:e.awardingUniverse.name,type:y.itemTypes.game,url:f("seoUrl")(h.urlRoots.game,e.awardingUniverse.rootPlaceId,e.awardingUniverse.name)}),{type:y.itemTypes.badge,name:e.name,description:e.description,created:new Date(e.created),updated:new Date(e.updated),thumbnail:{imageUrl:v.getAbsoluteUrl(y.urls.assetThumbnail+e.iconImageId)},itemPageUrl:f("seoUrl")(h.urlRoots.badge,i,e.name),associatedItem:t,isActivationConfigurable:!0,isActive:e.enabled}});case y.itemTypes.catalogAsset:return o(t,e);case y.itemTypes.libraryAsset:return(r.includes(a)?o:s)(t,e)}return p.reject("Loader not found.")},getGenres:function(){var e={url:P.EnvironmentUrls.developApi+y.urls.getGenres};return b.httpGet(e,{})},getIsVerifiedCreator:function(){var e={url:P.EnvironmentUrls.developApi+y.urls.isVerifiedCreator};return b.httpGet(e,{})},updateItem:function(e,t,a,i){switch(i&&!i.type&&(i=null),e){case y.itemTypes.gamePass:return m=i,d={id:t,name:(u=a).name,description:u.description},g={url:v.getAbsoluteUrl(y.urls.updateGamePass)},m&&(d.file=m,g.withFile=!0),p(function(t,a){return b.httpPost(g,d).then(function(e){e.isValid?t():(e=h.errorCodes.gamePassUpdate[e.error]||h.errorCodes.internal.unknown,a(e))},function(){a(h.errorCodes.internal.unknown)})});case y.itemTypes.badge:return o=t,l=a,c=i,p(function(e,t){b.httpPatch({url:P.EnvironmentUrls.badgesApi+y.urls.badgePatch+o},{name:l.name,description:l.description,enabled:l.isActive}).then(function(){c?b.httpPost({url:P.EnvironmentUrls.publishApi+y.urls.badgeIconUpload+o+y.urls.badgeIconUploadSuffix,withFile:!0},{icon:c}).then(function(){e()},function(e){e=b.getPrimaryApiErrorCode(e,h.errorCodes.updateIcon)||h.errorCodes.internal.iconUpdateFailure;t(e)}):e()},b.getApiErrorCodeHandler(t,h.errorCodes.patchBadge))});case y.itemTypes.libraryAsset:case y.itemTypes.catalogAsset:return n=t,r=a,s=i,p(function(e,t){b.httpPatch({url:f("formatString")(P.EnvironmentUrls.developApi+y.urls.patchAsset,{id:n})},{name:r.name,description:r.description,enableComments:r.areCommentsEnabled,genres:r.genres,isCopyingAllowed:r.isCopyingAllowed}).then(function(){s&&r.type===y.assetTypes.plugin?b.httpPost({url:f("formatString")(P.EnvironmentUrls.publishApi+y.urls.uploadPluginIcon,{id:n}),withFile:!0},{icon:s}).then(function(){e()},function(e){e=b.getPrimaryApiErrorCode(e,h.errorCodes.updateIcon)||h.errorCodes.internal.iconUpdateFailure;t(e)}):e()},b.getApiErrorCodeHandler(t,h.errorCodes.patchAsset))})}var n,r,s,o,l,c,u,m,d,g;return p.reject("Saver not found.")},getUserLocale:function(){var e={url:P.EnvironmentUrls.localeApi+y.urls.getUserLocale};return b.httpGet(e,{})},getAssetContent:function(e){var t=[{assetId:e,requestId:0}],e={url:P.EnvironmentUrls.assetDeliveryApi+y.urls.getAssetContent,headers:{"Roblox-Browser-Asset-Request":"true"}};return b.httpPost(e,t)}}}n.$inject=["$q","$filter","httpService","urlService","itemConfigurationConstants","itemConfigurationCommonConstants","itemSalesConstants"],a.Z.factory("itemConfigurationService",n),t.default=n},5776:function(e,t,a){"use strict";a.r(t);a=a(4754);function i(c,f,u,b,m,v,y){function d(e,t,a,i,n){var r,s,o=b.urlConfigs,l=o.releaseAssetSale,c=o.updateAssetPrice,u=t.status,m={},d={},g={},p={};return i===y.premiumPricingConfigurationOptions.premiumExclusive?(r=t.premiumPrice,g.premiumPriceInRobux=r):i===y.premiumPricingConfigurationOptions.premiumDiscount?(o=t.price,r=t.premiumDiscountPercentage,g.priceInRobux=o,g.premiumDiscountPercentage=r):i===y.premiumPricingConfigurationOptions.noPremiumBenefits&&(t=t.price,g.priceInRobux=t),n===y.saleLocationOptions.avatarShopOnly?s=[y.releaseLocations.avatarShop]:n===y.saleLocationOptions.myPlacesAndAvatarShop?s=[y.releaseLocations.avatarShop,y.releaseLocations.myUniverses]:n==y.saleLocationOptions.allPlacesAndAvatarShop&&(s=[y.releaseLocations.avatarShop,y.releaseLocations.allUniverses]),p.saleAvailabilityLocations=s,u!==a?(m=l,d={priceConfiguration:g,saleStatus:u,releaseConfiguration:p}):(m=c,d={priceConfiguration:g},null!=n&&(u=e,c=p,g=b.urlConfigs.update,n={},p={},p={releaseConfiguration:c},(n=g).url=v("formatString")(n.url,{assetId:u}),f.httpPost(n,p))),m.url=v("formatString")(m.url,{assetId:e}),f.httpPost(m,d)}return{calculateMarketFee:function(e,t){return 0===e||null==e?0:(t=Math.round(e*t),Math.max(y.minimumFeeRobux,t))},updatePrice:function(e,t,a,i,n,r){switch(e){case b.itemTypes.gamePass:return o={id:t,isForSale:(s=a).isForSale,price:s.price},l={url:u.getAbsoluteUrl(b.urls.updateGamePass)},c(function(t,a){return f.httpPost(l,o).then(function(e){e.isValid?t():(e=m.errorCodes.gamePassUpdate[e.error]||m.errorCodes.internal.unknown,a(e))},function(){a(m.errorCodes.internal.unknown)})});case b.itemTypes.catalogAsset:case b.itemTypes.libraryAsset:return d(t,a,i,n,r);default:return c.reject("Item type not currently supported.")}var s,o,l},getSellingFee:function(e){var t={};return(t=b.urlConfigs.getSellingFee).url=v("formatString")(t.url,{assetId:e}),f.httpGet({url:t.url,noCache:!0})},getCurrency:function(e){var t={};return(t=b.urlConfigs.getCurrency).url=v("formatString")(t.url,{userId:e}),f.httpGet({url:t.url,noCache:!0})},getAssetDetails:function(e){return e={assetIds:[e]},f.httpPost(b.urlConfigs.getCreationAssetDetails,e)},getCommissionRates:function(){var e=b.urlConfigs;return f.httpGet(e.getCommissionRates)}}}i.$inject=["$q","httpService","urlService","itemConfigurationConstants","itemConfigurationCommonConstants","$filter","itemSalesConstants"],a.Z.factory("itemSalesService",i),t.default=i},2864:function(e,t,a){"use strict";a.r(t);var s=a(792),a=a(4754);function i(t,n,r){return{getItemTagsMetadata:function(){var e={url:s.EnvironmentUrls.itemConfigurationApi+r.urls.getItemTagsMetadata};return n.httpGet(e,{})},getItemTags:function(i){var e={url:s.EnvironmentUrls.itemConfigurationApi+r.urls.getItemTags},t={itemIds:["AssetId:"+i]};return n.httpGet(e,t).then(function(e){var e=e.data,a=[];return e&&0<e.length&&(e.some(function(e){var t=e.id,t=t.split(":")?t.split(":")[1]:t;(t=parseInt(t))===i&&(a=e.itemTags)}),a.forEach(function(e){e=e.tag;e.displayName=e.localizedDisplayName||e.name})),a})},addItemTag:function(e,t){var a={url:s.EnvironmentUrls.itemConfigurationApi+r.urls.addItemTag},t={itemId:"AssetId:"+e,tagId:t};return n.httpPost(a,t).then(function(e){var t;return e&&((t=e.tag).displayName=t.localizedDisplayName||t.name),e})},deleteItemTag:function(e){return e={url:t("formatString")(s.EnvironmentUrls.itemConfigurationApi+r.urls.deleteItemTag,{id:e})},n.httpDelete(e,{})},searchTags:function(e,t){var a={url:s.EnvironmentUrls.itemConfigurationApi+r.urls.searchTags},t={prefix:e,numberOfResults:t};return n.httpGet(a,t).then(function(e){e=e.data;return e&&0<e.length&&e.forEach(function(e){e.displayName=e.localizedDisplayName||e.name}),e})}}}i.$inject=["$filter","httpService","itemConfigurationConstants"],a.Z.factory("itemTagsService",i),t.default=i},5207:function(e,t,a){"use strict";a.r(t);a=a(4754);function i(e){var t=e.itemTypes,e=e.assetTypes,a=[t.gamePass,t.badge],i=[e.plugin];return{canUpload:function(e,t){return-1<a.indexOf(e)||-1<i.indexOf(t)}}}i.$inject=["itemConfigurationConstants"],a.Z.factory("permissionService",i),t.default=i},3288:function(e){e.exports='<div class="container-header"> <h3 ng-bind="\'Heading.Archive\' | translate"></h3> </div> <div class="section-content"> <button ng-hide="$ctrl.isArchived" id="archive-button" type="button" class="btn-alert-md setting-button" ng-click="$ctrl.archiveAsset()" ng-bind="\'Label.Archive\' | translate"></button> <button ng-show="$ctrl.isArchived" id="restore-button" type="button" class="btn-cta-md setting-button" ng-click="$ctrl.restoreAsset()" ng-bind="\'Label.Restore\' | translate"></button> <div class="button-description" ng-bind="\'Description.ArchiveWarning\' | translate"></div> </div>'},2086:function(e){e.exports='<div ng-show="$ctrl.isLoading" class="spinner spinner-default"></div> <div class="section" ng-hide="$ctrl.isLoading"> <table class="table table-striped" infinite-scroll="$ctrl.pager.loadNextPage()" infinite-scroll-disabled="$ctrl.pager.isBusy()" infinite-scroll-distance="0.5"> <tr> <th class="number" ng-bind="\'Label.Version\' | translate"></th> <th class="updated" ng-bind="\'Label.LastUpdated\' | translate"></th> </tr> <tr ng-repeat="version in $ctrl.versions"> <td class="number" ng-bind="version.assetVersionNumber"></td> <td class="updated"> <div ng-bind="version.created | datetime: \'full\'"></div> <span ng-if="version.isEqualToCurrentPublishedVersion" class="revert-text" ng-bind="\'Label.CurrentPublishedVersion\' | translate"></span> <button ng-if="!version.isEqualToCurrentPublishedVersion" type="button" class="btn-control-md btn-action revert-btn" ng-click="$ctrl.revertToVersion(version.assetVersionNumber)" ng-bind="\'Label.RevertVersion\' | translate"> </button> </td> </tr> </table> </div> '},1768:function(e){e.exports='<div class="section-content remove-panel"> <div ng-if="$ctrl.layout.showFileUpload" class="file-upload-container item-thumbnail-container" ng-class="{ \'round-icon\': $ctrl.layout.isIconRound }"> <file-upload file-upload-info="$ctrl.fileUploadInfo"></file-upload> <div class="file-upload-footer"> <div class="font-caption-body text" ng-bind-html="\'Description.AcceptableFiles\' | translate : { lineBreak: \': \', fileExtensions: $ctrl.allowedFileTypesString(), fileSizes: $ctrl.fileUploadInfo.allowedFileSizes }"></div> <div class="font-caption-body text" ng-bind="\'Description.ModeratorReview\' | translate"></div> </div> </div> <div ng-if="!$ctrl.layout.showFileUpload" class="item-preview-container item-thumbnail-container"> <div class="thumbnail-holder asset-thumb-container"> <span class="thumbnail-span"> <img ng-src="{{$ctrl.fileUploadInfo.previewSrc}}"/> </span> <div ng-if="$ctrl.configurableItem.audioUrl" class="MediaPlayerControls"> <div class="MediaPlayerIcon icon-play" data-mediathumb-url="{{$ctrl.configurableItem.audioUrl}}"> </div> </div> </div> </div> <div class="item-details"> <div class="text-label" ng-bind="\'Label.Name\' | translate"></div> <div class="form-group form-has-feedback border-bottom" ng-class="{\'form-has-error\': !$ctrl.layout.isLoading && $ctrl.configurableItem.name.length === 0 }"> <input class="form-control input-field" name="itemName" placeholder="{{ \'Label.Name\' | translate }}" ng-model="$ctrl.configurableItem.name" maxlength="{{ $ctrl.layout.maxNameLength }}"/> <p class="form-control-label" ng-if="!$ctrl.layout.isLoading && $ctrl.configurableItem.name.length === 0" ng-bind="\'Message.NameFieldEmpty\' | translate"></p> <p class="form-control-label align-right" ng-if="$ctrl.layout.isLoading || $ctrl.configurableItem.name.length > 0" ng-bind="$ctrl.configurableItem.name.length | formatCharacterCount: $ctrl.layout.maxNameLength"></p> </div> <div class="clearfix item-field-container"> <div class="text-label text-overflow field-label" title="{{ \'Label.Type\' | translate }}" ng-bind="\'Label.Type\' | translate"></div> <span class="field-content" title="{{ \'Label.\' + $ctrl.configurableItem.type | translate }}" ng-bind="\'Label.\' + $ctrl.configurableItem.type | translate"></span> </div> <div ng-if="$ctrl.configurableItem.associatedItem.id > 0" class="clearfix item-field-container"> <div class="text-label text-overflow field-label" title="{{ \'Label.ForItem\' | translateParams : { itemType: \'Label.\' + $ctrl.configurableItem.associatedItem.type } }}" ng-bind="\'Label.ForItem\' | translateParams : { itemType: \'Label.\' + $ctrl.configurableItem.associatedItem.type }"></div> <span class="field-content"> <a class="text-link" title="{{ $ctrl.configurableItem.associatedItem.name }}" ng-bind="$ctrl.configurableItem.associatedItem.name" ng-href="{{$ctrl.configurableItem.associatedItem.url}}" target="_self"></a> </span> </div> <div ng-if="$ctrl.configurableItem.areGenresEnabled && $ctrl.genres && $ctrl.configurableItem.genres.length > 0" class="clearfix item-field-container"> <div class="text-label text-overflow field-label" title="{{ \'Label.Filter.Genre\' | translate }}" ng-bind="\'Label.Filter.Genre\' | translate"></div> <span class="field-content"> <div class="input-group-btn"> <button type="button" class="input-dropdown-btn" data-toggle="dropdown"> <span class="rbx-selection-label" title="{{ \'LabelGenre\' + $ctrl.configurableItem.genres[0] | translate }}" ng-bind="\'LabelGenre\' + $ctrl.configurableItem.genres[0] | translate"></span> <span class="icon-down-16x16"></span> </button> <ul data-toggle="dropdown-menu" class="dropdown-menu" role="menu"> <li ng-repeat="genre in $ctrl.genres"> <a ng-click="$ctrl.updateGenre(genre)"> <span class="text-overflow" title="{{ \'LabelGenre\' + genre | translate }}" ng-bind="\'LabelGenre\' + genre | translate"></span> </a> </li> </ul> </div> </span> </div> <item-tags ng-if="$ctrl.layout.isItemTagsEnabled" asset-id="$ctrl.itemId" maximum-item-tags-per-item="$ctrl.layout.maximumItemTagsPerItem"></item-tags> <div ng-show="$ctrl.layout.showCreatedDate" class="clearfix item-field-container"> <div class="text-label text-overflow field-label" title="{{ \'Label.Created\' | translate }}" ng-bind="\'Label.Created\' | translate"></div> <span class="field-content" title="{{ $ctrl.configurableItem.created | datetime: \'full\' }}" ng-bind="$ctrl.configurableItem.created | datetime: \'full\'"></span> </div> <div ng-show="$ctrl.layout.showUpdatedDate" class="clearfix item-field-container"> <div class="text-label text-overflow field-label" title="{{ \'Label.Updated\' | translate }}" ng-bind="\'Label.Updated\' | translate"></div> <span class="field-content" title="{{ $ctrl.configurableItem.updated | datetime: \'full\' }}" ng-bind="$ctrl.configurableItem.updated | datetime: \'full\'"></span> </div> </div> <div ng-if="$ctrl.layout.showFileUpload" class="file-upload-footer"> <div class="font-caption-body text" ng-bind-html="\'Description.AcceptableFiles\' | translate : { lineBreak: \': \', fileExtensions: $ctrl.allowedFileTypesString(), fileSizes: $ctrl.fileUploadInfo.allowedFileSizes }"></div> <div class="font-caption-body text" ng-bind="\'Description.ModeratorReview\' | translate"></div> </div> </div> <div class="container-header"> <h3 ng-bind="\'Label.Description\' | translate"></h3> </div> <div class="form-has-feedback item-description-form"> <div class="form-group"> <textarea class="form-control input-field description-field" name="itemDescription" rows="{{$ctrl.layout.descriptionRows}}" maxlength="{{$ctrl.layout.maxDescriptionLength}}" placeholder="{{ \'Label.Description\' | translate }}" ng-model="$ctrl.configurableItem.description">\r\n                    </textarea> <p class="form-control-label align-right" ng-if="!$ctrl.configurableItem.description || $ctrl.configurableItem.description.length == 0" ng-bind="\'Message.DescriptionFieldEmpty\' | translate : { maxDescriptionLength: $ctrl.layout.maxDescriptionLength } "></p> <p class="form-control-label align-right" ng-if="$ctrl.configurableItem.description && $ctrl.configurableItem.description.length > 0" ng-bind="$ctrl.configurableItem.description.length | formatCharacterCount: $ctrl.layout.maxDescriptionLength"></p> </div> </div> <div ng-if="$ctrl.shouldShowSettings()"> <div class="container-header"> <h3 ng-bind="\'Heading.Settings\' | translate"></h3> </div> <div class="section-content"> <div ng-if="$ctrl.configurableItem.isActivationConfigurable"> <span class="btn-toggle" ng-click="$ctrl.toggleActivation()" ng-class="{ \'on\': $ctrl.configurableItem.isActive }"> <span class="toggle-flip"></span> <span class="toggle-on"></span> <span class="toggle-off"></span> </span> <div ng-bind="\'Label.ItemActive\' | translate"></div> </div> <div class="rbx-divider" ng-if="$ctrl.configurableItem.isActivationConfigurable && $ctrl.configurableItem.areCommentsConfigurable"></div> <div ng-if="$ctrl.configurableItem.areCommentsConfigurable"> <span class="btn-toggle" ng-click="$ctrl.toggleComments()" ng-class="{ \'on\': $ctrl.configurableItem.areCommentsEnabled }"> <span class="toggle-flip"></span> <span class="toggle-on"></span> <span class="toggle-off"></span> </span> <div ng-bind="\'Label.OpenForComments\' | translate"></div> </div> </div> <div class="section-content" ng-if="$ctrl.configurableItem.isCopyingConfigurable"> <span class="btn-toggle" ng-click="$ctrl.toggleCopying()" ng-class="{ \'on\': $ctrl.configurableItem.isCopyingAllowed, \'disabled\': !$ctrl.isVerifiedCreator }" ng-disabled="!$ctrl.isVerifiedCreator"> <span class="toggle-flip"></span> <span class="toggle-on"></span> <span class="toggle-off"></span> </span> <div ng-bind="\'Label.AllowCopying\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-if="$ctrl.isVerifiedCreator" ng-bind-html="$ctrl.allowCopyingWarning()"> </div> <div class="text-description" ng-if="!$ctrl.isVerifiedCreator" ng-bind-html="$ctrl.verifiedCreatorEmail()"> </div> </div> </div> <archive-asset ng-if="$ctrl.configurableItem.isArchivable" asset-id="$ctrl.itemId"></archive-asset> <div class="btn-group" toggle-loading is-inline="true" is-loading="layout.isLoading"> <button id="submit-button" type="button" class="btn-secondary-md btn-action" ng-disabled="$ctrl.isSaveBtnInValid()" ng-click="$ctrl.saveItem()" ng-bind="\'Label.Save\' | translate"></button> </div>'},3810:function(e){e.exports=' <div class="menu-vertical-container"> <ul class="menu-vertical" vertical-menu> <li class="menu-option" ng-click="$ctrl.switchTabs($ctrl.tabs.general)" ng-class="{\'active\' : $ctrl.activeTab.name === $ctrl.tabs.general.name}" ui-sref="{{ $ctrl.tabs.general.name }}"> <div class="menu-option-content"> <span class="menu-text" ng-bind="\'Label.General\' | translate"></span> </div> </li> <li class="menu-option" ng-if="$ctrl.configurableItem.canBeSold" ng-click="$ctrl.switchTabs($ctrl.tabs.sales)" ng-class="{\'active\' : $ctrl.activeTab.name === $ctrl.tabs.sales.name}" ui-sref="{{ $ctrl.tabs.sales.name }}"> <div class="menu-option-content"> <span class="menu-text" ng-bind="\'Label.Sales\' | translate"></span> </div> </li> <li class="menu-option" ng-if="$ctrl.configurableItem.isVersioningEnabled" ng-click="$ctrl.switchTabs($ctrl.tabs.versions)" ng-class="{\'active\' : $ctrl.activeTab.name === $ctrl.tabs.versions.name}" ui-sref="{{ $ctrl.tabs.versions.name }}"> <div class="menu-option-content"> <span class="menu-text" ng-bind="\'Label.Versions\' | translate"></span> </div> </li> </ul> </div> <div class="menu-dropdown-container input-group-btn"> <div class="input-group-btn menu-dropdown" uib-dropdown> <button type="button" uib-dropdown-toggle="" class="input-dropdown-btn" aria-haspopup="true" aria-expanded="false"> <span class="rbx-selection-label" ng-bind="$ctrl.activeTab.displayName"></span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" role="menu" uib-dropdown-menu> <li ng-click="$ctrl.switchTabs($ctrl.tabs.general)" ng-class="{\'active\' : $ctrl.activeTab.name === $ctrl.tabs.general.name}"> <a ng-bind="\'Label.General\' | translate"></a> </li> <li ng-if="$ctrl.configurableItem.canBeSold" ng-click="$ctrl.switchTabs($ctrl.tabs.sales)" ng-class="{\'active\' : $ctrl.activeTab.name === $ctrl.tabs.sales.name}"> <a ng-bind="\'Label.Sales\' | translate"></a> </li> <li ng-if="$ctrl.configurableItem.isVersioningEnabled" ng-click="$ctrl.switchTabs($ctrl.tabs.versions)" ng-class="{\'active\' : $ctrl.activeTab.name === $ctrl.tabs.versions.name}"> <a ng-bind="\'Label.Versions\' | translate"></a> </li> </ul> </div> </div> '},4402:function(e){e.exports='<div class="section item-configuration-container" ng-class="{\'item-configuration-container-with-list\' : $ctrl.shouldShowMenu()}" ng-if="$ctrl.layout.isLoadFinished"> <system-feedback></system-feedback> <div class="container-header see-all-container-header"> <h1 ng-bind="\'Heading.ConfigureItem\' | translateParams : { itemType: \'Label.\' + $ctrl.configurableItem.type }"></h1> <a ng-href="{{ $ctrl.configurableItem.itemPageUrl }}" class="btn-secondary-xs btn-more see-all-link-icon" target="_self" ng-bind="\'Label.GoToDetails\' | translate"></a> </div> <item-config-menu ng-if="$ctrl.shouldShowMenu()" active-tab="$ctrl.activeTab" tabs="$ctrl.tabs" configurable-item="$ctrl.configurableItem" switch-tabs="$ctrl.switchTabs"></item-config-menu> <item-config-landing ng-if="$ctrl.activeTab == $ctrl.tabs.general" class="item-configuration-details" ng-class="{\'item-configuration-details-with-list\' : $ctrl.shouldShowMenu()}" item-type="$ctrl.itemType" item-id="$ctrl.itemId" configurable-item="$ctrl.configurableItem" layout="$ctrl.layout" file-upload-info="$ctrl.fileUploadInfo"></item-config-landing> <item-sales ng-if="$ctrl.configurableItem.canBeSold && $ctrl.activeTab == $ctrl.tabs.sales" class="item-configuration-details item-configuration-details-with-list" item-type="$ctrl.itemType" item-id="$ctrl.itemId" item-asset-type="$ctrl.itemAssetType" sales-data="$ctrl.configurableItem.salesData" layout="$ctrl.layout"></item-sales> <asset-versions ng-if="$ctrl.configurableItem.isVersioningEnabled && $ctrl.activeTab == $ctrl.tabs.versions" class="item-configuration-details item-configuration-details-with-list" asset-id="$ctrl.itemId"></asset-versions> </div> '},3367:function(e){e.exports='<form name="priceForm" class="section-content pricing-container"> <div class="pricing-toggle"> <span class="btn-toggle" ng-click="$ctrl.toggleForSale()" ng-class="{ \'on\': $ctrl.salesData.isForSale }"> <span class="toggle-flip"></span> <span class="toggle-on"></span> <span class="toggle-off"></span> </span> <div ng-bind="\'Label.ItemForSale\' | translate"></div> </div> <div class="clearfix border-top item-field-container price-field-container" ng-hide="!$ctrl.showPriceConfig()"> <div class="sale-location-configuration" ng-if="$ctrl.salesLayout.showLocationSelector === true"> <span class="text-label" ng-bind="\'Label.Locations\' | translate"></span> <span class="icon-moreinfo" uib-tooltip="{{\'Description.SaleLocationTooltip\' | translate }}"> </span> <div class="clearfix item-field-container"> <div class="radio"> <input type="radio" name="forSaleInAllPlacesAndAvatarMarketplace" id="for-sale-in-all-places-and-avatar-marketplace" value="{{ $ctrl.salesLayout.saleLocationOptions.allPlacesAndAvatarShop }}" ng-model="$ctrl.salesLayout.saleTargetLocation"/> <label for="for-sale-in-all-places-and-avatar-marketplace" ng-bind="\'Label.AvatarShopAndAllPlaces\' | translate"></label> <br/> <input type="radio" name="forSaleInMyPlacesAndAvatarMarketplace" id="for-sale-in-my-places-and-avatar-marketplace" value="{{ $ctrl.salesLayout.saleLocationOptions.myPlacesAndAvatarShop }}" ng-model="$ctrl.salesLayout.saleTargetLocation"/> <label for="for-sale-in-my-places-and-avatar-marketplace" ng-bind="\'Label.AvatarShopAndMyPlaces\' | translate"></label> <br/> <input type="radio" name="forSaleInAvatarMarketplaceOnly" id="for-sale-in-avatar-marketplace-only" value="{{ $ctrl.salesLayout.saleLocationOptions.avatarShopOnly }}" ng-model="$ctrl.salesLayout.saleTargetLocation"/> <label for="for-sale-in-avatar-marketplace-only" ng-bind="\'Label.AvatarShopOnly\' | translate"></label> <br/> </div> </div> </div> <div class="text-label text-overflow field-label" ng-bind="\'Label.Price\' | translate"></div> <div class="field-content"> <div class="form-group" ng-class="{\'form-has-error form-has-feedback\': $ctrl.isPriceFieldInvalid() }"> <div class="input-group"> <span class="input-addon-icon" ng-class="{ \'icon-robux-16x16\': $ctrl.salesLayout.premiumPricingConfigurationOption !== $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive, \'icon-robux-gray-16x16\': $ctrl.salesLayout.premiumPricingConfigurationOption === $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive }"></span> <input class="form-control input-field" ng-if="$ctrl.salesLayout.premiumPricingConfigurationOption !== $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive" ng-disabled="!$ctrl.salesData.isForSale" type="number" name="itemPrice" placeholder="{{ \'Label.Price\' | translate }}" min="{{ $ctrl.getMinPrice() }}" ng-trim="false" max="{{ $ctrl.salesData.maxPrice }}" ng-change="$ctrl.setSaleStatus()" ng-model="$ctrl.salesData.price" integer/> <input class="form-control input-field" ng-if="$ctrl.salesLayout.premiumPricingConfigurationOption === $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive" disabled="disabled" value="{{ \'Label.PriceNotApplicable\' | translate }}"/> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === false"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCut\' | translate : { creatorCutPercentage: $ctrl.salesLayout.marketplaceCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"> <span ng-class="{ \'icon-robux-16x16\': $ctrl.salesLayout.premiumPricingConfigurationOption !== $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive, \'icon-robux-gray-16x16\': $ctrl.salesLayout.premiumPricingConfigurationOption === $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive }"></span> <span ng-class="{ \'text-robux\' : $ctrl.salesLayout.premiumPricingConfigurationOption !== $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive, \'text\': $ctrl.salesLayout.premiumPricingConfigurationOption === $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive }" ng-bind="$ctrl.getRegularPriceProfit($ctrl.salesData.marketFeeRate) | number : 0"></span> </span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && $ctrl.salesLayout.affiliateMarketplaceCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutAvatarShop\' | translate : { creatorCutPercentage: $ctrl.salesLayout.affiliateMarketplaceCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && ($ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.allPlacesAndAvatarShop || $ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.myPlacesAndAvatarShop) && $ctrl.salesLayout.myPlacesCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutMyPlaces\' | translate : { creatorCutPercentage: $ctrl.salesLayout.myPlacesCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && ($ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.allPlacesAndAvatarShop) && $ctrl.salesLayout.otherPlacesCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutOtherPlaces\' | translate : { creatorCutPercentage: $ctrl.salesLayout.otherPlacesCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> <p class="form-control-label" ng-if="$ctrl.salesData.isForSale" ng-show="priceForm.itemPrice.$error.min" ng-bind="\'Message.MinPriceReminder\' | translate : { minPrice: $ctrl.getMinPrice()}"></p> <p class="form-control-label" ng-if="$ctrl.salesData.isForSale" ng-show="$ctrl.salesData.price <= 0" ng-bind="\'Message.MinPriceReminder\' | translate : { minPrice: $ctrl.getMinPrice()}"></p> <p class="form-control-label" ng-if="$ctrl.salesData.isForSale" ng-show="priceForm.itemPrice.$error.max" ng-bind="\'Message.MaxPriceReminder\' | translate : {maxPrice: $ctrl.salesData.maxPrice}"></p> </div> </div> </div> <div class="premium-pricing-configuration" ng-if="$ctrl.salesLayout.isPremiumPricingEnabled && $ctrl.showPriceConfig()"> <span class="premium-benefits-header" ng-bind="\'Heading.PremiumBenefits\' | translate"></span> <span class="icon-moreinfo" uib-tooltip="{{ \'Description.PremiumBenefitsPrompt\' | translate }}"></span> <div class="clearfix item-field-container"> <div class="radio"> <input type="radio" name="premiumPricingConfigurationOption" id="no-premium-benefit-configuration-option" value="{{ $ctrl.salesLayout.premiumPricingConfigurationOptions.noPremiumBenefits }}" ng-change="$ctrl.initializeNoPremiumBenefitsConfigurationData()" ng-model="$ctrl.salesLayout.premiumPricingConfigurationOption"/> <label for="no-premium-benefit-configuration-option" ng-bind="\'Label.PremiumPriceOption_NoPremiumBenefits\' | translate"></label> <br/> <input type="radio" name="premiumPricingConfigurationOption" id="premium-discount-configuration-option" value="{{ $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumDiscount }}" ng-change="$ctrl.initializePremiumDiscountConfigurationData()" ng-model="$ctrl.salesLayout.premiumPricingConfigurationOption"/> <label for="premium-discount-configuration-option" ng-bind="\'Label.PremiumPriceOption_PremiumDiscount\' | translate"></label> <div class="clearfix premium-discount-configuration" ng-if="$ctrl.salesLayout.premiumPricingConfigurationOption === $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumDiscount"> <div class="item-field-container"> <span class="field-content"> <div class="form-group" ng-class="{\'form-has-error form-has-feedback\': $ctrl.isPremiumDiscountedPriceInvalid() }"> <div class="input-group-btn"> <button type="button" class="input-dropdown-btn" data-toggle="dropdown"> <span class="rbx-selection-label" title="{{ \'Label.SelectPremiumDiscountPercentage\' | translate }}" ng-if="$ctrl.salesData.premiumDiscountPercentage === undefined" ng-bind="\'Label.SelectPremiumDiscountPercentage\' | translate"></span> <span class="rbx-selection-label" title="{{ $ctrl.salesData.premiumDiscountPercentage + \'%\' }}" ng-if="$ctrl.salesData.premiumDiscountPercentage !== undefined" ng-bind="$ctrl.salesData.premiumDiscountPercentage + \'%\'"></span> <span class="icon-down-16x16"></span> </button> <ul data-toggle="dropdown-menu" class="dropdown-menu" role="menu"> <li ng-repeat="discountPercentage in $ctrl.salesData.allowedPremiumDiscountPercentages"> <a ng-click="$ctrl.setPremiumDiscountPercentage(discountPercentage)"> <span class="text-overflow" title="{{ discountPercentage + \'%\' }}" ng-bind="discountPercentage + \'%\'"></span> </a> </li> </ul> </div> <div class="premium-discount-pricing-results" ng-if="$ctrl.salesData.premiumDiscountPercentage !== undefined"> <div class="text-label discounted-premium-price-label" ng-bind="\'Label.PremiumPrice\' | translate"></div> <div class="discounted-premium-price-preview"> <span class="icon-robux-16x16"></span> <span ng-class="{ \'text-robux\' : $ctrl.salesData.isForSale, \'text\': !$ctrl.salesData.isForSale }" ng-bind="$ctrl.getPremiumDiscountedPrice($ctrl.salesData.marketFeeRate) | number : 0"></span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === false"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCut\' | translate : { creatorCutPercentage: $ctrl.salesLayout.marketplaceCreatorCutRate  }"></span> <span class="font-caption-body text creator-cut-value"> <span class="icon-robux-16x16"></span> <span ng-class="{ \'text-robux\' : $ctrl.salesData.isForSale, \'text\': !$ctrl.salesData.isForSale }" ng-bind="$ctrl.getPremiumDiscountedPriceProfit($ctrl.salesData.marketFeeRate) | number : 0"></span> </span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && $ctrl.salesLayout.affiliateMarketplaceCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutAvatarShop\' | translate : { creatorCutPercentage: $ctrl.salesLayout.affiliateMarketplaceCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && ($ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.allPlacesAndAvatarShop || $ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.myPlacesAndAvatarShop) && $ctrl.salesLayout.myPlacesCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutMyPlaces\' | translate : { creatorCutPercentage: $ctrl.salesLayout.myPlacesCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && ($ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.allPlacesAndAvatarShop) && $ctrl.salesLayout.otherPlacesCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutOtherPlaces\' | translate : { creatorCutPercentage: $ctrl.salesLayout.otherPlacesCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> </div> <p class="form-control-label" ng-show="$ctrl.isPremiumDiscountedPriceInvalid()" ng-bind="\'Message.MinPriceReminder\' | translate : { minPrice: $ctrl.salesData.minPremiumPrice}"></p> </div> </span> </div> </div> <br ng-if="$ctrl.salesLayout.premiumPricingConfigurationOption !== $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumDiscount"/> <input type="radio" name="premiumPricingConfigurationOption" id="premium-exclusive-configuration-option" value="{{ $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive }}" ng-change="$ctrl.initializePremiumExclusiveConfigurationData()" ng-model="$ctrl.salesLayout.premiumPricingConfigurationOption"/> <label for="premium-exclusive-configuration-option" ng-bind="\'Label.PremiumPriceOption_PremiumExclusive\' | translate"></label> <div class="clearfix premium-exclusive-configuration price-field-container" ng-if="$ctrl.salesLayout.premiumPricingConfigurationOption === $ctrl.salesLayout.premiumPricingConfigurationOptions.premiumExclusive"> <div class="text-label text-overflow field-label" ng-bind="\'Label.PremiumPrice\' | translate"></div> <div class="field-content"> <div class="form-group" ng-class="{\'form-has-error form-has-feedback\': $ctrl.isPremiumPriceFieldInvalid() }"> <div class="input-group"> <span class="input-addon-icon icon-robux-16x16"></span> <input class="form-control input-field" ng-disabled="!$ctrl.salesData.isForSale" type="number" name="itemPremiumPrice" placeholder="{{ \'Label.PremiumPrice\' | translate }}" min="{{ $ctrl.salesData.minPremiumPrice }}" ng-trim="false" max="{{ $ctrl.salesData.maxPremiumPrice }}" ng-change="$ctrl.setPriceDivision()" ng-model="$ctrl.salesData.premiumPrice" integer/> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === false"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCut\' | translate : { creatorCutPercentage: $ctrl.salesLayout.marketplaceCreatorCutRate  }"></span> <span class="font-caption-body text creator-cut-value"> <span class="icon-robux-16x16"></span> <span ng-class="{ \'text-robux\' : $ctrl.salesData.isForSale, \'text\': !$ctrl.salesData.isForSale }" ng-bind="$ctrl.getPremiumPriceProfit($ctrl.salesData.marketFeeRate) | number : 0"></span> </span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && $ctrl.salesLayout.affiliateMarketplaceCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutAvatarShop\' | translate : { creatorCutPercentage: $ctrl.salesLayout.affiliateMarketplaceCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && ($ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.allPlacesAndAvatarShop || $ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.myPlacesAndAvatarShop) && $ctrl.salesLayout.myPlacesCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutMyPlaces\' | translate : { creatorCutPercentage: $ctrl.salesLayout.myPlacesCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> <div class="clearfix creator-cut-container" ng-if="$ctrl.salesLayout.showLocationSelector === true && ($ctrl.salesLayout.saleTargetLocation === $ctrl.salesLayout.saleLocationOptions.allPlacesAndAvatarShop) && $ctrl.salesLayout.otherPlacesCreatorCutRate !== undefined"> <span class="font-caption-body text creator-cut-label" ng-bind="\'Label.CreatorCutOtherPlaces\' | translate : { creatorCutPercentage: $ctrl.salesLayout.otherPlacesCreatorCutRate }"></span> <span class="font-caption-body text creator-cut-value"></span> </div> <p class="form-control-label" ng-if="$ctrl.salesData.isForSale" ng-show="priceForm.itemPremiumPrice.$error.min" ng-bind="\'Message.MinPriceReminder\' | translate : { minPrice: $ctrl.salesData.minPremiumPrice}"></p> <p class="form-control-label" ng-if="$ctrl.salesData.isForSale" ng-show="priceForm.itemPremiumPrice.$error.max" ng-bind="\'Message.MaxPriceReminder\' | translate : {maxPrice: $ctrl.salesData.maxPremiumPrice}"></p> </div> </div> </div> </div> </div> </div> </form> <div class="btn-group" toggle-loading is-inline="true" is-loading="$ctrl.salesLayout.isLoading"> <button id="submit-button" type="button" class="btn-secondary-md btn-action" ng-click="$ctrl.updatePrice()" ng-disabled="$ctrl.isSaleSaveBtnInvalid()" ng-bind="\'Label.Save\' | translate"></button> </div>'},4465:function(e){e.exports='<div class="clearfix item-field-container"> <div class="text-label text-overflow field-label" ng-bind="\'Label.Tags\' | translate"></div> <div class="field-content item-tags"> <button ng-repeat="itemTag in $ctrl.itemTags" class="btn-secondary-xs item-tag" ng-bind="itemTag.tag.displayName"></button> <span class="cursor-pointer icon-edit" ng-click="$ctrl.showItemTagsModal()"></span> </div> </div>'},5803:function(e){e.exports='<div id="configure-item-tags" class="modal-content configure-item-tags"> <div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span class="icon-close"></span> </button> <div class="modal-title"> <h4 ng-bind="\'Heading.ConfigureItemTags\' | translate"></h4> </div> </div> <div class="modal-body item-tags-container"> <p class="body-text text-description seleted-item-tags" ng-bind="\'Description.SelectItemTags\' | translate: {itemTagLimit: params.maxItemTags}"></p> <div class="input-group-btn item-tags-dropdown" uib-dropdown="" is-open="itemTagLayout.isOpen" keyboard-nav> <input class="input-field item-tags-input" uib-dropdown-toggle="" ng-model="data.selectedKeyword" ng-keyup="searchTags()" ng-disabled="isSearchDisabled()" focus-me="{{itemTagLayout.focusMe}}" placeholder="{{ \'Label.EnterItemTag\' | translate }}"> <ul class="dropdown-menu item-tags-dropdown-menu" uib-dropdown-menu role="menu"> <li ng-show="itemTagLayout.isSearchRequestSending" class="item-tag-loading"><div class="spinner spinner-sm"></div></li> <li ng-hide="itemTagLayout.isSearchRequestSending" ng-repeat="itemTag in data.searchResults"> <a href="#" ng-bind="itemTag.displayName" ng-click="addItemTag(itemTag)"></a> </li> </ul> </div> <div class="item-tags"> <button ng-repeat="itemTag in params.itemTags" class="btn-secondary-xs item-tag"> <span ng-bind="itemTag.tag.displayName"></span> <span class="icon-close" ng-click="deleteItemTag(itemTag.id, $index)"></span> </button> </div> </div> <div class="modal-buttons"> <button type="button" class="modal-button btn-secondary-md" ng-click="close()" ng-bind="\'Action.OK\' | translate"></button> </div> </div>'},9332:function(){},792:function(e){"use strict";e.exports=Roblox},5734:function(e){"use strict";e.exports=angular}},i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{}};return a[e](t,t.exports,r),t.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=r(5734),t=r.n(e),a=r(726),e=r(9332),i=r(4754);(0,a.importFilesUnderPath)(r(7710)),(0,a.importFilesUnderPath)(r(955)),(0,a.importFilesUnderPath)(r(2074)),(0,a.importFilesUnderPath)(r(9736));var e=r(3463),n=(0,a.templateCacheGenerator)(t(),"itemConfigurationAppTemplates",e);t().element(function(){t().bootstrap("#asset-config",[i.Z.name,n.name])})}()}();
//# sourceMappingURL=/rbxcdn/js/9b4b81ab1df4fbf4f4ed-itemConfiguration.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("ItemConfiguration");